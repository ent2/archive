!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/builds/",r(r.s=1366)}({1084:function(e,t,r){"use strict";r.r(t);var n=r(6),o=r.n(n);function u(e,t,r,n,o,u,a){try{var c=e[u](a),i=c.value}catch(e){return void r(e)}c.done?t(i):Promise.resolve(i).then(n,o)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){u(a,n,o,c,i,"next",e)}function i(e){u(a,n,o,c,i,"throw",e)}c(void 0)}))}}angular.module("mean.index").controller("PersonalController",["$scope","$routeParams","$location","$uibModal","$http","Global","Projects","Comments","$cookies","$q","$rootScope","util",function(e,t,r,n,u,c,i,s,l,p,d,g){var m,f;e.global=c,e.checkList={samePassword:!1,password:!1,passwordLength:!1},e.email="",e.isEmailSend=!1,e.isEmailAuth=!1,e.studying_stages=EntryStatic.lectureGrades,e.addGroupId=!1,e.agreeTermBox=!1,e.terms=!1,e.isStudent=c.isStudent(),e.isMember=c.isMember(),e.showShareGrade=!1,e.mode="normal",e.deleteAccountAgree=!1,e.user=window.user,e.userInput={password:""},e.neoid={},e.neoidOrg={},e.sendEmailList=[],e.changeMode=function(t){e.mode=t};var h=c.user;function v(e,t){0==e?$(t).css("border-color","red"):$(t).css("border-color","#808080")}e.init=function(){window.user||(location.href="/"),u({method:"GET",url:"/api/user/neoidprofile"}).success((function(t,r){e.neoid=t,e.neoidOrg=JSON.parse(JSON.stringify(t)),e.initAfter(t)})).error((function(t){console.log("error=",t),e.initAfter()}))},e.initAfter=function(t){e.userId=e.global.user._id;var r=window.location.hash.split("=");if(!Object.prototype.hasOwnProperty(h)&&r[0].indexOf("reload")>-1&&"true"==r[1]&&(window.location.href="/#!/personal",window.location.reload()),f=h.isEmailSend||!0,m=h.isEmailAuth||!0,e.email=e.neoid.EMAIL,h&&e.isStudent){var n="/api/student/user/".concat(e.userId);u({method:"GET",url:n}).success((function(t,r){e.student=t,u({method:"GET",url:"/api/group/".concat(e.student.group)}).success((function(t,r){e.groupName=t.name})).error((function(e,t){console.log("err",e)}))})).error((function(e,t){console.log("err",e)}))}},e.deleteAccount=function(){var t=$("#latestPassword2").val();if(!t||t.length<=0)return jQuery("#latestPassword2")[0].style.borderColor="red",void(jQuery(".latestPassword2Text2")[0].style.display="block");jQuery("#latestPassword2")[0].style.borderColor="block",jQuery(".latestPassword2Text2")[0].style.display="none",e.checkList.password&&(e.deleteAccountAgree?u.put("/api/users/expire/".concat(window.user._id),null,{headers:{"csrf-token":c.csrfToken()}}).success((function(e,t){window.location.hash="successWithdraw",window.location.reload()})).error((function(e,t){console.log(e)})):jQuery("#deleteAccountAgreeText")[0].style.display="block")},e.emailAuth=function(){var t=jQuery("#personalEmail").val(),r="/emailAuth/".concat(window.user._id),n={sendEmail:t},o=!1;t.indexOf("********@")>-1?o=!0:e.sendEmailList.push(t),e.checkEmailDup().then((function(){return e.checkList.emailDup?(e.emailRegExp=g.isValidEmail(t),o&&(e.emailRegExp=!0,n.sendEmail=null),e.emailRegExp?void u.post(r,n,{headers:{"csrf-token":c.csrfToken()}}).success((function(t,r){e.isEmailSend=!0,entrylms.alert("".concat(Lang.Menus.signUpEmail_1,"\n").concat(Lang.Menus.signUpEmail_2))})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected_10):entrylms.alert(Lang.Msgs.error_occured)})):(v(!0,"#personalEmail"),void entrylms.alert(Lang.Menus.check_email))):(entrylms.alert(Lang.Menus.already_exist_email),v(!1,"#personalEmail"),void $("#personalEmail").select())}))},e.checkEmail=function(){var t=jQuery("#personalEmail").val(),r=e.user;e.neoidOrg.EMAIL==t?(e.isEmailAuth=m,e.isEmailSend=f):(e.isEmailAuth=!1,e.isEmailSend=e.sendEmailList&&e.sendEmailList.indexOf(t)>-1),t?(r.isEmailSend&&!r.isEmailAuth&&($(".emailExample")[0].style.display="block"),e.neoid.EMAIL!=e.neoidOrg.EMAIL&&e.checkEmailDup().then((function(){return e.emailRegExp=g.isValidEmail(t),$(".emailExampleInvalid")[0].style.display="none",$(".emailExampleDup")[0].style.display="none",e.emailRegExp?e.checkList.emailDup?void 0:(v(!1,"#personalEmail"),$(".emailExampleDup")[0].style.display="block",$(".emailExample")[0].style.display="none",void $("#personalEmail").select()):(v(!1,"#personalEmail"),$(".emailExampleInvalid")[0].style.display="block",$(".emailExample")[0].style.display="none",void $("#personalEmail").select())}))):v(!0,"#personalEmail")},e.checkEmailAuth=function(){var t=jQuery("#personalEmail").val();return""!=t&&!!window.user&&(e.neoid.EMAIL==t&&window.user.isEmailAuth?(e.isEmailAuth=!0,e.isEmailSend=!0,!0):(e.isEmailAuth=!1,!1))},e.checkEmailReg=function(){v(!0,"#personalEmail");var t=$("#personalEmail").val();return e.emailVal=!0,e.emailRegExp=g.isValidEmail(t),!!e.emailRegExp||(v(!0,"#personalEmail"),entrylms.alert(Lang.Menus.check_email),!1)},e.checkEmailDup=function(){return new Promise((function(t){var r=$("#personalEmail").val();""==r?(e.checkList.emailDup=!0,t(r)):u({method:"GET",url:"/api/checkEmailDup/".concat(r).concat("?forUpdate=true")}).success((function(n,o){"exist"==n.isExist?(v(!1,"#personalEmail"),e.checkList.emailDup=!1,$("#personalEmail").select()):(v(!0,"#personalEmail"),e.checkList.emailDup=!0),t(r)})).error((function(n,o){e.data="0",e.status=o,v(!1,"#personalEmail"),$("#personalEmail").select(),t(r)}))}))},e.onChangePasswordField=function(e){v(!0,"#".concat(e));var t=$(".".concat(e,"Text")),r=$(".".concat(e,"Text2"));t.css("display","none"),r.css("display","none")},e.checkPassword=function(t){var r=t||(e.isStudent?"studentCurrentPwd":"currentPwd"),n=$(".".concat(r,"Text")),o=$(".".concat(r,"Text2")),a=e.userInput.password;return a&&""!=a.trim()?(v(!0,"#".concat(r)),n.css("display","none"),o.css("display","none"),new Promise((function(t){u.post("/api/user/verify",{username:window.user.username,password:a},{headers:{"csrf-token":c.csrfToken()}}).success((function(u,a){e.password_invalid=!1,e.checkList.password=!0,v(!0,"#".concat(r)),n.css("display","none"),o.css("display","none"),t(!0)})).error((function(o){e.password_invalid=!0,e.checkList.password=!1,v(!1,"#".concat(r)),n.text(Lang.Menus.incorrect_password),n.css("display","block"),t(!1)}))}))):(v(!1,"#".concat(r)),n.text(Lang.Menus.enterPassword_update),n.css("display","block"),!1)},e.checkPasswordLength=function(t){var r=t.target,n=r.id,o=r.value;e.password1=r;var u=$("#currentPwd2").val();return o.length<5?(v(!1,"#".concat(n)),$(".".concat(n,"Text1")).css("display","block"),void(e.isStudent&&(entrylms.alert(Lang.Menus.validation_password),v(!1,"#StudentPersonalPassword1"),$("#StudentPersonalPassword1").select()))):(v(!0,"#".concat(n)),$(".".concat(n,"Text1")).css("display","none"),u==o?(v(!1,"#".concat(n)),void $(".".concat(n,"Text2")).css("display","block")):(v(!0,"#".concat(n)),$(".".concat(n,"Text2")).css("display","none"),o?(v(!0,"#".concat(n)),$(".".concat(n,"Text")).css("display","none")):(v(!1,"#".concat(n)),$(".".concat(n,"Text")).css("display","block")),void(e.checkList.passwordLength=!0)))},e.convertLanguage=function(e){return"ko"==e?"한국어":"vn"==e?"베트남어":"en"==e?"영어":void 0},e.checkPasswordIsSame=function(t,r){if(t){var n=t.target;e.password2=n[0];var o=n.id,u=n.value,a=(e.password1.id,$("#".concat(r)).val());if(!u)return v(!0,"#".concat(o)),$(".".concat(a,"Text2")).css("display","block"),void(e.checkList.samePassword=!1);if(v(!0,"#".concat(o)),$(".".concat(a,"Text2")).css("display","none"),a===u)return e.checkList.samePassword=!0,v(!0,"#".concat(o)),$(".".concat(o,"Text3")).css("display","none"),void(e.checkList.samePassword=!1);v(!1,"#".concat(o)),$(".".concat(o,"Text3")).css("display","block")}},e.reverseTemrs=function(){e.checkList.terms=!e.checkList.terms},e.checkAll=a(o.a.mark((function t(){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("male"==e.neoid.GENDER||"female"==e.neoid.GENDER){t.next=2;break}return t.abrupt("return",entrylms.alert(Lang.Menus.insert_gender));case 2:if(r=$("#personalEmail").val(),e.neoid.GENDER!=e.neoidOrg.GENDER||r!=e.neoidOrg.EMAIL||e.neoid.GRADE!=e.neoidOrg.GRADE){t.next=6;break}return entrylms.alert(Lang.Menus.alert_enter_info),t.abrupt("return");case 6:return E(),t.next=9,e.checkPassword();case 9:if(t.sent){t.next=11;break}return t.abrupt("return");case 11:if(!e.isStudent){t.next=13;break}return t.abrupt("return",b());case 13:e.neoid.EMAIL=r,r.trim().length>0&&r.trim()!=e.neoidOrg.EMAIL?e.checkEmailReg()&&e.checkEmailDup().then((function(){if(!e.checkList.emailDup&&window.user.email!=r)return entrylms.alert(Lang.Menus.already_exist_email),v(!1,"#personalEmail"),void $("#personalEmail").select();v(!0,"#personalEmail"),e.email=$("#personalEmail").val(),b()})):(e.email="",b());case 15:case"end":return t.stop()}}),t)})));var E=function(){v(!0,"#currentPwd"),v(!0,"#StudentPersonalPassword1"),v(!0,"#StudentpersonalPassword2")};e.showAddGroup=function(){e.addGroupId=!0},e.changePassword=a(o.a.mark((function t(){var r,n,a,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=$("#currentPwd2"),n=r.val(),r&&n&&0!==n&&""!=n){t.next=6;break}return v(!1,"#currentPwd2"),$(".currentPwd2Text2").css("display","block"),t.abrupt("return");case 6:if(a=e.userInput.password,i=$("#PersonalPassword1").val(),s=$("#personalPassword2").val(),""!=i.trim()){t.next=15;break}return v(!1,"#PersonalPassword1"),$(".PersonalPassword1Text").css("display","block"),t.abrupt("return");case 15:if(i==s){t.next=21;break}return v(!1,"#personalPassword2"),$(".personalPassword2Text3").css("display","block"),t.abrupt("return");case 21:v(!0,"#personalPassword2"),$(".personalPassword2Text3").css("display","none");case 23:if(!e.password1||a!==e.password1.value){t.next=27;break}return v(!1,"#".concat(e.password1.id)),$("#".concat(e.password1.id)).select(),t.abrupt("return");case 27:return t.next=29,e.checkPassword("currentPwd2");case 29:if(t.sent){t.next=31;break}return t.abrupt("return");case 31:u.post("/cp",{username:window.user.username,password:a,newPassword:i,originPassword:n},{headers:{"csrf-token":c.csrfToken()}}).success((function(e,t){entrylms.alert(Lang.Menus.alert_update_complete).on("hide",(function(){window.location.href="/"}))})).error((function(e,t){return"501"==t?entrylms.alert(Lang.Menus.password_validate_pwd_length):entrylms.alert(Lang.Menus.error_try_again)}));case 32:case"end":return t.stop()}}),t)})));var b=function(){var t;$(".fixed_cover").addClass("fixed_cover_on"),t=e.isStudent?{sex:e.neoid.GENDER}:{sex:e.neoid.GENDER,email:e.neoid.EMAIL,grade:e.neoid.GRADE,isEmailSend:e.isEmailSend,isEmailAuth:e.isEmailAuth},u.post("/api/users/update",t,{headers:{"csrf-token":c.csrfToken()}}).success((function(){entrylms.alert(Lang.Menus.alert_update_complete).on("hide",(function(){window.location.href="/"}))})).finally((function(){$(".fixed_cover").removeClass("fixed_cover_on")}))};e.addGroupPopupClose=function(){var t=$(".addGroupId"),r=$(".addGroupPassword");v(!0,t),v(!0,r),t.val(""),r.val(""),e.addGroupId=!1},e.hidePopup=function(){e.agreeTermBox=!1,e.terms=!1},e.showPopup=function(t,r,n){e.popupMode={},e.popupMode.show=t,e.popupMode.hide=r,e.popupMode.params=n},e.reverseTerms=function(){e.terms=!e.terms},e.confirmPopup=function(t){if(e.terms){var r=e.popupMode.params;e.popupMode.hide&&e[e.popupMode.hide](r),t||(e.popupMode={})}else entrylms.alert(Lang.Menus.agree_class_policy)},e.studentTermByGroupId=function(){e.updateStudentTerm(),e.addGroupIdSave()},e.addGroupIdSave=function(){var t=$(".addGroupId"),r=$(".addGroupPassword");if(v(!0,t),v(!0,r),!t.val())return entrylms.alert(Lang.Menus.enter_group_id),void v(!1,t);if(!r.val())return entrylms.alert(Lang.Menus.enter_group_pwd),void v(!1,r);var n={username:t.val(),password:r.val()};u.put("/api/student/user/".concat(e.userId),n,{headers:{"csrf-token":c.csrfToken()}}).success((function(n,o){e.addGroupId=!1,e.terms=!1,t.val(""),r.val(""),u.get("/api/user/studentTerm/".concat(e.global.user.username)).success((function(t){e.addGroupId=!1,t.studentTerm||(e.agreeTermBox=!0),window.user.primaryGroup?entrylms.alert(Lang.Menus.info_added).on("hide",(function(){window.location.href="/".concat(window.user.username,"#!/group")})):u.post("/api/users/setMemPrimaryGroup",{userId:e.global.user._id,primaryGroup:n.group},{headers:{"csrf-token":c.csrfToken()}}).success((function(e,t){d.$broadcast("changePrimaryGroup"),entrylms.alert(Lang.Menus.info_added).on("hide",(function(){window.location.href="/".concat(window.user.username,"#!/group")}))})).error((function(e,t){entrylms.alert(Lang.Menus.info_added).on("hide",(function(){window.location.href="/".concat(window.user.username,"#!/group")}))}))}))})).error((function(n,o){404==o&&(entrylms.alert(Lang.Menus.class_id_not_exist),v(!1,t)),500==o&&(entrylms.alert(Lang.Menus.incorrect_password),v(!1,r)),501==o&&(entrylms.alert(Lang.Menus.already_exist_group),v(!1,r)),502==o&&(entrylms.alert(Lang.Menus.error_try_again),v(!1,r)),504==o&&(e.showPopup("agreeTermBox","studentTermByGroupId"),e.agreeTermBox=!0,e.onSaving=!0)}))},e.reverseTerms=function(){e.terms=!e.terms},e.updateStudentTerm=function(){e.terms?u.put("/api/user/updateStudentTerm",{email:e.global.user.username},{headers:{"csrf-token":c.csrfToken()}}).then((function(t){e.agreeTermBox=!1,e.onSaving?e.addGroupIdSave():window.location.reload()}),(function(e){console.log(e)})):entrylms.alert(Lang.Menus.agree_class_policy)},e.isLang=function(e){var t=l.get("lang");return null==t&&(t="ko"),t===e},e.toggleAddGroup=function(){e.addGroupId=!e.addGroupId}}])},1093:function(e,t,r){"use strict";angular.module("mean.study").factory("Lectures",["$resource","Global",function(e,t){return e("/api/lecture/:lectureId",{lectureId:"@_id"},{update:{method:"PUT",headers:{"csrf-token":t.csrfToken()}},remove:{method:"DELETE",headers:{"csrf-token":t.csrfToken()}},get:{method:"GET",cache:!1,headers:{"csrf-token":t.csrfToken()}}})}])},1094:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},1104:function(e,t){angular.module("mean.study").controller("LecturesModalController",["$scope","$uibModalInstance","Global","$http","$sce","selectedCount",function(e,t,r,n,o,u){function a(){for(var t in e.lectureList)e.lectureList[t].isForCourse&&r.isLectureStaticThumb(e.lectureList[t])&&(e.lectureList[t].staticThumb=!0)}e.global=r,e.userId=r.user._id,e.lectureList=[],e.selectedLectures=[],e.global=r,e.timestamp=(new Date).getTime(),e.selectedView="myLectures",e.selectedPosition=6,e.categories=EntryStatic.categoryList,e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:Lang.Menus.latest},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:6},{name:"page",value:1},{name:"title",value:""},{name:"isOwner",value:!0},{name:"user",value:e.userId}],e.status={isCategoryOpen:!1,isSortOpen:!1,isPeriodOpen:!1},e.selectedPage=0,e.selectedSlots=[[1,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18],[19,20,21,22,23,24,25,26,27],[28,29,30]],e.selectedSlotBack=function(){e.selectedPage>0&&(e.selectedPage=e.selectedPage-1)},e.selectedSlotNext=function(){e.selectedPage<3&&(e.selectedPage=e.selectedPage+1)},e.init=function(){e.selectedCount=u,e.conditions.push({name:"type",value:"lecture"}),e.conditions.push({name:"isopen",value:"",label:"공개/비공개 모두"}),e.selectView("myLectures"),e.applyImages(),e.countFavorite()},e.selectView=function(t){e.selectedView=t,e.setOption({page:1},!0)},e.find=function(){if("myLectures"===e.selectedView){var t="/api/lecture/find?isOpen=false&parent=null&"+c();n({method:"GET",url:t}).success((function(t,r){for(var n in e.lectureList=t,e.lectureList){var o=e.lectureList[n];for(var u in e.selectedLectures){var c=e.selectedLectures[u];if(o._id===c._id){e.lectureList[n].selected=!0;break}}e.lectureList[n].selected||(e.lectureList[n].selected=!1)}a()})).error((function(t,r){e.status=r,console.log("error:",r)})),e.countLectures()}else"favorite"===e.selectedView&&(t="/api/user/favorites/"+e.userId+"?full=y&"+c(),n({method:"GET",url:t,params:{targetSubject:"lecture"}}).success((function(t){for(var r in e.lectureList=t,e.lectureList){var n=e.lectureList[r];for(var o in e.selectedLectures){var u=e.selectedLectures[o];if(n._id===u._id){e.lectureList[r].selected=!0;break}}e.lectureList[r].selected||(e.lectureList[r].selected=!1),a()}})).error((function(t,r){e.status=r})),e.countFavorite())},e.countLectures=function(){var t="/api/lecture/count?isOpen=false&parent=null&"+c();n({method:"GET",url:t}).success((function(t,r){!e.lectureCount&&t.count>0&&(e.lectureCountAll=t.count),e.lectureCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.countFavorite=function(){var t="/api/user/favoritesCount/"+e.userId+"?"+c();n({method:"GET",url:t,params:{targetSubject:"lecture"}}).success((function(t,r){!e.favoriteCount&&t.count>0&&(e.favoriteCountAll=t.count),e.favoriteCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]},e.addOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}};var c=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$("#lectureSearchInput").val();e.addOption({name:"type",value:"mine"}),e.setOption({name:"title",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setOption({name:"page",value:t-1}):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setOption({name:"page",value:t+1}):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.showThumbnail=function(e){return e.staticThumb?r.staticLectureThumbnail(e,"S"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.selectLecture=function(t){var r=e.lectureList[t];if(r.selected){for(var n in e.selectedLectures)e.selectedLectures[n]._id===r._id&&e.selectedLectures.splice(n,1);e.lectureList[t].selected=!r.selected,e.selectedCount--}else 30==e.selectedCount?entrylms.alert(Lang.Menus.course_build_desc_1+" "+Lang.Menus.course_build_desc_2+" "+Lang.Menus.course_build_desc_3):(e.selectedLectures.push(r),e.selectedCount++,e.lectureList[t].selected=!r.selected)},e.checkSelectedSlot=function(t){return!!e.selectedLectures[t]},e.getSelectedSlot=function(t){return e.selectedLectures[t]||t},e.cancel=function(){t.dismiss("cancel")},e.ok=function(r){if(e.selectedLectures.length>30)return entrylms.alert(Lang.Menus.course_build_desc_1+" "+Lang.Menus.course_build_desc_2+" "+Lang.Menus.course_build_desc_3),!1;t.close({selectedItem:e.selectedLectures})}}])},1105:function(e,t){angular.module("mean.study").controller("CurriculumListModalController",["$scope","openAreaOption","$uibModalInstance","Global","$http","$sce",function(e,t,r,n,o,u){function a(e){for(var t in e)if(e[t].quiz)return!0;return!1}e.global=n,e.userId=n.user._id,e.area=t,e.curriculumList=[],e.selectedCurriculums=[],e.global=n,e.timestamp=(new Date).getTime(),e.selectedView="myLectures",e.selectedPosition=6,e.categories=EntryStatic.categoryList,e.status={isSortOpen:!1,isPeriodOpen:!1},e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:Lang.Menus.latest},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:6},{name:"page",value:1},{name:"title",value:""},{name:"target",value:"mine"},{name:"isOwner",value:!0},{name:"user",value:e.userId}],e.selectedPage=0,e.selectedSlots=[[1,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18],[19,20,21,22,23,24,25,26,27],[28,29,30]],e.selectedSlotBack=function(){e.selectedPage>0&&(e.selectedPage=e.selectedPage-1)},e.selectedSlotNext=function(){e.selectedPage<3&&(e.selectedPage=e.selectedPage+1)},e.init=function(){e.conditions.push({name:"type",value:"curriculum"}),e.selectView("myLectures"),e.applyImages()},e.selectView=function(t){e.selectedView=t,e.setOption({page:1},!0)},e.find=function(){e.curriculumList=[];var t="/api/curriculum/find?isOpen=false&parent=null&"+c();o({method:"GET",url:t}).success((function(t,r){e.curriculumList=t;for(var n=0;n<e.curriculumList.length;n++){var o=e.curriculumList[n];for(var u in e.curriculumList[n].quiz=a(o.lectures),e.selectedCurriculums){var c=e.selectedCurriculums[u];if(o._id===c._id){e.curriculumList[n].selected=!0;break}}e.curriculumList[n].selected||(e.curriculumList[n].selected=!1)}})).error((function(t,r){e.status=r,console.log("error:",r)})),e.countCurriculums()},e.countCurriculums=function(){var t="/api/curriculum/count?isOpen=false&parent=null&"+c();o({method:"GET",url:t}).success((function(t,r){e.curriculumCount=t.count,e.generatePageList(),e.curriculumCountAll||(e.curriculumCountAll=t.count)})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myLectures"==e.selectedView?e.curriculumCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myLectures"==e.selectedView?e.curriculumCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]};var c=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$("#lectureSearchInput").val();e.setOption({name:"title",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setOption({name:"page",value:t-1}):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myLectures"===e.selectedView?Math.ceil(e.curriculumCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setOption({name:"page",value:t+1}):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myLectures"===e.selectedView?Math.ceil(e.curriculumCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.selectCurriculum=function(t){var r=e.curriculumList[t];if(r.selected){for(var n in e.selectedCurriculums)if(e.selectedCurriculums[n]._id===r._id){e.selectedCurriculums.splice(n,1);break}}else e.selectedCurriculums.push(r);e.curriculumList[t].selected=!r.selected},e.isSelected=function(t){return e.selectedCurriculums.indexOf(t)>-1},e.checkSelectedSlot=function(t){return!!e.selectedCurriculums[t]},e.getSelectedSlot=function(t){return e.selectedCurriculums[t]||t},e.getLectureThumbnail=function(e){var t=e.lectures[0];return n.isLectureStaticThumb(t)?n.staticLectureThumbnail(t,"S"):"done"===t.preview&&t.doneProject?{"background-image":"url('"+t.doneProject.thumb+"')"}:"video"===t.preview&&t.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+t.youtubeHash+"/mqdefault.jpg')"}:t.basicProject&&t.basicProject.thumb?{"background-image":"url('"+t.basicProject.thumb+"')"}:{}},e.cancel=function(){r.dismiss("cancel")},e.ok=function(t){r.close({selectedItem:e.selectedCurriculums})}}])},1106:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupCurriculumsModalController",["$scope","$uibModalInstance","Global","$http","$sce","exCurriculumGroup",function(e,t,r,n,o,u){function a(e){for(var t in e)if(e[t].quiz)return!0;return!1}e.global=r,e.userId=r.user._id,e.curriculumList=[],e.selectedCurriculums=[],e.curriculumCount=!0,e.timestamp=(new Date).getTime(),e.selectedView="myCurriculum",e.categories=EntryStatic.categoryList,e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:Lang.Menus.latest},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:6},{name:"page",value:1},{name:"title",value:""},{name:"groupList",value:e.exCurriculumList},{name:"user",value:e.userId},{name:"isOwner",value:!0},{name:"notInGroup",value:u}],e.selectedPage=0,e.selectedSlots=[[1,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18],[19,20,21,22,23,24,25,26,27],[28,29,30]],e.status={isSortOpen:!1,isPeriodOpen:!1},e.goToMakeCurriculum=function(){t.dismiss("cancel"),window.location.href="/tt#!/custom/curriculum/build"},e.goToCurriculumList=function(){t.dismiss("cancel"),window.location.href="/tt#!/custom/curriculum/list"},e.selectedSlotBack=function(){e.selectedPage>0&&(e.selectedPage=e.selectedPage-1)},e.selectedSlotNext=function(){e.selectedPage<3&&(e.selectedPage=e.selectedPage+1)},e.init=function(){e.conditions.push({name:"type",value:"curriculum"}),e.conditions.push({name:"target",value:"group"}),e.selectView("myCurriculums"),e.applyImages(),e.countFavorite()},e.selectView=function(t){e.selectedView=t,e.setOption({page:1},!0)},e.find=function(){if("myCurriculums"===e.selectedView){var t="/api/curriculum/find?isOpen=false&parent=null&"+c();n({method:"GET",url:t}).success((function(t,r){for(var n in e.countDiff=0,t)for(var o in e.exCurriculumList)e.exCurriculumList[o]._id==t[n]._id&&(t.splice(n,1),e.countDiff+=1);for(e.curriculumList=t,n=0;n<e.curriculumList.length;n++){var u=e.curriculumList[n];for(var o in e.curriculumList[n].quiz=a(u.lectures),e.selectedCurriculums){var c=e.selectedCurriculums[o];if(u._id===c._id){e.curriculumList[n].selected=!0;break}}}e.countCurriculums()})).error((function(t,r){e.status=r,console.log("error:",r)}))}else"favorite"===e.selectedView&&(t="/api/user/favorites/"+e.userId+"?full=y&"+c(),n({method:"GET",url:t,params:{targetType:"individual",targetSubject:"curriculum"}}).success((function(t){e.curriculumList=t;for(var r=0;r<e.curriculumList.length;r++){var n=e.curriculumList[r];for(var o in e.curriculumList[r].quiz=a(n.lectures),e.selectedCurriculums){var u=e.selectedCurriculums[o];if(n._id===u._id){e.curriculumList[r].selected=!0;break}}}})).error((function(t,r){e.status=r})),e.countFavorite())},e.countCurriculums=function(){var t="/api/curriculum/count?isOpen=false&parent=null&"+c();n({method:"GET",url:t}).success((function(t,r){!e.curriculumCount&&t.count>0&&(e.curriculumCountAll=t.count),e.curriculumCount=t.count-e.countDiff,e.generatePageList()})).error((function(t,r){e.status=r}))},e.countFavorite=function(){var t="/api/user/favoritesCount/"+e.userId+"?"+c();n({method:"GET",url:t,params:{targetType:"individual",targetSubject:"curriculum"}}).success((function(t,r){!e.favoriteCount&&t.count>0&&(e.favoriteCountAll=t.count),e.favoriteCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myCurriculums"==e.selectedView?e.curriculumCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myCurriculum"==e.selectedView?e.curriculumCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]};var c=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$("#gmcurriculumProjectSearchInput").val();e.setOption({name:"title",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setOption({name:"page",value:t-1}):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myCurriculums"===e.selectedView?Math.ceil(e.curriculumCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setOption({name:"page",value:t+1}):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myCurriculums"===e.selectedView?Math.ceil(e.curriculumCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.getLectureThumbnail=function(e){var t=e.lectures[0];return r.isLectureStaticThumb(t)?r.staticLectureThumbnail(t,"S"):"done"===t.preview&&t.doneProject?{"background-image":"url('"+t.doneProject.thumb+"')"}:"video"===t.preview&&t.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+t.youtubeHash+"/mqdefault.jpg')"}:t.basicProject&&t.basicProject.thumb?{"background-image":"url('"+t.basicProject.thumb+"')"}:{}},e.selectCurriculum=function(t){var r=e.curriculumList[t];if(r.selected){for(var n in e.selectedCurriculums)if(e.selectedCurriculums[n]._id===r._id){e.selectedCurriculums.splice(n,1);break}}else e.selectedCurriculums.push(r);e.curriculumList[t].selected=!r.selected},e.isSelected=function(t){return e.selectedCurriculums.indexOf(t)>-1},e.checkSelectedSlot=function(t){return!!e.selectedCurriculums[t]},e.getSelectedSlot=function(t){return e.selectedCurriculums[t]||t},e.cancel=function(){t.dismiss("cancel")},e.ok=function(r){t.close({selectedItem:e.selectedCurriculums})}}])},1366:function(e,t,r){r(268),r(322),r(1367),r(292),r(1093),r(1368),r(1369),r(269),r(658),r(1084),r(665),r(1371),r(1372),r(1375),r(1376),r(1104),r(1105),r(1377),r(1378),r(1379),r(1104),r(1105),r(1106),r(1380),r(1381),r(1382),r(1383),r(1384),r(1106),r(1385),r(1386),r(1387),r(1388),r(1389),r(1390),r(1391),r(1392),r(1393),r(1394),r(1395),r(1396),r(1397),r(1398),r(1399),r(293),r(1400)},1367:function(e,t,r){"use strict";angular.module("mean.study").factory("mazeStatus",["$rootScope","$timeout","$http","Global",function(e,t,r,n){var o=[{playMode:1,subject:Lang.Menus.sequential+", "+Lang.Menus.repeat,title:Lang.Menus.entrybot_school,desc1:Lang.Menus.entrybot_school_desc_1,desc2:Lang.Menus.entrybot_school_desc_2,path:"/study/maze#!/1/",level:1},{playMode:2,subject:Lang.Menus.sequential+", "+Lang.Menus.repeat,title:Lang.Menus.robot_factory,desc1:Lang.Menus.robot_factory_desc_1,desc2:Lang.Menus.robot_factory_desc_2,path:"/study/maze#!/2/",level:1},{playMode:3,subject:Lang.Menus.sequential+", "+Lang.Menus.repeat+", "+Lang.Menus.choice,title:Lang.Menus.electric_car,desc1:Lang.Menus.electric_car_desc_1,desc2:Lang.Menus.electric_car_desc_2,path:"/study/maze#!/3/",level:2},{playMode:5,subject:Lang.Menus.sequential+", "+Lang.Menus.repeat+", "+Lang.Menus.choice,title:Lang.Menus.forest_adventure,desc1:Lang.Menus.forest_adventure_desc_1,desc2:Lang.Menus.forest_adventure_desc_2,path:"/study/maze#!/5/",level:2},{playMode:6,subject:Lang.Menus.sequential+", "+Lang.Menus.function,title:Lang.Menus.town_adventure,desc1:Lang.Menus.town_adventure_desc_1,desc2:Lang.Menus.town_adventure_desc_2,path:"/study/maze#!/6/",level:3},{playMode:4,subject:Lang.Menus.sequential+", "+Lang.Menus.repeat+", "+Lang.Menus.choice+", "+Lang.Menus.compare_operation,title:Lang.Menus.space_trip,desc1:Lang.Menus.space_trip_desc_1,desc2:Lang.Menus.space_trip_desc_2,path:"/study/maze#!/4/",level:3}],u=[{playmode:1,stages:15,last:0},{playmode:2,stages:12,last:0},{playmode:3,stages:10,last:0},{playmode:4,stages:10,last:0},{playmode:5,stages:8,last:0},{playmode:6,stages:6,last:0}];function a(e){e&&console.log("errorStack=",e.stack)}return{getNextStage:function(e,t){var r=t-1,n=e[r]+1||1,o=u[r].stages;return Math.min(o,n)||1},getStages:function(){return u},getMazeData:function(e){var t=this;this.getLastStages((function(r){o.forEach((function(e){e.path+=t.getNextStage(r,e.playMode)})),e(o)}))},getLastStages:function(e){var t=n.user;if(!t||!t._id){var o=u.map((function(e){return e.last}));return e(o)}r.get("/api/study/mazestatus/"+t._id).success((function(t){e(t.lastStages)})).error(a)},savelastStages:function(e){var t=n.user;t&&t._id&&r.put("/api/study/mazestatus/"+t._id,{lastStages:e},{headers:{"csrf-token":n.csrfToken()}}).success((function(e){})).error(a)}}}])},1368:function(e,t,r){"use strict";angular.module("mean.study").factory("Recommends",(function(){return{getIds:function(){return["59018df41f4f9d9b391c59d7","591eb93dc6b3897b06886121","5a39e99513e41c26deec9190","591ea4ca0af1623767b8dd01"]},getIdsMonthly:function(){return["573ebc556e80670bac79b457","573ebdfbb8100f7940ea9e8b","573ebf7499dc7461039cc4e9","5756cbe30f6a82513e2f4c0a","5756d01645406e873e06ff52"]}}}))},1369:function(e,t,r){var n=r(505),o=r(1370);angular.module("mean.study").factory("Downloader",(function(){return{downloadFile:function(e,t){n({method:"get",url:e,responseType:"blob"}).then((function(t){var r=e.split("/");o(t.data,decodeURI(r[r.length-1]))})).catch((function(e){var t=e.response;t?404===t.status?entrylms.alert("파일을 찾을 수 없습니다."):403===t.status&&entrylms.alert("이 파일은 악성코드가 포함되어 있을 수 있어 일시적으로 다운로드를 제한합니다.\n다운로드를 원하시는 경우 엔트리 대표 메일을 통해 문의해 주세요."):(console.error(e),entrylms.alert("일시적으로 다운로드에 문제가 있습니다. 잠시 후 다시 시도해주세요."))}))}}}))},1370:function(e,t,r){(function(r){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";function t(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){a(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var u="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r&&r.global===r?r:void 0,a=u.saveAs||("object"!=typeof window||window!==u?function(){}:"download"in HTMLAnchorElement.prototype?function(e,r,a){var c=u.URL||u.webkitURL,i=document.createElement("a");r=r||e.name||"download",i.download=r,i.rel="noopener","string"==typeof e?(i.href=e,i.origin===location.origin?o(i):n(i.href)?t(e,r,a):o(i,i.target="_blank")):(i.href=c.createObjectURL(e),setTimeout((function(){c.revokeObjectURL(i.href)}),4e4),setTimeout((function(){o(i)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,u){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,u),r);else if(n(e))t(e,r,u);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,r,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,r,n);var a="application/octet-stream"===e.type,c=/constructor/i.test(u.HTMLElement)||u.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&c)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},s.readAsDataURL(e)}else{var l=u.URL||u.webkitURL,p=l.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){l.revokeObjectURL(p)}),4e4)}});u.saveAs=a.saveAs=a,e.exports=a})?n.apply(t,[]):n)||(e.exports=o)}).call(this,r(1094))},1371:function(e,t){angular.module("mean.study").controller("LectureListModalController",["$scope","openAreaOption","$uibModalInstance","Global","$http","$sce",function(e,t,r,n,o,u){e.global=n,e.userId=n.user._id,e.area=t,e.lectureList=[],e.selectedLectures=[],e.global=n,e.timestamp=(new Date).getTime(),e.selectedView="myLectures",e.selectedPosition=6,e.categories=EntryStatic.categoryList,e.status={isCategoryOpen:!1,isSortOpen:!1,isPeriodOpen:!1},e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:Lang.Menus.latest},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:6},{name:"page",value:1},{name:"title",value:""},{name:"isOwner",value:!0},{name:"user",value:e.userId}],e.selectedPage=0,e.selectedSlots=[[1,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18],[19,20,21,22,23,24,25,26,27],[28,29,30]],e.selectedSlotBack=function(){e.selectedPage>0&&(e.selectedPage=e.selectedPage-1)},e.selectedSlotNext=function(){e.selectedPage<3&&(e.selectedPage=e.selectedPage+1)},e.init=function(){e.conditions.push({name:"type",value:"lecture"}),e.selectView("myLectures"),e.applyImages()},e.selectView=function(t){e.selectedView=t,e.setOption({page:1},!0)},e.find=function(){var t="/api/lecture/find?isOpen=false&parent=null&"+a();o({method:"GET",url:t}).success((function(t,r){for(var o in e.lectureList=t,e.lectureList){var u=e.lectureList[o];for(var a in u.isForCourse&&n.isLectureStaticThumb(u)&&(u.staticThumb=!0),e.selectedLectures){var c=e.selectedLectures[a];if(u._id===c._id){e.lectureList[o].selected=!0;break}}e.lectureList[o].selected||(e.lectureList[o].selected=!1)}})).error((function(t,r){e.status=r,console.log("error:",r)})),e.countLectures()},e.countLectures=function(){var t="/api/lecture/count?isOpen=false&parent=null&"+a();o({method:"GET",url:t}).success((function(t,r){e.lectureCount=t.count,e.lectureCountAll||(e.lectureCountAll=t.count),e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]};var a=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$(".modal #lectureSearchInput").val();e.setOption({name:"title",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setOption({name:"page",value:t-1}):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setOption({name:"page",value:t+1}):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.showThumbnail=function(e){return e.staticThumb?n.staticLectureThumbnail(e,"S"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.selectLecture=function(t){var r=e.lectureList[t];if(r.selected){for(var n in e.selectedLectures)if(e.selectedLectures[n]._id===r._id){e.selectedLectures.splice(n,1);break}}else{if(e.selectedLectures.length>=30)return;e.selectedLectures.push(r)}e.lectureList[t].selected=!r.selected},e.isSelected=function(t){return e.selectedLectures.indexOf(t)>-1},e.checkSelectedSlot=function(t){return!!e.selectedLectures[t]},e.getSelectedSlot=function(t){return e.selectedLectures[t]||t},e.cancel=function(){r.dismiss("cancel")},e.ok=function(t){r.close({selectedItem:e.selectedLectures})}}])},1372:function(e,t,r){"use strict";r.r(t),r(1373),angular.module("mean.study").controller("LectureListController",["$scope","$route","$routeParams","$location","$uibModal","$log","Global","$http","Projects","$timeout","$cookies","$q",function(e,t,n,o,u,a,c,i,s,l,p,d){e.global=c,e.gradeList=EntryStatic.lectureGrades,e.levelList=EntryStatic.lectureLevels,e.usageList=EntryStatic.usageList,e.conceptList=EntryStatic.conceptList,e.subjectList=EntryStatic.subjectList,e.isCategoryOn=!1,e.isSearching=!1,e.selectedGrades=[],e.selectedLevels=[],e.selectedUsages=[],e.selectedConcepts=[],e.selectedSubjects=[],e.max_val=[e.gradeList.length,e.usageList.length,e.conceptList.length,e.subjectList.length],e.def_val=[6,6,4,6],e.selectToggle=[{name:"grade",enable:!1,use_val:6},{name:"usage",enable:!1,use_val:6},{name:"concept",enable:!1,use_val:4},{name:"subject",enable:!1,use_val:6}],e.categories=["category_game","category_animation","category_media_art","category_physical","category_etc"],e.sortList=["updated","visit","likeCnt","comment"],e.periodList=["1","7","30","90"],e.showTab=[],e.toggleInfo=[6,7,5,7],e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:"updated"},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:12},{name:"page",value:1},{name:"title",value:""},{name:"user",value:""}],e.searchWord="",e.users=[],e.updateUsers=function(t){var r=$("#lectureSearchInput").val();r&&r.length>2&&i.get("/api/users/find/"+r).success((function(t,r){e.users=t;var n=416;$(".lecture-dropdown-autocomplete").css("overflow","auto"),e.users.length<10&&(n=41*e.users.length+6,$(".lecture-dropdown-autocomplete").css("overflow","hidden")),$(".lecture-dropdown-autocomplete").css("height",n+"px")})).error((function(t,r){e.users=[]}))},$(window).resize((function(e){$(".lectureListProjectsWrapper").css("min-height",innerHeight-290.2)})),$(document).on("touchend",(function(e){$(e.target).closest(".lectureListNav").length||$("body").click()})),e.init=function(){$(".lectureListProjectsWrapper").css("min-height",innerHeight-290.2),function(){var t=o.search();if(!$.isEmptyObject(t))for(var r in t){var n=decodeURIComponent(t[r]);"grade"==r?e.selectedGrades=n.split(","):"difficulty"==r?e.selectedLevels=n.split(","):"usageList"==r?e.selectedUsages=n.split(","):"conceptList"==r?e.selectedConcepts=n.split(","):"subjectList"==r?e.selectedSubjects=n.split(","):"page"==r?(e.page=Number(n),e.currentPage=Number(n),e.addOption({name:"page",value:n})):"searchWord"==r?e.searchWord=n:"title"==r?(e.addOption({name:"user",value:""},!0),e.addOption({name:"title",value:n},!0)):"user"==r?(e.addOption({name:"title",value:""},!0),e.addOption({name:"user",value:n},!0)):e.addOption({name:r,value:n})}}(),(e.selectedGrades.length||e.selectedLevels.length||e.selectedUsages.length||e.selectedConcepts.length||e.selectedSubjects.length)&&(e.isCategoryOn=!0),e.find()},e.isLang=c.isLang,e.showThumbnail=function(e){return e.staticThumb?c.staticLectureThumbnail(e,"M"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.find=function(){var t="/api/lecture/find?isOpen=true&curriculum=true&"+f();i({method:"GET",url:t}).success((function(t,r){for(var n in e.lectureList=t,e.lectureList){var u=e.lectureList[n];u.isForCourse&&c.isLectureStaticThumb(u)&&(u.staticThumb=!0)}e.initTitle(),o.search(f()),e.isSearching=!1})).error((function(t,r){e.status=r,e.isSearching=!1})),e.count()};var g=_.memoize((function(e){return d((function(e,t){var r="/api/lecture/count?isOpen=true&curriculum=true&"+f();i({method:"GET",url:r}).success((function(t,r){e(t.count)})).error((function(e,r){t(r)}))}))}));e.count=_.debounce((function(){g(f(["sort","page"])).then((function(t){e.lectureCount=t,e.generatePageList()})).catch((function(t){e.status=t}))}),250),e.generatePageList=function(){e.totalPages=Math.ceil(e.lectureCount/Number(e.getOption("rows").value));var t=Math.ceil(e.lectureCount/Number(e.getOption("rows").value)),r=Math.ceil((e.page||1)/10),n=1===r?1:10*r-9;e.currentPage=e.currentPage||1,e.currentPage>5&&e.currentPage+5<t&&(n=e.currentPage-4),t>n+9&&(t=n+9),e.lastPage=t,e.pageList=[];for(var o=n;o<=t;o++)e.pageList.push(o)},e.setOption=function(t,r){var n=t.name,o=t.value;"category"!==n&&"title"!==n||(t.value=encodeURIComponent(o));for(var u=0,a=e.conditions.length;u<a;u++){var c=e.conditions[u];if(c&&c.name==n){t.label=c.label,e.conditions.splice(u,1);break}}e.conditions.push(t),r&&"page"===t.name?e.setPage(1):e.find()},e.setPage=function(t){e.page=t,e.currentPage=t,e.addOption({name:"page",value:t}),e.find()},e.addOption=function(t,r){"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value));for(var n=0,o=e.conditions.length;n<o;n++){var u=e.conditions[n];u&&u.name==t.name&&e.conditions.splice(n,1),r&&u&&"page"===u.name&&(u.value=1)}e.conditions.push(t)},e.getOption=function(t){var r=_.find(e.conditions,{name:t});return r?(r.label=m(r),r):null};var m=function(e){var t=(e=e||{}).value||"all";return e.name+"_"+t},f=function(t){t=t||[];var r=_.reduce(e.conditions,(function(e,r){var n=r.name;if(_.includes(t,n))return e;var o=r.value;return o&&""!=o?(e.push(n+"="+o),e):e}),[]);return e.selectedGrades.length&&r.push("grade="+e.selectedGrades.join(",")),e.selectedLevels.length&&r.push("difficulty="+e.selectedLevels.join(",")),e.selectedUsages.length&&r.push("usageList="+e.selectedUsages.join(",")),e.selectedConcepts.length&&r.push("conceptList="+e.selectedConcepts.join(",")),e.selectedSubjects.length&&r.push("subjectList="+e.selectedSubjects.join(",")),e.searchWord&&""!=e.searchWord&&r.push("searchWord="+encodeURIComponent(e.searchWord)),r.join("&")};e.search=function(t){if(e.isSearching=!0,e.page=1,e.addOption({name:"page",value:1}),!e.searchWord)return e.users=[],e.addOption({name:"title",value:""},!0),void e.setOption({name:"user",value:""},!0);t?i({method:"GET",url:"/api/user/getId/"+e.searchWord}).success((function(t,r){t&&t._id?(e.addOption({name:"title",value:""},!0),e.setOption({name:"user",value:t._id},!0)):(e.addOption({name:"user",value:""},!0),e.setOption({name:"title",value:e.searchWord},!0),e.users=[])})).error((function(t){e.status=t})):(e.addOption({name:"user",value:""},!0),e.setOption({name:"title",value:e.searchWord},!0),e.users=[])},e.prevPage=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(t>1))return!1;e.setPage(t-1)},e.nextPage=function(){var t=Number(e.page);if(t||(t=1),!(Math.ceil(e.lectureCount/Number(e.getOption("rows").value))>t))return!1;e.setPage(t+1)},e.prevPageGroup=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.nextPageGroup=function(){var t=Number(e.getOption("page").value);t||(t=1);var r=Math.ceil(e.lectureCount/Number(e.getOption("rows").value));if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.lectureDetail=function(e){o.path("/custom/lecture/view/"+e._id)},e.toggleCategoryStatus=function(){e.isCategoryOn=!e.isCategoryOn},e.selectCategory=function(t,r){var n;switch(r+="",t){case"grade":n=e.selectedGrades;break;case"level":n=e.selectedLevels;break;case"usage":n=e.selectedUsages;break;case"concept":n=e.selectedConcepts;break;case"subject":n=e.selectedSubjects}var o=n.indexOf(r);o>-1?n.splice(o,1):n.push(r),e.page=1,e.addOption({name:"page",value:1}),e.find()},e.isCategorySelected=function(t,r){var n;switch(t){case"grade":n=e.selectedGrades;break;case"level":n=e.selectedLevels;break;case"usage":n=e.selectedUsages;break;case"concept":n=e.selectedConcepts;break;case"subject":n=e.selectedSubjects}return _.includes(n,String(r))},e.selectObject=function(t){if(1==e.selectToggle[t].enable)e.selectToggle[t].use_val=e.def_val[t],e.selectToggle[t].enable=!1;else{for(var r in e.selectToggle)e.selectToggle[r].enable=!1,e.selectToggle[r].use_val=e.def_val[r];e.selectToggle[t].use_val=e.max_val[t],e.selectToggle[t].enable=!0}},e.initTitle=function(){e.hoverTitle=_.times(e.lectureList.length,_.constant(!1))},e.showTitleAll=function(t){e.hoverTitle[t]=!0},e.hideTitleAll=function(t){e.hoverTitle[t]=!1},e.countOver=function(e){return e.title&&e.title.length>=11},e.showPopup=function(t){e.popupToggle=!0,e.currentLecture=t,$("body").animate({scrollTop:$("#popupLWrapper").css("top")},800)},e.hidePopup=function(){e.popupToggle=!1,delete e.currentLecture},e.closeLecture=function(t,r){e.currentLecture&&i.delete("/api/lecture/"+e.currentLecture._id,{headers:{"csrf-token":c.csrfToken()}}).success((function(t){e.hidePopup(),e.init()}))},e.openLecturesPutModal=function(){u.open({templateUrl:"/views/study/custom/lecture/modal/lectures.html",controller:"LectureListModalController",resolve:{openAreaOption:function(){return{isOpen:!1}}},backdrop:!1,keyboard:!1}).result.then((function(t){e.hidePopup();var r=t&&t.selectedItem;if(r){var n=r.map((function(e){return i.put("/api/lecture/openLecture/"+e._id,e,{headers:{"csrf-token":c.csrfToken()}}).success((function(e){})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected):entrylms.alert(Lang.Msgs.error_occured)}))}));d.all(n).then((function(e){console.log(e)})).catch((function(e){console.log("error",e)})).finally(e.init)}}))},e.showShareGuide=function(){var e=r(294);"ko"!=p.get("lang")&&(e=r(295)),e=e.replace(/<\/span>/g,"</span><br/>").replace(/<\/div>/g,"</div><br/>").replace(/style=/g,"styleNone="),entrylms.alertTextarea({outerHTML:e},Lang.SharePolicy.title)}}])},1373:function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function u(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new u(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new u(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(1374),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(1094))},1374:function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o=1,u={},a=!1,c=e.document,i=Object.getPrototypeOf&&Object.getPrototypeOf(e);i=i&&i.setTimeout?i:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"==typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var e=c.documentElement;n=function(t){var r=c.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},i.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return u[o]=a,n(o),o++},i.clearImmediate=s}function s(e){delete u[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=u[e];if(t){a=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{s(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(1094),r(581))},1375:function(e,t){angular.module("mean.study").controller("LectureViewController",["$scope","Global","$http","$routeParams","$uibModal","Projects","myProject","Comments","Users","Feedback","Lectures","$sce","$location","$cookies",function(e,t,r,n,o,u,a,c,i,s,l,p,d,g){e.currentPage=1,e.isEntryStop=!0,e.isTeacher=t.isTeacher(),e.global=t,e.currentSocial="like",e.currentCheckTarget="usage",e.selectedCategory="usage",e.isEntryStop=!0,e.commentText="",e.goToLearnUrl="",e.currentUser=window.user,e.isEditing=!1,e.adminList=t.getAdminUserList()||[],e.global.user||(e.global.user={}),e.report={},e.parentLecture=e.$parent.currentLecture,e.likeShown=10,e.interestShown=10,e.type="individual",e.commentOption={rows:5,page:1},e.goEBS=function(){d.path("/advance/ebsSoftware")},e.goVisang=function(){window.location.href="/visang"},e.goCmass=function(){window.location.href="/cmass21"},e.goChunjae=function(){window.location.href="/CodingChunjae"},e.goKumsungemt=function(){window.location.href="/kumsungemt"},e.goKumsungMid=function(){window.location.href="/kumsungMid"},e.goGilbutEdu=function(){window.location.href="/GilbutEdu"},e.goMiraenCoding=function(){window.location.href="/miraenCoding"},e.$parent.$watch("currentLecture",(function(){e.$parent.currentLecture&&e.init(e.$parent.currentLecture._id)})),e.getLikes=function(){var t="/api/lecture/likes/".concat(e.lecture._id),n={targetSubject:"lecture",targetType:e.type,rows:e.likeShown};r({method:"GET",url:t,params:n}).then((function(t){if(200===t.status){if(t.data){var r=t.data.map((function(e){return e.user}));e.lecture.like=r}}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))},e.init=function(o){if(o)e.lectureId=o,e.checkFavorite();else{if(!n.lectureId)return;e.lectureId=n.lectureId,e.checkFavorite()}$(".entryEngine").remove(),$(".entryCanvasWorkspace").remove(),d.path().indexOf("me")>0&&(e.goMonthly=!0);var u={targetSubject:"lecture",targetType:e.type};r({method:"GET",url:"/api/lecture/".concat(e.lectureId,"?like=true"),params:u}).success((function(n,o){if(delete n.like,function(t){var n=!t.isOpen,o=t.user._id,u=e.global.user,a=t._id,c={"57b2379ec52db5fdf72bf27d":!0,"57b2703dc57c981c828c9dba":!0,"57b5f34f1ac57331f8b4ff5d":!0,"57b5fe998956564a59a5c176":!0,"57b60eb3bff4d9fa586cf060":!0,"57b6162486652ec927a47ee8":!0,"57bbe3129f0be9a86332de57":!0,"57bbe97b2f88a4cf8b16cae1":!0};t.isForHomework&&(n=!1),n&&o!==u._id&&"admin"!==u.role&&r({method:"GET",url:"/api/lecture/openLecture/".concat(a)}).success((function(t,r){t&&t._id?c[String(a)]||entrylms.alert("비공개 강의입니다. 이 강의의 공개강의로 이동 합니다.").on("hide",(function(){d.path("/custom/lecture/view/".concat(t._id)),e.$apply()})):entrylms.alert("비공개 강의입니다.").on("hide",(function(){d.path("/custom/lecture/list"),e.$apply()}))}))}(n),e.lecture=n,function(){var n="/api/lecture/progress/".concat(e.lectureId);r.post(n,{curriculum:e.lecture.curriculum?e.lecture.curriculum:null},{headers:{"csrf-token":t.csrfToken()}}).success((function(t,r){var n;if(!_.isEmpty(t)){n="curriculum"in e.lecture?_.filter(t,(function(e){return"BASIC"!==e.status})):t;var o=_.last(n).status,u=e.lecture.studies.filter((function(e){return"curriculum_study"===e.type})),a=u.length>0&&!e.isTeacher?u.length:e.lecture.studies.length;e.lectureStatus=n.length==a&&"COMPLETED"===o?o:"PROGRESS"}e.progress=t})).error((function(e,t){console.log("err:",e)}))}(),n.isForCourse?m():e.goToLearnButton=Lang.Menus.study_lessons,e.isOwner=e.currentUser&&n.user._id===e.currentUser._id,e.checkFavorite(),n.origin&&r({method:"GET",url:"/api/lecture/".concat(n.origin)}).success((function(t,r){t?(e.isParentAlive=!0,e.parentLectureTitle=t.title,e.parentUsername=t.user.username,e.originLecturePath=t.shortenUrl):e.isParentAlive=!1})),e.lectureCategory=!!(n.usageList.length||n.conceptList.length||n.subjectList.length),"done"===n.preview?e.assistVideo=n.youtubeHash||"":"video"==n.preview&&(e.video=n.youtubeHash,e.assistProject=n.doneProject||""),t.authenticated){var u="/api/lecture/mylike/".concat(e.lecture._id),a={targetSubject:"lecture",targetType:e.type};r({method:"GET",url:u,params:a}).then((function(t){t.data&&(e.isLikeThis=!0)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))}if(e.getComment(),u="/api/lecture/likes/".concat(e.lecture._id),a={targetSubject:"lecture",targetType:e.type},r({method:"GET",url:u,params:a}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.lecture.like=r}}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)})),u="/api/lecture/isfavorite/".concat(n._id),a={targetSubject:"lecture",targetType:e.type},r({method:"GET",url:u,params:a}).success((function(t,r){e.isInterestThis=t.exists})).error((function(t,r){e.status=r,e.isInterestThis=!1})),a={targetSubject:"lecture",targetType:e.type},r.get("/api/lecture/favorites/".concat(n._id),{params:a}).success((function(t,r){e.lecture.interest=t})),e.lectureCreated=new Date(n.created),n.updated?e.lectureUpdated=new Date(n.updated):e.lectureUpdated=new Date(n.created),n.curriculum){var c=g.get("lectureListOpen");"open"!=c&&g.put("lectureListOpen","close"),r({method:"GET",url:"/api/curriculum/".concat(n.curriculum)}).success((function(r,n){e.lecturelen=r.lectures.length,e.curriculum=r;for(var o=r.lectures.length-1;o>0;o--){var u=r.lectures[o];u.special&&!u.special.visible&&r.lectures.splice(o,1)}for(var o in e.lectures=r.lectures,e.lectureList=[],r.lectures.length>3&&"close"==c?(e.lectureList.push(r.lectures[0]),e.lectureList.push(r.lectures[1]),e.lectureList.push(r.lectures[2]),e.lectureListExpand=!0,e.lectureListCollapse=!1):e.lectureList=r.lectures,e.lectureList)e.lectureList[o].isForCourse&&t.isLectureStaticThumb(e.lectureList[o])&&(e.lectureList[o].staticThumb=!0)}))}if(e.goToLearnUrl=e.lecture.special&&e.lecture.special.url?e.lecture.special.url:e.lecture.isForCourse?"course#!/".concat(e.lecture._id):e.lecture.special&&e.lecture.special.name.indexOf("ebs")>-1?"/le/".concat(e.lecture._id,"?theme=ebs2015"):"/le/".concat(e.lecture._id),e.isCanView("youtube")&&(u=e.trustUrl("https://www.youtube.com/embed/".concat(e.video)),$(".lectureYoutubeFrame")[0].contentWindow.location.replace(u)),e.lecture.doneProject&&e.lecture.doneProject._id){var i="/api/iframe/project/".concat(e.lecture.doneProject._id,"?play=true");e.isCanView("done")&&$(".lectureProjectFrame")[0].contentWindow.location.replace(i),"video"===e.lecture.preview&&$(".lectureProjectFrame")[1].contentWindow.location.replace(i)}"video"!==e.lecture.preview&&e.lecture.youtubeHash&&(u=e.trustUrl("https://www.youtube.com/embed/".concat(e.lecture.youtubeHash)),$(".assistYoutubeFrame")[0].contentWindow.location.replace(u))})).error((function(e,t){}))};var m=function(){if(t.isLectureStaticThumb(e.lecture))switch((e.lecture.repStudy||e.lecture.studies[0]).type){case"quiz":e.goToLearnButton=Lang.Menus.solve_quiz;break;case"maze":case"maze_static":e.goToLearnButton=Lang.Menus.solve_mission;break;default:e.goToLearnButton=Lang.Menus.study_lessons}else e.goToLearnButton=Lang.Menus.study_lessons};function f(n){r.post("/api/comment",{content:n,target:e.lecture._id,targetSubject:"lecture",targetType:e.type},{headers:{"csrf-token":t.csrfToken(),"limit-type":"lecture"}}).success((function(t,r){e.commentOption.page=1,e.commentText="",e.getComment()})).error((function(t,r){510===r?(entrylms.alert(Lang.Menus.discuss_write_abuse_warn),e.commentOption.page=1,e.commentText="",e.getComment()):509===r?entrylms.alert(Lang.Menus.discuss_write_abuse_detected):entrylms.alert(Lang.Menus.no_permission)}))}function h(e){r.put("/api/comment/".concat(e._id),{content:e.content},{headers:{"csrf-token":t.csrfToken()}}).success((function(t){e.editing=!1}))}e.goToLearn=function(){e.addStudyLecture((function(){switch(e.lecture._id){case"585ff72904a9342b0d6808a1":e.goToLearnUrl="/ebs_2015#!/1/1";break;case"585ff72904a9342b0d6808a2":e.goToLearnUrl="/ebs_2015#!/2/1";break;case"585ff72904a9342b0d6808a3":e.goToLearnUrl="/ebs_2015#!/3/1"}window.location.href=e.goToLearnUrl}))},e.getComment=function(){r({method:"GET",url:"/api/comment/lecture/list/".concat(e.lecture._id,"/").concat(e.commentOption.page),params:{page:e.commentOption.page,target:e.lecture._id,targetType:e.type,targetSubject:"lecture"}}).success((function(t,r){e.comments=t,e.getCommentCount()}))},e.hoverSocial=function(t){e.currentSocial=t},e.hoverCheckTarget=function(t){e.currentCheckTarget=t},e.getCurrentCheckList=function(){var t=e.currentCheckTarget;if(e.lecture)return"usage"==t?e.lecture.usageList:"concept"==t?e.lecture.conceptList:"subject"==t?e.lecture.subjectList:void 0},e.getCommentCount=function(){r({method:"GET",url:"/api/comment/lecture/count/".concat(e.lecture._id),params:{target:e.lecture._id,targetType:e.type,targetSubject:"lecture"}}).success((function(t,r){e.commentCount=t,e.totalPages=Math.ceil(t/e.commentOption.rows);var n=Math.ceil(t/e.commentOption.rows),o=Math.ceil(e.currentPage/10),u=1===o?1:10*o-9;e.currentPage>5&&e.currentPage+5<n&&(u=e.currentPage-4),n>u+9&&(n=u+9),e.lastPage=n,e.pageList=[];for(var a=u;a<=n;a++)e.pageList.push(a)}))},e.openProject=function(){location.href="/ws/#!".concat(e.lecture._id)},e.likeLecture=function(){if(e.currentUser&&!e.isEditLike)if(e.isEditLike=!0,e.isLikeThis){var n="/api/lecture/unlike/".concat(e.lecture._id),o={targetSubject:"lecture",targetType:e.type};r({method:"DELETE",url:n,params:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){200===t.status?(e.isLikeThis=!1,e.isEditLike=!1,e.lecture.like=[],e.getLikes()):entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))}else n="/api/lecture/like/".concat(e.lecture._id),o={targetSubject:"lecture",targetType:e.type},r({method:"POST",url:n,data:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){200===t.status?(e.lecture.like||(e.lecture.like=[]),e.lecture.like=[],e.getLikes(),e.isLikeThis=!0,e.isEditLike=!1):entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))},e.interestLecture=function(){if(e.currentUser&&!e.isEditInterest){if(e.isEditInterest=!0,e.isInterestThis){var n="/api/lecture/favorite/".concat(e.lecture._id),o={targetSubject:"lecture",targetType:e.type};r.delete(n,{params:o,headers:{"csrf-token":t.csrfToken()}}).success((function(t,n){e.isInterestThis=!1,r.get("/api/lecture/favorites/".concat(e.lecture._id),{params:o}).success((function(t,r){e.lecture.interest=t}))}))}else n="/api/lecture/favorite/".concat(e.lecture._id),o={targetSubject:"lecture",targetType:e.type},r.post(n,o,{headers:{"csrf-token":t.csrfToken()}}).success((function(t,n){e.isInterestThis=!0,r.get("/api/lecture/favorites/".concat(e.lecture._id),{params:o}).success((function(t,r){e.lecture.interest=t}))}));e.isEditInterest=!1}},e.commentUpload=function(){var e=$(".commentText").eq(0).val().trim();if(""===e)return entrylms.alert(Lang.Menus.content_required),!1;r.post("/api/user/checkfiltercontent",{content:e},{headers:{"csrf-token":t.csrfToken()}}).success((function(r){r.ok?f(e):t.setBadUser((function(){f(t.getRandomReplaceWord())}))})).error((function(t){f(e)}))},e.editedCommentUpload=function(e){""!==e.content.trim()?r.post("/api/user/checkfiltercontent",{content:e.content},{headers:{"csrf-token":t.csrfToken()}}).success((function(r){r.ok?h(e):t.setBadUser((function(){e.content=t.getRandomReplaceWord(),h(e)}))})).error((function(t){h(e)})):entrylms.alert("내용을 입력해 주세요.")},e.editComment=function(e){e.editing=!0},e.deleteComment=function(n){var o={target:e.lecture._id,targetSubject:"lecture",targetType:e.type};r.delete("/api/comment/".concat(n._id),{params:o,headers:{"csrf-token":t.csrfToken()}}).success((function(){for(var t in e.comments)e.comments[t]._id===n._id&&e.comments.splice(t,1),t++;e.getComment()}))},e.shareFB=function(){var t="http://www.facebook.com/sharer/sharer.php?s=100&p[url]=".concat(e.lecture.shortenUrl,"&p[images][0]=https://playentry.org").concat(e.lecture.thumb,"&p[summary]=엔트리 ").concat(e.lecture.name);window.open(t,"fb","width=600px, height=450px")},e.shareTW=function(){var t=encodeURIComponent(e.lecture.title),r=encodeURIComponent(Lang.Menus.Entry),n="".concat("https://twitter.com/intent/tweet","?hashtags=").concat(r,"&original_referer=").concat(encodeURIComponent("https://playentry.org"),"&source=tweetbutton&text=").concat(t,"&url=").concat(e.lecture.shortenUrl);window.open(n,"tweet","width=600px, height=250px")},e.popupReport=function(t,r,n){var o={};o.project=e.lecture,o.type=t,o.comment=n,o.study="lecture",$.event.trigger($.Event("popupReport",{info:o}))},e.setEditing=function(n){e.isEditing=n,n||r.put("/api/project/".concat(e.lecture._id),{category:e.lecture.category,name:e.lecture.name,isopen:e.lecture.isopen,description:e.lecture.description},{headers:{"csrf-token":t.csrfToken()}}).success((function(e){}))},e.toggleProjectOpen=function(){e.lecture.isopen=!e.lecture.isopen},e.setCategory=function(t){e.lecture.category=t},e.trustUrl=function(e){return e&&(e=e.replace("http://","https://")),p.trustAsResourceUrl(e)},e.removeLecture=function(){entrylms.confirm(Lang.Menus.study_remove_lecture).then((function(n){!0===n&&r.delete("/api/lecture/".concat(e.lecture._id),{headers:{"csrf-token":t.csrfToken()}}).success((function(e){window.history.go(-1)}))}))},e.isMine=function(){if(e.lecture&&e.lecture.user)return e.lecture.user._id==e.global.user._id},e.isLang=function(e){return g.get("lang")==e},e.getProjectCategory=function(e){switch(e){case"애니메이션":return Lang.EntryStatic.category_animation;case"게임":return Lang.EntryStatic.category_game;case"미디어아트":return Lang.EntryStatic.category_media_art;case"피지컬":return Lang.EntryStatic.category_physical;default:return Lang.EntryStatic.category_etc}},e.isCategorySelected=function(t){return e.selectedCategory==t},e.selectCategory=function(t){e.selectedCategory=t},e.getCurrentCheckList=function(){var t=e.selectedCategory;if(e.lecture)return"usage"==t?e.lecture.usageList:"concept"==t?e.lecture.conceptList:"subject"==t?e.lecture.subjectList:void 0},e.checkFavorite=function(){if(window.user&&e.lecture){for(var t=0;t<window.user.studyLecture.length;t++){var r=e.lecture._id,n=null;if(window.user.studyLecture[t]&&(n=window.user.studyLecture[t].lecture),r==n)return void(e.studyingVal=!0)}e.studying=!1}else e.studying=!1},e.goLectureList=function(){returnUrl?location.href=decodeURIComponent(returnUrl):d.path("/custom/lecture/list")},e.goCurriculumList=function(){returnUrl?location.href="/tt?returnUrl=".concat(encodeURIComponent(returnUrl),"#!/custom/curriculum/view/").concat(e.lecture.curriculum):e.goMonthly?d.path("/custom/curriculum/me/view/".concat(e.lecture.curriculum)):d.path("/custom/curriculum/view/".concat(e.lecture.curriculum))},e.goSoftwareList=function(){d.path("/advance/software2")},e.lectureToggle=function(){e.lectureListExpand?(e.lectureList=[],e.lectureList=e.lectures,g.put("lectureListOpen","open")):(e.lectureList=[],e.lectureList.push(e.lectures[0]),e.lectureList.push(e.lectures[1]),e.lectureList.push(e.lectures[2]),g.put("lectureListOpen","close")),e.lectureListExpand=!e.lectureListExpand},e.getLectureThumbnail=function(e){return"done"===e.preview&&e.doneProject?{"background-image":"url('".concat(e.doneProject.thumb,"')")}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/".concat(e.youtubeHash,"/mqdefault.jpg')")}:e.repStudy&&e.repStudy.basicProject&&e.repStudy.basicProject.thumb?{"background-image":"url('".concat(e.repStudy.basicProject.thumb,"')")}:{}},e.viewLecture=function(e){d.path("/custom/lecture/view/".concat(e._id))},e.runProject=function(){e.isEntryStop=!1},e.hasMore=function(t){var r=e.lecture;return!!r&&!!r.like&&("like"==t&&r.like?r.like.length>e.likeShown:"interest"==t&&r.interest?r.interest.length>e.interestShown:void 0)},e.seeMore=function(t){return"like"==t?e.likeShown+=10:"interest"==t?e.interestShown+=10:void 0},e.isCanView=function(t){if(e.lecture){if(null!=e.lecture.tvcastUrl)return"tvcast"==t;if(e.lecture.doneProject&&"done"===e.lecture.preview)return"done"==t;if("video"===e.lecture.preview)return"youtube"==t}},e.addStudyLecture=function(n){if(!window.user)return n();if(e.lectures){var o=e.currentUser.studyCurriculum,u=[];if(o.length>0){for(var a in o)u.push(o[a].curriculum);u.indexOf(e.lecture.curriculum)}if(e.currentUser){var c="/api/users/setStudyCurriculum";r.post(c,{userId:e.currentUser._id,curriculumId:e.lecture.curriculum,status:0},{headers:{"csrf-token":t.csrfToken()}}).success((function(e,t){n()})).error((function(e,t){console.log("err:",e),n()}))}else n()}else{var i=e.currentUser.studyLecture,s=[];if(i.length>0){for(var a in i)s.push(i[a].lecture);s.indexOf(e.lectureId)}e.currentUser?(c="/api/users/setStudyLecture",r.post(c,{userId:e.currentUser._id,lectureId:e.lectureId,status:0},{headers:{"csrf-token":t.csrfToken()}}).success((function(e,t){n()})).error((function(e,t){console.log("err: ",e),n()}))):n()}},e.setPage=function(t){return!(t<1)&&!(t>e.staticPageList)&&(e.beforePage=e.commentOption.page,e.commentOption.page=t,e.currentPage=t,void(e.beforePage!=t&&e.getComment()))},e.nextPage=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(Math.ceil(e.projectCount/Number(e.getOption("rows").value))>t))return!1;e.setOption({name:"page",value:t+1}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.saveAsMine=function(){r({method:"POST",url:"/api/lecture/clone/".concat(e.lecture._id),headers:{"csrf-token":t.csrfToken()}}).success((function(t,r){e.saveAsMineAlert=!0})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected):(entrylms.alert(Lang.Msgs.error_occured),console.error("err:",e))}))},e.hidePopup=function(){e.saveAsMineAlert=!1},e.prevPageGroup=function(){var t=e.currentPage;if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setPage(e.currentPage)},e.nextPageGroup=function(){var t=e.currentPage;t||(t=1);var r=Math.ceil(e.commentCount/e.commentOption.rows);if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setPage(e.currentPage)}}])},1376:function(e,t){angular.module("mean.study").controller("lectureBuildController",["$scope","Global","$http","$location","$routeParams","$uibModal","$sce","Projects","$cookies",function(e,t,r,n,o,u,a,c,i){Entry.mediaFilePath="/lib/entry-js/images/",e.global=t,e.isSaving=!1,e.isEntryStop=!0,t.authenticated||n.path("/custom/lecture/list"),e.selectedCategory="usage",e.video="",e.currentTab=1,e.videoSelect=!1,e.blockHelp=EntryStatic.blockInfo,e.enableMenu="code",e.selectedBlock=null,e.step2IntroButton=!window.localStorage.getItem("entryLecture"),e.lectureId=o.lectureId,e.basicProject=null,e.selectedBlockCategory="",e.lectureProjectEnable=!1,e.lectureVideoEnable=!1,e.firstMenu="lecture",e.videoView=!1,e.sharedSpace=["public","group","private"],e.userSelectLecture=[],e.userLecture,e.generateToggle=!0,e.step2popup=!1;var s=[],l=[];e.selectToggle=!(window.location.hash.indexOf("curriculum")>-1||o.lectureId),e.programmingModeLang=[Lang.Menus.block_coding,Lang.Menus.python_coding],e.programmingMode=0,e.programmingModeStatus={isopen:!1},e.toggleDropdown=function(t){e.programmingModeStatus.isopen=!e.programmingModeStatus.isopen},e.setMode=function(t){e.programmingMode!==t&&(e.programmingMode=t,e.lecture.injectOption.programmingMode=t)},o.lectureId?e.isEditMode=!0:(e.selectToggle=!0,$("body").animate({scrollTop:$("#popupLWrapper").css("top")},800)),e.checkScope={code:!0,shape:!1,sound:!1,attribute:!1},e.attributeTab={variable:!1,sign:!1,list:!1,func:!1},e.blockCategory={},e.sharedAreaObj={},e.helperInfo=[{content:Lang.Menus.lecture_help_1},{content:Lang.Menus.lecture_help_2},{content:Lang.Menus.lecture_help_3},{content:Lang.Menus.lecture_help_4},{content:Lang.Menus.lecture_help_5},{content:Lang.Menus.lecture_help_6}],e.renderHtml=function(e){return a.trustAsHtml(e)},e.goBuildClm=function(){window.location.href="tt#!/custom/curriculum/build"},e.selectFirstMenu=function(t){e.firstMenu=t},e.confirmButton=function(){e.firstMenu&&("lecture"===e.firstMenu?e.selectToggle=!1:e.goBuildClm())},e.isElementChecked=function(t){var r;switch(e.selectedCategory){case"usage":r=e.lecture.usageList;break;case"concept":r=e.lecture.conceptList;break;case"subject":r=e.lecture.subjectList}return r.indexOf(t)>-1},e.getBlockView=function(t){var r=e.selectedBlockCategory,n=!1;switch(t){case"empty":n=!r;break;case"arduino":n="arduino"===r;break;case"expansion":n="expansion"===r;break;case"normal":default:n=r&&"arduino"!==r&&"expansion"!==r}return n},e.getBlocks=function(){var t=e.selectedBlockCategory;return t&&m(e.blockAll,t)},e.getHardwareBlocks=function(){var t=e.selectedBlockCategory,r=f();return t&&r},e.getExpansionBlocks=function(){var t=e.selectedBlockCategory;return t&&m(e.blockAll,t)},e.showSelectHardware=function(){e.hardwareModal.show()},e.unSelectHardware=function(){e.deselectCategoryBlock("arduino"),e.selectHardware=void 0},e.showSelectExpansionBlock=function(){e.expansionBlockModal.show()};var p=[Entry.Roboid];function d(t){var r=t.objects;t.functions=t.functions.map((function(e){return new Entry.Func(e)})),r.forEach((function(e){e.script=new Entry.Code(e.script||[])})),e.setSelectedBlocks(function(e){var t=[],r=e.objects,n=y(),o=[];r.forEach((function(e){t=t.concat(e.script.getBlockList(!0))})),e.functions.forEach((function(e){t=t.concat(e.content.getBlockList(!0))})),t=t.map((function(e){return e.type})),t=_.uniq(t);for(var u=0;u<n.length;u++)if(o[u]={category:n[u].category,blocks:[]},0!==t.length)for(var a=n[u].blocks,c=0;c<a.length;c++){var i=a[c],s=t.indexOf(i);if(s>-1&&(o[u].blocks.push(i),t.splice(s,1),0===t.length))break}return o}(t)),e.tempSelectedUsedBlocks=e.selectedBlocks}function g(e){return e?"https://youtu.be/".concat(e):e}function m(e,t){var r=h(e,t);return r&&r.blocks}function f(){var t=[];return e.selectHardware&&_.each(Entry.block,(function(r,n){r.isNotFor&&r.isNotFor.indexOf(e.selectHardware.name)>-1&&e.arduinoBlocks.indexOf(n)>-1&&t.push(n)})),t}function h(e,t){return _.find(e,(function(e){return e.category===t}))}e.init=function(){e.blockAll=y();var t=_.find(e.blockAll,{category:"arduino"})||{};e.arduinoBlocks=t.blocks||[],e.setSelectedBlocks(),e.isOriginLecture=!0,$(".entryEngine").remove(),$(".entryCanvasWorkspace").remove(),e.currentTab=1,window.location.hash.indexOf("/build/lecture")>-1&&(e.selectToggle=!1);var r=_.uniq(_.values(Entry.HARDWARE_LIST)),n=_.difference(r,p);n=_.sortBy(n,(function(e){var t="";return e.title&&(e.nameByLang=e.title[Lang.type],t=e.title.ko.toLowerCase()),t})),e.hardwareModal=new entrylms.Modal({type:"HARDWARE_LIST",title:Lang.Menus.viewSupporHw,content:n,mode:"SELECT"}).on("click",(function(t){"close"!==t&&(e.selectHardware=t,e.$apply(),e.selectCategoryBlock("arduino"))}));var o=_.uniq(_.values(Entry.EXPANSION_BLOCK_LIST));o=_.sortBy(o,(function(e){var t="";return e.title&&(e.nameByLang=e.title[Lang.type],t=e.title.ko.toLowerCase()),t})),e.expansionBlockModal=new entrylms.Modal({type:"HARDWARE_LIST",title:"확장블록 목록",content:o,mode:"SELECT"}).on("click",(function(t){"close"!==t&&(e.selectExpansionBlock=t,e.$apply())}))},e.isSelectHardware=function(){return e.selectHardware},e.changeTab=function(t){b()&&(3==t?e.currentTab=t:2==t&&e.step2IntroButton&&(_.isEmpty(e.selectedBlockCategory)?e.step2popup=!0:e.step2popup=!1),e.currentTab=t)},e.lectureTimes=function(){return EntryStatic.requiredTimes},e.selectTime=function(t){e.lecture.requiredTime=t},e.lectureGrades=function(){return EntryStatic.lectureGrades},e.selectGrade=function(t){var r=e.lecture.grade.indexOf(t);r>-1?e.lecture.grade.splice(r,1):e.lecture.grade.push(t),e.gradeSelected=!0},$(".grade").on("hidden.bs.dropdown",(function(t){e.gradeSelected&&($(".grade").addClass("open"),e.gradeSelected=!1)})),e.isGradeChecked=function(t){return _.includes(e.lecture.grade,t)},e.selectShared=function(t){e.sharedAreaObj[t]=!e.sharedAreaObj[t];var r=l;if("private"==t){e.sharedAreaObj.public=!1,e.sharedAreaObj.group=!1,l=[];for(var n=0;n<r.length;n++)e.sharedAreaObj[r[n]]=!1}else if("public"==t)e.sharedAreaObj.private=!1;else if("group"==t)for(e.sharedAreaObj.private=!1,l=r=s,n=0;n<r.length;n++)e.sharedAreaObj[r[n]]=e.sharedAreaObj.group;else{var o=!1,u=l.indexOf(t);if(e.sharedAreaObj[t])u<=-1&&l.push(t);else{var a=l.splice(u,1);s.push(a[0]),e.sharedAreaObj[t]=!1}for(n=0;n<r.length;n++)if(0==e.sharedAreaObj[r[n]]){e.sharedAreaObj.private=!1,e.sharedAreaObj.group=!1,o=!0;break}o||(e.sharedAreaObj.group=!0,e.sharedAreaObj.private=!1)}e.sharedSelected=!0},$(".shared").on("hidden.bs.dropdown",(function(t){e.sharedSelected&&($(".shared").addClass("open"),e.sharedSelected=!1)})),e.isSharedChecked=function(t){return e.sharedAreaObj[t]},e.dropdownToggle=function(e){$(".".concat(e)).hasClass("open")?$(".".concat(e)).addClass("open"):$(".".concat(e)).removeClass("open")},e.lectureLevels=function(){return EntryStatic.lectureLevels},e.selectLevel=function(t){e.lecture.difficulty=t},e.removeGoal=function(t){var r=e.lecture.goals;r.length>1&&r.splice(t,1)},e.addGoal=function(){e.lecture.goals.push("")},e.toggleEntryStop=function(t){e.$apply((function(){e.isEntryStop=t}))},e.initLectureModel=function(){if(e.lecture={title:"",description:"",goals:[""],availableBlocks:[],usageList:[],conceptList:[],subjectList:[],category:"category_etc",preview:"",basicProject:{},openArea:{},requiredTime:null,grade:[],difficulty:null,user:e.global.user,injectOption:{objectEditable:!0,pictureeditable:!0,soundeditable:!0,dataTableDisable:!1,sceneEditable:!0,messageEnable:!0,variableEnable:!0,listEnable:!0,functionEnable:!0,programmingMode:0}},e.loadDefaultProject(),e.sharedgroupList=[],window.user&&"teacher"==window.user.role){var t="/api/group/groups/".concat(window.user._id);r.get(t).success((function(t){for(var r in e.sharedgroupList=t,e.userLecture=t,e.sharedgroupList=t,l=[],t)t[r]&&(e.sharedAreaObj[t[r]._id]=!1,l.push(t[r]._id));l.length>0&&(s=l)})).error((function(e){console.log(" error occured ",e)})),o.lectureId?r({method:"GET",url:"/api/lecture/".concat(o.lectureId,"?like=true")}).success((function(t,r){if(t.isOpen&&(e.isOriginLecture=!1),"video"==t.preview?(e.assistProject=t.doneProject,e.video=t.youtubeHash,e.video&&(e.videoView=!0),delete e.project,delete e.assistVideo):(e.assistVideo=g(t.youtubeHash),e.project=t.doneProject,delete e.assistProject,delete e.video),t.basicProject&&(e.basicProject=t.basicProject,e.isDefaultProject=!1),e.lecture=t,e.isForCourse=t.isForCourse,e.lecture.doneProject&&(e.completeSelected=!0),e.lecture.youtubeHash&&(e.inputYoutubeUrl=g(e.lecture.youtubeHash)),e.lecture.file){e.uploadFile=e.lecture.file.name;var n=e.lecture.file.url.split("/");e.lecture.file.id=n[n.length-1]}if(t.isOpen)return!0;e.setSelectedBlocks(e.lecture.availableBlocks),e.programmingMode=t.injectOption.programmingMode||0})):e.loadDefaultProject()}},e.loadDefaultProject=function(){e.lecture.basicProject=Entry.getStartProject(Entry.mediaFilePath),e.isDefaultProject=!0,e.lecture.basicProject.thumb||(e.lecture.basicProject.thumb="/img/assets/default_thumbnail.png",e.basicProject=null)},e.initLectureModel(),e.clearAssistVideo=function(){e.assistVideo=null,e.youtubeHash=null,e.lecture.youtubeHash=null},e.openProjectsModal=function(t){u.open({templateUrl:"/views/study/custom/lecture/modal/projects.html",controller:"ProjectsModalController",resolve:{parent:function(){return"lecture"}},backdrop:!1,keyboard:!1}).result.then((function(n){"assist"===t?(e.assistProject=n.selectedItem,r({method:"GET",url:"/api/project/".concat(n.selectedItem._id,"?like=true")}).success((function(t,r){e.lecture.doneProject=t}))):"basic"===t?(e.basicProject=n.selectedItem,r({method:"GET",url:"/api/project/".concat(n.selectedItem._id,"?like=true")}).success((function(t,r){e.lecture.basicProject=t})),e.isDefaultProject=!1):(e.project=n.selectedItem,r({method:"GET",url:"/api/project/".concat(n.selectedItem._id,"?like=true")}).success((function(t,r){e.generateToggle?d(t):e.generateToggle=!1,e.lecture.doneProject=t,e.lecture.preview="done"})))}))},e.toggleGenerateToggle=function(){e.generateToggle=!e.generateToggle,e.generateToggle&&e.lecture.doneProject?e.tempSelectedUsedBlocks?e.setSelectedBlocks(e.tempSelectedUsedBlocks):d(e.lecture.doneProject):e.setSelectedBlocks(JSON.parse(JSON.stringify(e.blockAll)))},e.openVideoToggle=function(t){u.open({templateUrl:"/views/study/custom/lecture/modal/video.html",controller:"ProjectsModalController",resolve:{parent:function(){return"lecture"}},backdrop:!1,keyboard:!1}).result.then((function(t){e.getHashedVideoUrl()}))},e.getHashedVideoUrl=function(){var t=e.inputYoutubeUrl;t&&(e.video=t,e.lecture.youtubeHash=e.video,e.lecture.preview="done")},e.trustUrl=function(e){return a.trustAsResourceUrl(e)},e.deleteUploadFile=function(){e.lecture.file=null,document.getElementById("uploadFile").value=""},e.encode=function(e){return encodeURIComponent(e)},e.upload=function(){var r=new FormData,n=document.getElementById("uploadFile").files[0];return!!n&&(n.size>20971520?(document.getElementById("uploadFile").value="",entrylms.alert(Lang.Menus.upload_limit_20mb),!1):(r.append("uploadFile",n),void $.ajax({url:"/rest/lecture/upload",data:r,cache:!1,contentType:!1,processData:!1,type:"POST",headers:{"csrf-token":t.csrfToken()},success:function(t){var r=t.fileUrl.split("/");e.$apply((function(){e.lecture.file={},e.lecture.file.name=t.fileName,e.lecture.file.path=t.filePath,e.lecture.file.url=t.fileUrl,e.lecture.file.id=r[r.length-1]}))}})))},e.clearProject=function(){var t=["videoView","project","assistProject","assistVideo","video"];for(var r in t)delete e[t[r]];e.lecture.doneProject=null,e.lecture.youtubeHash=null,e.inputYoutubeUrl=""},e.clearAssistProject=function(){e.assistProject=null,e.lecture.doneProject=null},e.uploadPdf=function(){var r=new FormData,n=document.getElementById("uploadPdfFile").files[0];return n?n.size>20971520?(document.getElementById("uploadPdfFile").value="",entrylms.alert(Lang.Menus.upload_limit_20mb),!1):".pdf"!=n.name.slice(-4)?(document.getElementById("uploadPdfFile").value="",entrylms.alert(Lang.Menus.only_pdf),!1):(r.append("uploadFile",n),void $.ajax({url:"/rest/lecture/upload",data:r,cache:!1,contentType:!1,processData:!1,type:"POST",headers:{"csrf-token":t.csrfToken()},success:function(t){e.$apply((function(){var r=t.fileUrl.split("/");e.lecture.pdfFile={},e.lecture.pdfFile.name=t.fileName,e.lecture.pdfFile.path=t.filePath,e.lecture.pdfFile.url=t.fileUrl,e.lecture.pdfFile.id=r[r.length-1]}))}})):(entrylms.alert(Lang.Menus.file_required),!1)},e.deleteUploadPdfFile=function(){e.lecture.pdfFile=null,document.getElementById("uploadPdfFile").value=""},e.assistUrlChange=function(t){var r=document.getElementById("videoLink").value;if(r){var n=r.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);n&&11==n[7].length&&(e.assistVideo=g(n[7]),e.lecture.youtubeHash=n[7])}},e.assistMainUrlChange=function(t){var r=document.getElementById("videoLinkMain").value;if(r){var n=r.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);n&&11==n[7].length&&(e.video=n[7],e.lecture.youtubeHash=e.video,e.lecture.preview="video")}},e.selectCategoryBlock=function(t){m(e.selectedBlocks,t)||e.selectedBlocks.push({category:t,blocks:[]});var r=h(e.selectedBlocks,t);"arduino"!==t?r.blocks=m(e.blockAll,t).slice(0):e.selectHardware&&(r.blocks=f()),e.checkInjectOptionByBlocks()},e.deselectCategoryBlock=function(t){h(e.selectedBlocks,t).blocks=[],e.checkInjectOptionByBlocks()},e.getBlockCategoryStatus=function(t){var r=e.selectedBlocks,n=e.blockAll,o=m(r,t)||[],u=o.length,a="empty";if(u)if("arduino"!==t){var c=m(n,t).length;u!==c?a="any":u===c&&(a="all")}else a="arduino"===t?"null":f().every((function(e){return o.indexOf(e)>-1}))?"all":"any";else a="empty","arduino"===t&&(a="null");return a},e.getBlockCategory=function(e){return Lang.Blocks[e.toUpperCase()]},e.selectBlockCategory=function(t){"code"==e.enableMenu?e.selectedBlockCategory=t:e.setTabCheck("code")},e.isSelectedBlockCategory=function(t){return e.selectedBlockCategory==t},e.toggleBlockSelected=function(t){var r=e.isBlockChecked(t),n=e.selectedBlocks;n=m(n,e.selectedBlockCategory),r?n.splice(n.indexOf(t),1):n.push(t),e.lecture.availableBlocks=e.selectedBlocks,e.checkInjectOptionByBlocks()},e.isBlockChecked=function(t){return _.includes(m(e.selectedBlocks,e.selectedBlockCategory),t)},e.isTabsCheck=function(t){return e.checkScope[t]},e.setTabCheck=function(t){var r=e.lecture.injectOption;"code"!==t&&(e.selectedBlockCategory=null,"shape"===t?r.pictureeditable=!r.pictureeditable:"sound"===t&&(r.soundeditable=!r.soundeditable)),console.log({injectOption:r}),e.checkScope[t]=!e.checkScope[t],e.enableMenu=t},e.setInjectOption=function(t,r){e.lecture.injectOption[t]=r,e.adjustBlocksByInjectOption()},e.isCanView=function(t){var r=e.lecture;if(r){var n=r.preview;if(void 0!==r.tvcastUrl)return"tvcast"==t;if(r.doneProject&&"done"===n)return"done"==t;if(e.video&&"video"===n)return"youtube"==t}},e.isCategorySelected=function(t){return e.selectedCategory==t},e.selectCategory=function(t){e.selectedCategory=t},e.selectCheckElement=function(t){var r,n=e.selectedCategory;"usage"==n?(r=e.lecture.usageList.indexOf(t))>-1?e.lecture.usageList.splice(r,1):e.lecture.usageList.push(t):"concept"==n?(r=e.lecture.conceptList.indexOf(t))>-1?e.lecture.conceptList.splice(r,1):e.lecture.conceptList.push(t):"subject"==n&&((r=e.lecture.subjectList.indexOf(t))>-1?e.lecture.subjectList.splice(r,1):e.lecture.subjectList.push(t)),e.lectureCategory=!!(e.lecture.usageList.length||e.lecture.conceptList.length||e.lecture.subjectList.length)},e.getCheckElements=function(){var t=e.selectedCategory;return"usage"==t?EntryStatic.usageList:"concept"==t?EntryStatic.conceptList:"subject"==t?EntryStatic.subjectList:void 0},e.closeStep2Intro=function(){document.getElementsByClassName("ng-scope")[0].style.overflow="auto",e.step2IntroButton=!1},e.closeStep2NeverAgain=function(){e.closeStep2Intro(),window.localStorage.setItem("entryLecture","false")},e.nextTab=function(){window.scrollTo(0,0),e.changeTab(e.currentTab+1)},e.prevTab=function(){window.scrollTo(0,0),e.changeTab(e.currentTab-1)},e.editLecture=function(){if(b()){if(e.lecture.updated=new Date,!e.lecture.basicProject){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,o=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw u}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e.lecture.studies||[],1)[0],o=void 0===n?{}:n;e.lecture.basicProject=o.basicProject}r.put("/api/lecture/".concat(e.lecture._id),e.lecture,{headers:{"csrf-token":t.csrfToken()}}).success((function(t){e.isSaving=!1,entrylms.alert(e.lecture.title+Lang.Menus.saved_alert),window.location.href="/tt#!/custom/lecture/view/".concat(t._id)})).error((function(e){entrylms.alert(e)}))}},e.saveLecture=function(){if(e.lecture.availableBlocks=e.selectedBlocks,E(),v(),e.isSaving=!0,o.lectureId)e.editLecture();else{for(var n in e.lecture.updated=new Date,e.isOriginLecture=!0,e.lecture.isOpen=!!e.isSharedChecked("public"),e.lecture.openArea.groupList=[],l){var u=l[n];e.sharedAreaObj[u]&&e.lecture.openArea.groupList.push(u)}r.post("/api/lecture",e.lecture,{headers:{"csrf-token":t.csrfToken()}}).success((function(t){e.isSaving=!1,entrylms.alert(e.lecture.title+Lang.Menus.saved_alert),window.location.href="/tt#!/custom/lecture/view/".concat(t._id)})).error((function(t,r){509===r?entrylms.alert(Lang.Menus.contents_abuse_detected):entrylms.alert(Lang.Msgs.error_occured),e.isSaving=!1}))}};var v=function(){var t=e.lecture.availableBlocks,r=h(t,"variable"),n=r.blocks;r.blocks=_.without(n,"variableAddButton","listAddButton"),n=(r=h(t,"func")).blocks,r.blocks=_.without(n,"functionAddButton")},E=function(){for(var t=0;t<e.blockAll.length;t++){for(var r=[],n=e.blockAll[t].category,o=e.blockAll[t].blocks,u=e.selectedBlocks[t].blocks,a="all"===e.getBlockCategoryStatus(n),c=0;c<o.length;c++){var i=o[c];(_.includes(u,i)||a)&&r.push(i)}e.lecture.availableBlocks[t].blocks=r}},b=function(){if(e.lecture.isForCourse)return!0;var t=!1;for(var r in e.editMode&&(t=!0),e.sharedAreaObj)e.sharedAreaObj[r]&&(t=!0);for(var n=document.querySelectorAll(".lectureGoals"),o=0;o<n.length;o++)e.lecture.goals[o]=n[o].value;return e.lecture.goals=e.lecture.goals.filter((function(e){return!!e})),e.lecture.description=document.querySelector(".lectureDescription").value,e.lecture.goals.length<=0&&e.lecture.goals.push(""),e.lecture.doneProject||e.lecture.youtubeHash?e.lecture.title?e.lecture.grade.length?e.isEditMode||t?e.lecture.difficulty?e.lecture.requiredTime?e.lecture.goals[0]&&e.lecture.goals[0].trim()?!!e.lecture.description||(entrylms.alert(Lang.Menus.enter_lecture_description),!1):(entrylms.alert(Lang.Menus.enter_goals),!1):(entrylms.alert(Lang.Menus.enter_time_spent),!1):(entrylms.alert(Lang.Menus.enter_level_diff),!1):(entrylms.alert(Lang.Menus.enter_shared_area),!1):(entrylms.alert(Lang.Menus.enter_recommanded_grade),!1):(entrylms.alert(Lang.Menus.enter_title),!1):(entrylms.alert(Lang.Menus.enter_project_video),!1)};function y(){for(var e=EntryStatic.getAllBlocks(),t=e.length-1;t>=0;t--)for(var r=e[t].blocks,n=r.length-1;n>=0;n--){var o=Entry.block[r[n]]||{};o.def&&!_.includes(o.isNotFor,"checker")||r.splice(n,1)}return e}e.isLang=function(e){return i.get("lang")==e},e.backUrl=function(){window.location.href="/tt#!/custom/lecture/view/".concat(e.lecture._id)},e.runProject=function(){e.isEntryStop=!1,Entry.engine.toggleRun()},e.previewOptions=function(e){return(e=e.map((function(e){return Lang.EntryStatic[e]}))).join(", ")},e.generateSharedList=function(){var t=[],r=e.sharedAreaObj;r.public&&t.push(Lang.EntryStatic.public);var n=e.sharedgroupList;for(var o in n){var u=n[o];r[u._id]&&t.push(u.name)}return r.private&&t.push(Lang.EntryStatic.private),t.length?t.join(", "):Lang.Menus.select_share_area},e.setSelectedBlocks=function(t){e.selectedBlocks=t||y(),12==e.selectedBlocks.length&&e.selectedBlocks.splice(11,0,{category:"expansion",blocks:[]}),e.adjustBlocksByInjectOption()},e.adjustBlocksByInjectOption=function(){var t=e.selectedBlocks,r=e.lecture.injectOption,n=h(t,"variable");n.blocks=_.without(n.blocks,"variableAddButton","listAddButton");var o=n.blocks;r.variableEnable&&o.push("variableAddButton"),r.listEnable&&o.push("listAddButton"),(n=h(t,"func")).blocks=_.without(n.blocks,"functionAddButton"),o=n.blocks,r.functionEnable&&o.push("functionAddButton")},e.checkInjectOptionByBlocks=function(t){var r=h(t=t||e.selectedBlocks,"variable"),n=r.blocks,o=e.lecture.injectOption;o.variableEnable=_.includes(n,"variableAddButton"),o.listEnable=_.includes(n,"listAddButton"),n=(r=h(t,"func")).blocks,o.functionEnable=_.includes(n,"functionAddButton")}}]).directive("blocks",["$compile",function(e){return{restrict:"E",scope:{},transclude:!1,link:function(e,t,r){Entry.mediaFilePath="/lib/entry-js/images/";var n=document.createElement("div");n.className="blockDirective",t.replaceWith(n);var o=new Blockly.BlockMenu(n);o.isViewOnly=!0;var u=e.$parent.blockHelp[r.type].xml,a=jQuery.parseXML(u).childNodes,c=o.show(a);$(n).css({height:c+10})}}}])},1377:function(e,t){angular.module("mean.study").controller("CurriculumBuildController",["$scope","$route","$routeParams","$location","$uibModal","$log","Global","$http","Projects","$timeout","$sce","$cookies","$q",function(e,t,r,n,o,u,a,c,i,s,l,p,d){e.isEntryStop=!0,e.global=a,e.isSaving=!1,e.csrfToken=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),a.authenticated||n.path("/custom/curriculum/list"),e.currentTab=1,e.curriculumGrades=EntryStatic.lectureGrades,e.curriculumLevels=EntryStatic.lectureLevels,e.selectedCategory="usage",function(){e.isOriginCurriculum=!0;var t=r.curriculumId;if(window.user&&"teacher"==window.user.role){var n="/api/group/groups/"+window.user._id;c.get(n).success((function(t){for(var r in e.sharedgroupList=t,e.userLecture=t,e.sharedgroupList=t,m=[],t)t[r]&&(e.sharedAreaObj[t[r]._id]=!1,m.push(t[r]._id));m.length>0&&(g=m)})).error((function(e){console.log(" error occured ",e)})),t?(c({method:"GET",url:"/api/curriculum/"+t}).success((function(t,r){e.curriculum=t,t.parent&&(e.isOriginCurriculum=!1),e.selectedLectures=e.curriculum.lectures,e.selectedLectures&&e.selectedLectures.length>0&&e.setCurrentLecture(0),f(),function(t){c.get("/api/curriculum/favorites/"+t).success((function(t,r){e.curriculum.interest=t}))}(t._id),e.curriculumCreated=new Date(e.curriculum.created),e.curriculum.updated?e.curriculumUpdated=new Date(e.curriculum.updated):e.curriculumUpdated=new Date(e.curriculum.created)})),e.isEditMode=!0):(e.curriculum={title:"",description:"",goals:[""],lectures:[],usageList:[],conceptList:[],subjectList:[],openArea:{},user:e.global.user,grade:[]},e.isEditMode=!1,e.curriculumCreated=new Date,e.curriculum.updated,e.curriculumUpdated=new Date)}}(),e.step2View="upload",e.encode=function(e){return encodeURIComponent(e)},e.tempSharedgroupList=[],e.lectureSlots=new Array(6),e.selectedLectures=[],e.type="individual",e.sharedSpace=["public","group","private"],e.sharedAreaObj={},e.lectureSharedAreaObj={};var g=[],m=[];e.addLectures=function(t){var r=!1;if(e.selectedLectures.length>0)for(var n in e.selectedLectures)for(var o in t)e.selectedLectures[n]._id==t[o]._id&&(t.splice(o,1),r=!0);r&&entrylms.alert(Lang.Menus.alert_duplicate_lecture),t.forEach((function(t){e.selectedLectures.push(t),e.currentLecture||e.setCurrentLecture(0),f()}))},e.checkSelectedSlot=function(t){return!!e.selectedLectures[t]},e.getSelectedSlot=function(t){return e.selectedLectures[t]||t},e.selectedPage=0,e.selectedSlots=[[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15],[16,17,18,19,20],[21,22,23,24,25],[26,27,28,29,30]];var f=function(){for(var t in e.selectedLectures)e.selectedLectures[t].isForCourse&&a.isLectureStaticThumb(e.selectedLectures[t])&&(e.selectedLectures[t].staticThumb=!0)};function h(t){var r=!1;for(var n in e.sharedAreaObj)e.sharedAreaObj[n]&&(r=!0);if(1==e.currentTab){if(""==e.curriculum.title)return entrylms.alert(Lang.Menus.enter_title),!1;if(0===e.curriculum.grade.length)return entrylms.alert(Lang.Menus.enter_recommanded_grade),!1;if(!e.isEditMode&&!r)return entrylms.alert(Lang.Menus.enter_shared_area),!1;if(""===e.curriculum.goals[0])return entrylms.alert(Lang.Menus.enter_goals),!1;if(""===e.curriculum.description)return entrylms.alert(Lang.Menus.enter_curriculum_description),!1}if(3===t){if(e.selectedLectures.length<1)return void entrylms.alert(Lang.Menus.enter_lesson_alert);e.step3LectureList=[],e.selectedLectures.length<=3?(e.step3LectureList=e.selectedLectures,e.step3LectureListExpand=!1,e.step3LectureListCollapse=!1):(e.step3LectureList.push(e.selectedLectures[0]),e.step3LectureList.push(e.selectedLectures[1]),e.step3LectureList.push(e.selectedLectures[2]),e.step3LectureListExpand=!0,e.step3LectureListCollapse=!1)}return!0}e.getLectureThumbnail=function(e){return e.staticThumb?a.staticLectureThumbnail(e,"M"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.getViewProject=function(){if(e.currentLecture){var t="/api/iframe/project/";return e.currentLecture.doneProject?t+e.currentLecture.doneProject._id+"?play=true":e.currentLecture.basicProject?t+e.currentLecture.basicProject._id+"?play=true":""}return""},e.runProject=function(){e.isEntryStop=!1,Entry.engine.toggleRun()},e.isCurrentLecture=function(t){return e.selectedLectures[t]===e.currentLecture},e.removeSelectedLecture=function(t){e.selectedLectures.splice(t,1),e.selectedLectures.length>0?e.currentLecture=e.selectedLectures[0]:delete e.currentLecture,0==e.selectedLectures.length&&(e.step2View="upload")},e.addLectureGoal=function(){e.currentLecture.goals||(e.currentLecture.goals=[]),e.currentLecture.goals.push("")},e.changeTab=function(t){h(t)&&(e.currentTab=t)},e.nextTab=function(){window.scrollTo(0,0),e.changeTab(e.currentTab+1)},e.prevTab=function(){window.scrollTo(0,0),e.changeTab(e.currentTab-1)},e.step2Edit=function(t){if(e.currentLecture=e.getSelectedSlot(t),!e.currentLecture)return entrylms.alert(Lang.Menus.open_edit_lessons),!1;e.step2View="edit"},e.step2Upload=function(){e.step2View="upload"},e.selectCurriculumGrade=function(t){$(".grade").on("hidden.bs.dropdown",(function(t){e.gradeSelected&&($(".grade").addClass("open"),e.gradeSelected=!1)}));var r=e.curriculum.grade.indexOf(t);r>-1?e.curriculum.grade.splice(r,1):e.curriculum.grade.push(t),e.gradeSelected=!0},e.selectGrade=function(t){$(".grade").on("hidden.bs.dropdown",(function(t){e.gradeSelected&&($(".grade").addClass("open"),e.gradeSelected=!1)}));var r=e.currentLecture.grade.indexOf(t);r>-1?e.currentLecture.grade.splice(r,1):e.currentLecture.grade.push(t),e.gradeSelected=!0},e.isGradeChecked=function(t){if(e.currentLecture)return e.currentLecture.grade.indexOf(t)>-1},e.isCGradeChecked=function(t){if(e.curriculum)return e.curriculum.grade.indexOf(t)>-1},e.addGoal=function(){e.curriculum.goals.push("")},e.removeGoal=function(t){e.curriculum.goals.splice(t,1)},e.removeLectureGoal=function(t){e.currentLecture.goals.splice(t,1)},e.lectureGrades=function(){return EntryStatic.lectureGrades},e.previewOptions=function(e){if(e)return(e=e.map((function(e){return Lang.EntryStatic[e]}))).join(", ")},e.generateSharedList=function(){var t=[],r=e.sharedAreaObj;r.public&&t.push(Lang.EntryStatic.publicCurriculum);var n=e.sharedgroupList;for(var o in n){var u=n[o];r[u._id]&&t.push(u.name)}return r.private&&t.push(Lang.EntryStatic.private),t.length?t.join(", "):Lang.Menus.select_share_area},e.isCategorySelected=function(t){return e.selectedCategory==t},e.selectCategory=function(t){e.selectedCategory=t},e.selectCheckElement=function(t){var r=e.selectedCategory;if("usage"==r)(n=e.curriculum.usageList.indexOf(t))>-1?e.curriculum.usageList.splice(n,1):e.curriculum.usageList.push(t);else if("concept"==r)(n=e.curriculum.conceptList.indexOf(t))>-1?e.curriculum.conceptList.splice(n,1):e.curriculum.conceptList.push(t);else if("subject"==r){var n;(n=e.curriculum.subjectList.indexOf(t))>-1?e.curriculum.subjectList.splice(n,1):e.curriculum.subjectList.push(t)}},e.selectLecCheckElement=function(t){var r=e.selectedCategory;if("usage"==r)(n=e.currentLecture.usageList.indexOf(t))>-1?e.currentLecture.usageList.splice(n,1):e.currentLecture.usageList.push(t);else if("concept"==r)(n=e.currentLecture.conceptList.indexOf(t))>-1?e.currentLecture.conceptList.splice(n,1):e.currentLecture.conceptList.push(t);else if("subject"==r){var n;(n=e.currentLecture.subjectList.indexOf(t))>-1?e.currentLecture.subjectList.splice(n,1):e.currentLecture.subjectList.push(t)}},e.isElementChecked=function(t){if(!e.curriculum)return!1;var r;switch(e.selectedCategory){case"usage":r=e.curriculum.usageList;break;case"concept":r=e.curriculum.conceptList;break;case"subject":r=e.curriculum.subjectList}return r.indexOf(t)>-1},e.isLecElementChecked=function(t){if(!e.currentLecture)return!1;var r;switch(e.selectedCategory){case"usage":r=e.currentLecture.usageList;break;case"concept":r=e.currentLecture.conceptList;break;case"subject":r=e.currentLecture.subjectList}return r.indexOf(t)>-1},e.addLecGoal=function(){e.currentLecture.goals.push("")},e.lectureTimes=function(){return EntryStatic.requiredTimes},e.selectTime=function(t){e.currentLecture.requiredTime=t},e.lectureLevels=function(){return EntryStatic.lectureLevels},e.selectLevel=function(t){e.currentLecture.difficulty=t},e.getCheckElements=function(){var t=e.selectedCategory;return"usage"==t?EntryStatic.usageList:"concept"==t?EntryStatic.conceptList:"subject"==t?EntryStatic.subjectList:void 0},e.openLecturesModal=function(){o.open({templateUrl:"/views/study/custom/curriculum/modal/lectures.html",controller:"LecturesModalController",backdrop:!1,keyboard:!1,resolve:{selectedCount:function(){return e.selectedLectures.length}}}).result.then((function(t){t&&t.selectedItem&&e.addLectures(t.selectedItem)}))},e.selectedPage=0,e.selectedSlots=[[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15],[16,17,18,19,20],[21,22,23,24,25],[26,27,28,29,30]],e.selectedSlotBack=function(){e.selectedPage>0&&(e.selectedPage=e.selectedPage-1)},e.selectedSlotNext=function(){e.selectedPage<5&&(e.selectedPage=e.selectedPage+1)},e.trustUrl=function(e){return l.trustAsResourceUrl(e)},e.getCurrentCheckList=function(){var t=e.selectedCategory;if(e.curriculum)return"usage"==t?e.curriculum.usageList:"concept"==t?e.curriculum.conceptList:"subject"==t?e.curriculum.subjectList:void 0},e.step3LectureToggle=function(){e.step3LectureListExpand?e.step3LectureList=e.selectedLectures:(e.step3LectureList=[],e.step3LectureList.push(e.selectedLectures[0]),e.step3LectureList.push(e.selectedLectures[1]),e.step3LectureList.push(e.selectedLectures[2])),e.step3LectureListExpand=!e.step3LectureListExpand,e.step3LectureListCollapse=!e.step3LectureListCollapse},e.editCurriculum=function(){if(h()){var t=r.curriculumId,o={curriculum:e.curriculum,targetSubject:"curriculum",targetType:e.type};c.put("/api/curriculum/"+t,o,{headers:{"csrf-token":e.csrfToken}}).success((function(t){e.isSaving=!1,entrylms.alert(t.title+Lang.Menus.saved_alert),n.url("/custom/curriculum/view/"+t._id),window.location.href="/tt#!/custom/curriculum/view/"+t._id})).error((function(e){entrylms.alert("강의모음 수정중에 문제가 발생하였습니다. "),window.location.href="/tt#!/custom/curriculum/view/"+curriculum._id}))}},e.save=function(){if(e.isEditMode)e.editCurriculum();else{for(var t in e.isSaving=!0,e.isOriginCurriculum=!0,r.curriculumId,e.curriculum.lectures=e.selectedLectures,e.isSharedChecked("public")?e.curriculum.isOpen=!0:e.curriculum.isOpen=!1,e.curriculum.openArea||(e.curriculum.openArea={}),e.curriculum.openArea.groupList=[],e.tempSharedgroupList){var n=e.tempSharedgroupList[t];e.sharedAreaObj[n]&&e.curriculum.openArea.groupList.push(n)}for(var t in e.staticCurriculum){for(var o in e.curriculum.openArea.groupList)e.staticCurriculum[e.curriculum.openArea.groupList[o]]=!0;if(0==e.staticCurriculum[t]){var u="/api/group/curriculumDel/"+t,a={curriculumId:e.curriculum._id};c({method:"DELETE",url:u,data:a,headers:{"Content-Type":"application/json;charset=utf-8","csrf-token":e.csrfToken}}).success((function(e,t){})).error((function(t,r){e.status=r}))}}e.curriculum.updated=new Date;var i={curriculum:e.curriculum,targetSubject:"curriculum",targetType:e.type};c.post("/api/curriculum",i,{headers:{"csrf-token":e.csrfToken}}).success((function(t){e.isSaving=!1,entrylms.alert(t.title+Lang.Menus.saved_alert),window.location.href="/tt#!/custom/curriculum/view/"+t._id})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected):entrylms.alert("강의모음 저장중에 문제가 발생하였습니다. "),window.location.href="/tt#!/custom/curriculum/view/"+curriculum._id}))}},e.isLang=function(e){return p.get("lang")==e},e.selectShared=function(t){$(".shared").on("hidden.bs.dropdown",(function(t){e.sharedSelected&&($(".shared").addClass("open"),e.sharedSelected=!1)})),e.sharedAreaObj[t]=!e.sharedAreaObj[t];var r=e.tempSharedgroupList;if("private"==t){e.sharedAreaObj.public=!1,e.sharedAreaObj.group=!1,m=[];for(var n=0;n<r.length;n++)e.sharedAreaObj[r[n]]=!1}else if("public"==t)e.sharedAreaObj.private=!1;else if("group"==t){if(e.sharedAreaObj.private=!1,1==e.sharedAreaObj.group)for(var n in e.sharedgroupList){var o=e.sharedgroupList[n];e.sharedAreaObj[o._id]=!0,g[n]=o._id}else{for(var n in e.sharedgroupList)o=e.sharedgroupList[n],e.sharedAreaObj[o._id]=!1;g=[]}for(r=g,e.tempSharedgroupList=r,n=0;n<r.length;n++)e.sharedAreaObj[r[n]]=e.sharedAreaObj.group}else{var u=!1,a=e.tempSharedgroupList.indexOf(t);if(e.sharedAreaObj[t])a<=-1&&e.tempSharedgroupList.push(t);else{var c=e.tempSharedgroupList.splice(a,1);g.push(c[0]),e.sharedAreaObj[t]=!1}for(n=0;n<r.length;n++)if(0==e.sharedAreaObj[r[n]]){e.sharedAreaObj.private=!1,e.sharedAreaObj.group=!1,u=!0;break}for(var n in u||(e.sharedAreaObj.group=!0,e.sharedAreaObj.private=!1),e.sharedgroupList)if(o=e.sharedgroupList[n],1==e.sharedAreaObj[o._id]){e.sharedAreaObj.group=!0;break}}e.sharedSelected=!0},e.dropdownToggle=function(e){$("."+e).hasClass("open")?$("."+e).addClass("open"):$("."+e).removeClass("open")},e.isSharedChecked=function(t){return e.sharedAreaObj[t]},$(".grade").on("hidden.bs.dropdown",(function(t){e.gradeSelected&&($(".grade").addClass("open"),e.gradeSelected=!1)})),e.isLectureGradeChecked=function(t){return e.currentLecture.grade.indexOf(t)>-1},e.deleteUploadFile=function(t){e.curriculum.file=null},e.uploadFile_lecutre=function(t){delete e.curriculum.lectures[t].file},e.upload=function(t){var r=new FormData,n="lecture"==t?document.getElementById("lecUploadFile").files[0]:document.getElementById("uploadFile").files[0],o=t;return"lecture"==t&&(o="currentLecture"),n?n.size>20971520?(document.getElementById("uploadFile").value="",entrylms.alert(Lang.Menus.upload_limit_20mb),!1):(r.append("uploadFile",n),void $.ajax({url:"/rest/"+t+"/upload",data:r,cache:!1,contentType:!1,processData:!1,type:"POST",headers:{"csrf-token":e.csrfToken},success:function(t){var r=t.fileUrl.split("/");e.$apply((function(){e[o].file={},e[o].file.name=t.fileName,e[o].file.path=t.filePath,e[o].file.url=t.fileUrl,e[o].file.id=r[r.length-1]}))}})):(entrylms.alert(Lang.Menus.file_required),!1)},e.goMakeLecture=function(){window.location.href="tt#!/custom/lecture/build/lecture"},e.setCurrentLecture=function(t){e.currentLecture=e.selectedLectures[t]},e.sortOptions={cancel:".notFilled"},e.backUrl=function(){window.history.back()}}])},1378:function(e,t){angular.module("mean.study").controller("CurriculumViewController",["$scope","Global","$http","$routeParams","$location","$cookies","Comments","Recommends",function(e,t,r,n,o,u,a,c){function i(e,t,r){if(t.lecture===r._id)for(var n=0;n<t.studyStatus.length;n++){var o=t.studyStatus[n];e.data[n]=o}return e}function s(e,t){(e={}).type="LECTURE_INDICATOR",e.data=[];for(var r=0;r<t;r++)e.data[r]={type:"BASIC"};return e}function l(t,r){var n=$(".curriculumViewTopScroll").eq(0),o=n.scrollLeft(n.scrollLeft()-t);e.scrollLeft=o.scrollLeft(),r&&e.$apply()}function p(t){r.post("/api/comment",{content:t,target:e.curriculum._id,targetSubject:"curriculum",targetType:e.type},{headers:{"csrf-token":e.csrfToken,"limit-type":"curriculum"}}).success((function(t,r){e.commentOption.page=1,e.commentText="",e.getComment()})).error((function(t,r){510===r?(entrylms.alert(Lang.Menus.discuss_write_abuse_warn),e.commentOption.page=1,e.commentText="",e.getComment()):509===r?entrylms.alert(Lang.Menus.discuss_write_abuse_detected):entrylms.alert(Lang.Menus.no_permission)}))}function d(t){r.put("/api/comment/".concat(t._id),{content:t.content},{headers:{"csrf-token":e.csrfToken}}).success((function(e){t.editing=!1}))}e.selectedCategory="usage",e.currentSocial="like",e.currentTags="related",e.global=t,e.curriculumId=n.curriculumId,e.currentLecture=null,e.lectureTemplate="/views/study/custom/lecture/view.html",e.currentStep=0,e.currentCheckTarget="usage",e.scrollLeft=0,e.likeShown=10,e.interestShown=10,e.commentText="",e.type="individual",e.isAuth=t.authenticated,e.commentOption={rows:5,page:1},e.currentPage=1,e.client=void 0,e.adminList=t.getAdminUserList()||[],e.global.user||(e.global.user={}),e.init=function(){e.csrfToken=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),u.put("lectureListOpen","close"),e.currentUser=window.user,o.path().indexOf("me")>0&&(e.goMonthlyButton=!0);var n={targetSubject:"curriculum",targetType:e.type};r({method:"GET",url:"/api/curriculum/".concat(e.curriculumId,"?like=true&view=true"),params:n}).success((function(n,o){for(var u in delete n.like,e.curriculum=n,function(t){var r=!t.isOpen,n=t.user._id,o=e.global.user;r&&n!==o._id&&"admin"!==o.role&&entrylms.alert("비공개 강의 모음입니다.").on("hide",(function(){location.href="/tt#!/custom/curriculum/list"}))}(n),function(){if(window.user){var t="/api/curriculum/likes/".concat(e.curriculum._id),n={targetSubject:"curriculum",targetType:e.type};r({method:"GET",url:t,params:n}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.curriculum.like=r}}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}));t="/api/curriculum/mylike/".concat(e.curriculum._id),n={targetSubject:"curriculum",targetType:e.type};r({method:"GET",url:t,params:n}).then((function(t){200===t.status?t.data&&(e.isLikeThis=!0):entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))}}(),function(){var t={targetSubject:"curriculum",targetType:e.type};r.get("/api/curriculum/favorites/".concat(e.curriculumId),{params:t}).success((function(t,r){e.curriculum.interest=t,e.currentUser&&t.map((function(t){t.user&&t.user._id==e.currentUser._id&&(e.isInterestThis=!0)}))}))}(),function(){var t={curriculum:e.curriculumId},n="/api/lecture/curriculumProgress/".concat(e.curriculum._id);r.post(n,t,{headers:{"csrf-token":e.csrfToken}}).success((function(t){!function(t){for(var r=function(){var t=[],r=e.curriculum.lectures;e.notStuBasic=[];for(var n=0;n<r.length;n++){var o=r[n],u=o.studies.length;t[n]=s(o,u)}return t}(),n=e.curriculum.lectures,o=0;o<n.length;o++){var u=n[o];r[o].title=u.title;for(var a=0;a<t.length;a++){var c=t[a];r[o]=i(r[o],c,u)}}e.notStuBasic=r}(t)}))}(),e.getComment(),e.lecturelen=n.lectures.length,e.curriculumCreated=new Date(n.created),n.updated?e.curriculumUpdated=new Date(n.updated):e.curriculumUpdated=new Date(n.created),e.lectureList=[],n.lectures.length<=3?(e.lectureList=n.lectures,e.lectureListExpand=!1,e.lectureListCollapse=!1):(e.lectureList.push(n.lectures[0]),e.lectureList.push(n.lectures[1]),e.lectureList.push(n.lectures[2]),e.lectureListExpand=!0,e.lectureListCollapse=!1),n.lectures)n.lectures[u].isForCourse&&t.isLectureStaticThumb(n.lectures[u])&&(n.lectures[u].staticThumb=!0)}))},e.getComment=function(){r({method:"GET",url:"/api/comment/curriculum/list/".concat(e.curriculumId,"/").concat(e.commentOption.page),params:{page:e.commentOption.page,target:e.curriculum._id,targetType:e.type,targetSubject:"curriculum"}}).success((function(t,r){e.comments=t,e.getCommentCount()}))},e.getCommentCount=function(){r({method:"GET",url:"/api/comment/curriculum/count/".concat(e.curriculumId),params:{target:e.curriculum._id,targetType:e.type,targetSubject:"curriculum"}}).success((function(t,r){e.commentCount=t,e.totalPages=Math.ceil(t/e.commentOption.rows);var n=Math.ceil(t/e.commentOption.rows),o=Math.ceil(e.currentPage/10),u=1===o?1:10*o-9;e.currentPage>5&&e.currentPage+5<n&&(u=e.currentPage-4),n>u+9&&(n=u+9),e.lastPage=n,e.pageList=[];for(var a=u;a<=n;a++)e.pageList.push(a)}))},e.showProgress=function(){new entrylms.Modal([{type:"LECTURE_PROGRESS",title:e.curriculum.title,content:e.notStuBasic,contentType:"CURRICULUM",closeButtonText:Lang.Buttons.confirm}]).on("show",(function(){})).on("hide",(function(){})).on("click",(function(t,n){if("select"===t){var o,u=n.lectureIndex,a=n.studyIndex,c=e.curriculum||{},i=c.lectures[u];o=i.isForCourse?"course#!/".concat(i._id,"/").concat(a):"le/".concat(i._id);var s=e.currentUser.studyCurriculum,l=[],p=!1;if(s.length>0){for(var d in s)l.push(s[d].curriculum);p=l.indexOf(c._id)>-1}e.currentUser&&!p?r.post("/api/users/setStudyCurriculum",{userId:e.currentUser._id,curriculumId:c._id,status:0},{headers:{"csrf-token":e.csrfToken}}).success((function(e,t){window.location.href=o})).error((function(e,t){console.log("err:",e),window.location.href=o})):window.location.href=o}})).show()},$(".curriculumViewTopScroll").eq(0).on("mousewheel",(function(e){e.preventDefault(),l(e.originalEvent.wheelDelta,!0)})),e.getNumber=function(t){return"".concat(e.curriculum.goals.indexOf(t)+1,". ")},e.getDescription=function(){if(""==e.curriculum.description)return e.curriculum.description},e.hoverSocial=function(t){e.currentSocial=t},e.likeCurriculum=function(){if(e.currentUser&&!e.isEditLike)if(e.isEditLike=!0,e.isLikeThis){var n="/api/curriculum/unlike/".concat(e.curriculum._id),o={targetSubject:"curriculum",targetType:e.type};r({method:"DELETE",url:n,params:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.curriculum.like=r}e.isLikeThis=!1,e.isEditLike=!1}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))}else n="/api/curriculum/like/".concat(e.curriculum._id),o={targetSubject:"curriculum",targetType:e.type},r({method:"POST",url:n,data:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.curriculum.like=r}e.isLikeThis=!0,e.isEditLike=!1}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))},e.interestCurriculum=function(){if(e.currentUser&&!e.isEditInterest){if(e.isEditInterest=!0,e.isInterestThis){var t="/api/curriculum/favorite/".concat(e.curriculum._id),n={targetSubject:"curriculum",targetType:e.type};r.delete(t,{params:n,headers:{"csrf-token":e.csrfToken}}).success((function(t,o){e.isInterestThis=!1,r.get("/api/curriculum/favorites/".concat(e.curriculum._id),{params:n}).success((function(t,r){e.curriculum.interest=t}))}))}else t="/api/curriculum/favorite/".concat(e.curriculum._id),n={targetSubject:"curriculum",targetType:e.type},r.post(t,n,{headers:{"csrf-token":e.csrfToken}}).success((function(t,o){e.isInterestThis=!0,r.get("/api/curriculum/favorites/".concat(e.curriculum._id),{params:n}).success((function(t,r){e.curriculum.interest=t}))}));e.isEditInterest=!1}},e.setCurrentLecture=function(t){Entry.dispatchEvent("curriculumChange"),e.currentLecture=t},e.isBoxSelected=function(t){return e.currentLecture==t},e.prev=function(){l(330)},e.hasPrev=function(){return e.scrollLeft>0},e.next=function(){l(-330)},e.hasNext=function(){if(e.curriculum){var t=e.curriculum.lectures.length-2;return!(e.scrollLeft>=329*t)}},e.shareFB=function(){for(var t=null,r=e.curriculum.lectures,n=0;n<r.length;n++)if(r[n].repStudy.doneProject&&r[n].repStudy.doneProject.thumb){t=r[n].repStudy.doneProject.thumb;break}if(null==t)for(n=0;n<r.length;n++)if(r[n].repStudy.basicProject&&r[n].repStudy.basicProject.thumb){t=r[n].repStudy.basicProject.thumb;break}null==t&&(t="/img/assets/logo_v2.png");var o="http://www.facebook.com/sharer/sharer.php?s=100&p[url]=".concat(e.curriculum.shortenUrl,"&p[images][0]=https://playentry.org").concat(t,"&p[summary]=엔트리 ").concat(e.curriculum.title);window.open(o,"fb","width=600px, height=450px")},e.shareTW=function(){var t=encodeURIComponent(e.curriculum.title),r=encodeURIComponent(Lang.Menus.Entry),n="".concat("https://twitter.com/intent/tweet","?hashtags=").concat(r,"&original_referer=").concat(encodeURIComponent("https://playentry.org"),"&source=tweetbutton&text=").concat(t,"&url=").concat(e.curriculum.shortenUrl);window.open(n,"tweet","width=600px, height=250px")},e.hoverCheckTarget=function(t){e.currentCheckTarget=t},e.getCurrentCheckList=function(){var t=e.selectedCategory;if(e.curriculum)return"usage"==t?e.curriculum.usageList:"concept"==t?e.curriculum.conceptList:"subject"==t?e.curriculum.subjectList:void 0},e.isMine=function(){if(e.curriculum&&e.curriculum.user)return e.curriculum.user._id==e.global.user._id},e.removeCurriculum=function(){entrylms.confirm(Lang.Menus.study_remove_curriculum).then((function(t){!0===t&&r.delete("/api/curriculum/".concat(e.curriculum._id),{headers:{"csrf-token":e.csrfToken}}).success((function(t){window.location.href="/".concat(e.curriculum.user.username,"#!/my_curriculum")}))}))},e.deleteTrim=function(e){return e?e.trim():""},e.curriculumList=function(){if(returnUrl)location.href=decodeURIComponent(returnUrl);else{if(c.getIds().indexOf(e.curriculumId)>-1||c.getIdsMonthly().indexOf(e.curriculumId)>-1)return o.path("/rc");o.path("/custom/curriculum/list")}},e.goMonthly=function(){o.path("/me")},e.lectureToggle=function(){e.lectureListExpand?e.lectureList=e.curriculum.lectures:(e.lectureList=[],e.lectureList.push(e.curriculum.lectures[0]),e.lectureList.push(e.curriculum.lectures[1]),e.lectureList.push(e.curriculum.lectures[2])),e.lectureListExpand=!e.lectureListExpand,e.lectureListCollapse=!e.lectureListCollapse},e.getLectureThumbnail=function(e){return"done"===e.preview&&e.doneProject?{"background-image":"url('".concat(e.doneProject.thumb,"')")}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/".concat(e.youtubeHash,"/mqdefault.jpg')")}:e.repStudy&&e.repStudy.basicProject&&e.repStudy.basicProject.thumb?{"background-image":"url('".concat(e.repStudy.basicProject.thumb,"')")}:{}},e.viewLecture=function(t){e.goMonthlyButton?o.path("/custom/lecture/me/view/".concat(t._id)):o.path("/custom/lecture/view/".concat(t._id))},e.selectCategory=function(t){e.selectedCategory=t},e.isCategorySelected=function(t){return e.selectedCategory==t},e.hasMore=function(t){var r=e.curriculum;return!!r&&!!r.like&&("like"==t&&r.like?r.like.length>e.likeShown:"interest"==t&&r.interest?r.interest.length>e.interestShown:void 0)},e.seeMore=function(t){return"like"==t?e.likeShown+=10:"interest"==t?e.interestShown+=10:void 0},e.commentUpload=function(){var n=$(".commentText").eq(0).val().trim();if(""===n)return entrylms.alert(Lang.Menus.content_required),!1;r.post("/api/user/checkfiltercontent",{content:n},{headers:{"csrf-token":e.csrfToken}}).success((function(e){e.ok?p(n):t.setBadUser((function(){p(t.getRandomReplaceWord())}))})).error((function(e){p(n)}))},e.editedCommentUpload=function(n){""!==n.content.trim()?r.post("/api/user/checkfiltercontent",{content:n.content},{headers:{"csrf-token":e.csrfToken}}).success((function(e){e.ok?d(n):t.setBadUser((function(){n.content=t.getRandomReplaceWord(),d(n)}))})).error((function(e){d(n)})):entrylms.alert("내용을 입력해 주세요.")},e.editComment=function(e){e.editing=!0},e.deleteComment=function(t){var n={target:e.curriculum._id,targetSubject:"curriculum",targetType:e.type};r.delete("/api/comment/".concat(t._id),{params:n,headers:{"csrf-token":e.csrfToken}}).success((function(){for(var r in e.comments)e.comments[r]._id===t._id&&e.comments.splice(r,1),r++;e.getComment()}))},e.popupReport=function(t,r,n){var o={};o.project=e.curriculum,o.type=t,o.discussId=r,o.comment=n,o.study="course",$.event.trigger($.Event("popupReport",{info:o}))},e.updateCurriculum=function(e){window.location.href="/tt#!/custom/curriculum/build/".concat(e)},e.nextPage=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(Math.ceil(e.projectCount/Number(e.getOption("rows").value))>t))return!1;e.setOption({name:"page",value:t+1}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.setPage=function(t){return!(t<1)&&!(t>e.totalPages)&&(e.beforePage=e.commentOption.page,e.commentOption.page=t,e.currentPage=t,void(e.beforePage!=t&&e.getComment()))},e.prevPageGroup=function(){var t=e.currentPage;if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setPage(e.currentPage)},e.nextPageGroup=function(){var t=e.currentPage;t||(t=1);var r=Math.ceil(e.commentCount/e.commentOption.rows);if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setPage(e.currentPage)}}])},1379:function(e,t,r){angular.module("mean.study").controller("CurriculumListController",["$scope","$route","$routeParams","$location","$uibModal","$log","Global","$http","Projects","$timeout","$cookies",function(e,t,n,o,u,a,c,i,s,l,p){e.global=c,e.page=1,e.usageList=EntryStatic.usageList,e.conceptList=EntryStatic.conceptList,e.subjectList=EntryStatic.subjectList,e.grades=EntryStatic.lectureGrades,e.selectedGrades=[],e.selectedUsages=[],e.selectedConcepts=[],e.selectedSubjects=[],e.max_val=[e.grades.length,e.usageList.length,e.conceptList.length,e.subjectList.length],e.def_val=[6,6,4,6],e.selectToggle=[{name:"grade",enable:!1,use_val:6},{name:"usage",enable:!1,use_val:6},{name:"concept",enable:!1,use_val:4},{name:"subject",enable:!1,use_val:6}],e.categories=EntryStatic.categoryList,e.sortList=["updated","visit","likeCnt","comment"],e.periodList=["1","7","30","90"],e.status={isSortOpen:!1,isPeriodOpen:!1},e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:Lang.Menus.latest},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:12},{name:"page",value:1},{name:"title",value:""},{name:"user",value:""}],e.searchWord="",e.users=[];var d="/img/assets/study/curriculum/",g={e_1:d+"e1.png",e_2:d+"e1.png",e_3:d+"e3.png",e_4:d+"e3.png",e_5:d+"e5.png",e_6:d+"e5.png",general:d+"general.png",m_1:d+"m1.png",m_2:d+"m1.png",m_3:d+"m1.png"};function m(e){if(!e)return g.general;if(1===e.length)return g[e];var t=EntryStatic.lectureGrades;return e.sort((function(e,r){return t.indexOf(e)-t.indexOf(r)})),g[e[e.length-1]]}function f(e){for(var t in e)if(e[t].quiz)return!0;return!1}e.setPage=function(t){e.page=t,e.currentPage=t,e.addOption({name:"page",value:t}),e.find()},e.updateUsers=function(t){var r=$("#curriculumProjectSearchInput").val();r&&r.length>2&&i.get("/api/users/find/"+r).success((function(t,r){e.users=t;var n=416;$(".curriculum-dropdown-autocomplete").css("overflow","auto"),e.users.length<10&&(n=41*e.users.length+6,$(".curriculum-dropdown-autocomplete").css("overflow","hidden")),$(".curriculum-dropdown-autocomplete").css("height",n+"px")})).error((function(t,r){e.users=[]}))},e.isLang=function(e){return p.get("lang")==e},e.checkFavCurriculum=function(e){var t=window.user.studyCurriculum;if(t.length<=0)return!1;for(var r=0;r<t.length;r++)if(t[r].curriculum==e)return!0;return!1},e.showThumbnail=function(e){if(e){var t=e.lectures[0];if(!t)return{};var r=t.doneProject,n=t.basicProject;return!n&&t.repStudy&&(n=t.repStudy.basicProject),r&&r.thumb?{"background-image":"url('"+r.thumb+"')"}:n&&n.thumb?{"background-image":"url('"+n.thumb+"')"}:{}}},e.selectObject=function(t){if(1==e.selectToggle[t].enable)e.selectToggle[t].use_val=e.def_val[t],e.selectToggle[t].enable=!1;else{for(var r in e.selectToggle)e.selectToggle[r].enable=!1,e.selectToggle[r].use_val=e.def_val[r];e.selectToggle[t].use_val=e.max_val[t],e.selectToggle[t].enable=!0}},e.init=function(){e.csrfToken=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),$(".curriculumListProjectsWrapper").css("min-height",innerHeight-290.2),$(window).resize((function(e){$(".curriculumListProjectsWrapper").css("min-height",innerHeight-290.2)})),$(document).on("touchend",(function(e){$(e.target).closest(".curriculumListNav").length||$("body").click()}));var t=o.search();if(!$.isEmptyObject(t))for(var r in t){var n=decodeURIComponent(t[r]);"grade"==r?e.selectedGrades=n.split(","):"usageList"==r?e.selectedUsages=n.split(","):"conceptList"==r?e.selectedConcepts=n.split(","):"subjectList"==r?e.selectedSubjects=n.split(","):"page"==r?(e.page=Number(n),e.currentPage=Number(n),e.addOption({name:"page",value:n})):"searchWord"==r?e.searchWord=n:"title"==r?(e.addOption({name:"user",value:""},!0),e.addOption({name:"title",value:n},!0)):"user"==r?(e.addOption({name:"title",value:""},!0),e.addOption({name:"user",value:n},!0)):e.addOption({name:r,value:n})}(e.selectedGrades.length>0||e.selectedUsages.length>0||e.selectedConcepts.length>0||e.selectedSubjectslength>0)&&(e.isCategoryOn=!0),e.find()},e.find=function(){var t="/api/curriculum/find?isOpen=true&"+v();i({method:"GET",url:t}).success((function(t,r){e.curriculumList=t,e.initTitle();for(var n=0;n<e.curriculumList.length;n++){var u=e.curriculumList[n];e.curriculumList[n].gradeImage=m(u.grade),e.curriculumList[n].quiz=f(u.lectures)}o.search(v()),e.isSearching=!1})).error((function(t,r){e.status=r,e.isSearching=!1})),e.count()},e.count=function(){var t="/api/curriculum/count?isOpen=true&"+v();i({method:"GET",url:t}).success((function(t,r){e.curriculumCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){e.totalPages=Math.ceil(e.curriculumCount/Number(e.getOption("rows").value));var t=Math.ceil(e.curriculumCount/Number(e.getOption("rows").value)),r=Math.ceil((e.page||1)/10),n=1===r?1:10*r-9;e.currentPage=e.currentPage||1,e.currentPage>5&&e.currentPage+5<t&&(n=e.currentPage-4),t>n+9&&(t=n+9),e.lastPage=t,e.pageList=[];for(var o=n;o<=t;o++)e.pageList.push(o)},e.setOption=function(t,r){"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value));for(var n=0,o=e.conditions.length;n<o;n++){var u=e.conditions[n];u&&u.name==t.name&&(t.label=u.label,e.conditions.splice(n,1))}e.conditions.push(t),r&&"page"===t.name?e.setPage(1):e.find()},e.addOption=function(t,r){"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value));for(var n=0,o=e.conditions.length;n<o;n++){var u=e.conditions[n];u&&u.name==t.name&&e.conditions.splice(n,1),r&&u&&"page"===u.name&&(u.value=1)}e.conditions.push(t)},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r].label=h(e.conditions[r]),e.conditions[r];return null};var h=function(e){return e.name+"_"+(e&&e.value&&""!=e.value?e.value:"all")},v=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n&&(t+="&"))}return e.selectedGrades.length>0&&(t=t+"grade="+e.selectedGrades.join(",")+"&"),e.selectedUsages.length>0&&(t=t+"usageList="+e.selectedUsages.join(",")+"&"),e.selectedConcepts.length>0&&(t=t+"conceptList="+e.selectedConcepts.join(",")+"&"),e.selectedSubjects.length>0&&(t=t+"subjectList="+e.selectedSubjects.join(",")+"&"),e.searchWord&&""!=e.searchWord&&(t=t+"searchWord="+encodeURIComponent(e.searchWord)),t};e.search=function(t){if(e.isSearching=!0,e.page=1,e.addOption({name:"page",value:1}),!e.searchWord)return e.users=[],e.addOption({name:"title",value:""},!0),void e.setOption({name:"user",value:""},!0);t?i({method:"GET",url:"/api/user/getId/"+e.searchWord}).success((function(t,r){t&&t._id?(e.addOption({name:"title",value:""},!0),e.setOption({name:"user",value:t._id},!0)):(e.addOption({name:"user",value:""},!0),e.setOption({name:"title",value:e.searchWord},!0),e.users=[])})).error((function(t){e.status=t})):(e.addOption({name:"user",value:""},!0),e.setOption({name:"title",value:e.searchWord},!0),e.users=[])},e.prevPage=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(t>1))return!1;e.setPage(t-1)},e.nextPage=function(){var t=Number(e.page);if(t||(t=1),!(Math.ceil(e.curriculumCount/Number(e.getOption("rows").value))>t))return!1;e.setPage(t+1)},e.lastPage=function(){var t=Math.ceil(e.curriculumCount/Number(e.getOption("rows").value));e.setOption({name:"page",value:t}),$("html,body").animate({scrollTop:$(".curriculumList").eq(0).position().top},700)},e.detail=function(e){o.path("/custom/curriculum/view/"+e._id)},e.prevPageGroup=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.nextPageGroup=function(){var t=Number(e.getOption("page").value);t||(t=1);var r=Math.ceil(e.curriculumCount/Number(e.getOption("rows").value));if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.toggleCategoryStatus=function(){e.isCategoryOn=!e.isCategoryOn},e.selectCategory=function(t,r){var n;switch(r+="",t){case"grade":n=e.selectedGrades;break;case"usage":n=e.selectedUsages;break;case"concept":n=e.selectedConcepts;break;case"subject":n=e.selectedSubjects}var o=n.indexOf(r);o>-1?n.splice(o,1):n.push(r),e.page=1,e.addOption({name:"page",value:1}),e.find()},e.isCategorySelected=function(t,r){var n;switch(t){case"grade":n=e.selectedGrades;break;case"usage":n=e.selectedUsages;break;case"concept":n=e.selectedConcepts;break;case"subject":n=e.selectedSubjects}return r+="",n.indexOf(r)>-1},e.setNumberOfInfo=function(t){switch(t){case"grade":e.numberOfGrade=e.grades.length;case"usage":e.numberOfUsage=e.usageList.length;case"concept":e.numberOfConcept=e.conceptList.length;case"subject":e.subjectList=e.subjectList.length}},e.initTitle=function(){var t=Object.keys(e.curriculumList).length;e.hoverTitle=[];for(var r=0;r<t;r++)e.hoverTitle.push(!1)},e.showTitleAll=function(t){e.hoverTitle[t]=!0},e.hideTitleAll=function(t){e.hoverTitle[t]=!1},e.countOver=function(e){return!!e&&e.title.length>=11},e.showPopup=function(t){e.popupToggle=!0,e.currentCurriculum=e.curriculumList[t],$("body").animate({scrollTop:$("#popupCWrapper").css("top")},800)},e.hidePopup=function(){e.popupToggle=!1,delete e.currentCurriculum},e.updateCurriculumArea=function(t){i.delete("/api/curriculum/"+e.currentCurriculum._id,{headers:{"csrf-token":e.csrfToken}}).success((function(t){e.hidePopup(),e.find()})).error((function(e){console.log("error",e)}))},e.openCurriculumPutModal=function(){u.open({templateUrl:"/views/study/custom/curriculum/modal/curriculums.html",controller:"CurriculumListModalController",resolve:{openAreaOption:function(){return{isOpen:!1}}},backdrop:!1,keyboard:!1}).result.then((function(t){if(t&&t.selectedItem)for(var r=0;r<t.selectedItem.length;r++){var n=t.selectedItem[r];n.isOpen=!0,n.updated=new Date,i.put("/api/curriculum/openArea/"+n._id,n,{headers:{"csrf-token":e.csrfToken}}).success((function(n){e.hidePopup(),r==t.selectedItem.length&&e.init()})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected):entrylms.alert(Lang.Msgs.error_occured)}))}}))},e.multiLineEllipsis=function(e,t){if(t){var r=$("#"+e),n=$("#"+e+"> pre > span"),o=r.css("min-height");o=+o.split("px")[0],(t=t.replace(/\n/g,"")).length>210&&(t=t.substring(0,210));for(var u=n.height();u>o;)t=t.substring(0,t.length-1).trim(),n.text((function(e){return t+"..."})),u=n.height();return t}},e.showShareGuide=function(){var e=r(294);"ko"!=p.get("lang")&&(e=r(295)),e=e.replace(/<\/span>/g,"</span><br/>").replace(/<\/div>/g,"</div><br/>").replace(/style=/g,"styleNone="),entrylms.alertTextarea({outerHTML:e},Lang.SharePolicy.title)}}])},1380:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupProjectsModalController",["$scope","$uibModalInstance","Global","$http","$sce",function(e,t,r,n,o){function u(t){e.projectList=[],!e.projectCount&&Number(t.count)>0&&(e.projectCountAll=Number(t.count)),e.projectCount=Number(t.count);var r=Number(t.skip),n=6*(e.page-1)-r,o=n+6;t.data.map((function(t,r){r>=n&&r<o&&e.projectList.push(t)})),e.generatePageList()}e.global=r,e.userId=r.user._id,e.projectList=[],e.global=r,e.timestamp=(new Date).getTime(),e.selectedView="myProject",e.artCategories=EntryStatic.artCategories,e.sortOptions=EntryStatic.artSortOptions,e.periodOptions=EntryStatic.artPeriodOptions,e.conditions=[{name:"category",value:"",label:"모든주제"},{name:"sort",value:"updated",label:"최신순"},{name:"period",value:"",label:"전체"},{name:"rows",value:6},{name:"page",value:1},{name:"name",value:""}],e.status={isCategoryOpen:!1,isSortOpen:!1,isPeriodOpen:!1},e.init=function(){e.cachedResult={},e.conditions.push({name:"user",value:e.userId}),e.conditions.push({name:"type",value:"project"}),e.conditions.push({name:"isopen",value:"",label:"공개/비공개 모두"}),e.selectView("myProject"),e.applyImages(),e.countFavorite()},e.selectView=function(t){e.projectList=[],e.selectedView=t,e.page=1,e.setOption({page:1},!0)},e.find=function(){if("myProject"===e.selectedView){var t=e.cachedResult,r=6*(e.page-1)+1;if(!t.data||r>t.data.length+t.skip){var o="/api/project/find?option=list&"+a();n({method:"GET",url:o}).success((function(t,r){e.cachedResult=t,u(e.cachedResult)})).error((function(t,r){e.status=r,u(e.cachedResult)}))}else u(t)}else"favorite"===e.selectedView&&(o="/api/user/favorites/"+e.userId+"?"+a(),n({method:"GET",url:o,params:{targetType:"individual",targetSubject:"project"}}).success((function(t){e.projectList=t})).error((function(t,r){e.status=r})),e.countFavorite())},e.countFavorite=function(){var t="/api/user/favoritesCount/"+e.userId+"?"+a();n({method:"GET",url:t,params:{targetType:"individual",targetSubject:"project"}}).success((function(t,r){!e.favoriteCount&&t.count>0&&(e.favoriteCountAll=t.count),e.favoriteCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myProject"==e.selectedView?e.projectCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myProject"==e.selectedView?e.projectCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){t<e.page&&(e.cachedResult={}),e.page=t,e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"name"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(e.cachedResult={},o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]},e.getLang=function(t){var r,n,o=e.getOption(t),u=decodeURI(o.value);for(var a in"category"==t?n=e.artCategories:"sort"==t?n=e.sortOptions:"period"==t&&(n=e.periodOptions),n)if(n[a].key=="art_"+o.name+"_"+u){r=n[a];break}return r.lang};var a=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$("#projectSearchInput").val();e.setOption({name:"name",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setPage(t-1):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myProject"===e.selectedView?Math.ceil(e.projectCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setPage(t+1):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myProject"===e.selectedView?Math.ceil(e.projectCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.selectProject=function(t){e.selectedProject===t?e.selectedProject=null:e.selectedProject=t},e.cancel=function(){t.dismiss("cancel")},e.ok=function(){t.close({selectedItem:e.selectedProject})}}])},1381:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupLecturesModalController",["$scope","$uibModalInstance","Global","$http","$sce","existGroup",function(e,t,r,n,o,u){e.global=r,e.userId=r.user._id,e.lectureList=[],e.selectedLectures=[],e.global=r,e.timestamp=(new Date).getTime(),e.lectureCount=!0,e.selectedView="myLectures",e.selectedPosition=6,e.categories=EntryStatic.categoryList,e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:Lang.Menus.latest},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:6},{name:"page",value:1},{name:"title",value:""},{name:"user",value:e.userId},{name:"isOwner",value:!0},{name:"notInGroup",value:u}],e.status={isCategoryOpen:!1,isSortOpen:!1,isPeriodOpen:!1},e.selectedPage=0,e.selectedSlots=[[1,2,3,4,5,6,7,8,9],[10,11,12,13,14,15,16,17,18],[19,20,21,22,23,24,25,26,27],[28,29,30]],e.goToMakeLecture=function(){t.dismiss("cancel"),window.location.href="/tt#!/custom/lecture/build"},e.goToLectureList=function(){t.dismiss("cancel"),window.location.href="/tt#!/custom/lecture/list"},e.selectedSlotBack=function(){e.selectedPage>0&&(e.selectedPage=e.selectedPage-1)},e.selectedSlotNext=function(){e.selectedPage<3&&(e.selectedPage=e.selectedPage+1)},e.init=function(){e.conditions.push({name:"type",value:"lecture"}),e.conditions.push({name:"target",value:"group"}),e.conditions.push({name:"isOpen",value:"false",label:"공개/비공개 모두"}),e.selectView("myLectures"),e.applyImages(),e.countFavorite()},e.selectView=function(t){e.selectedView=t,e.setOption({page:1},!0)};var a=function(){for(var t in e.lectureList)e.lectureList[t].isForCourse&&r.isLectureStaticThumb(e.lectureList[t])&&(e.lectureList[t].staticThumb=!0)};e.find=function(){if("myLectures"===e.selectedView){var t="/api/lecture/find?parent=null&"+i();n({method:"GET",url:t}).success((function(t,r){e.lectureList=t,a(),c(),e.countLectures()})).error((function(t,r){e.status=r,console.log("error:",r)}))}else"favorite"===e.selectedView&&(t="/api/user/favorites/"+e.userId+"?full=y&"+i(),n({method:"GET",url:t,params:{targetSubject:"lecture"}}).success((function(t){e.lectureList=t,a(),c()})).error((function(t,r){e.status=r})),e.countFavorite())};var c=function(){var t=e.lectureList;for(var r in t){var n=t[r];for(var o in e.selectedLectures){var u=e.selectedLectures[o];if(n._id===u._id){e.lectureList[r].selected=!0;break}}}};e.countLectures=function(){var t="/api/lecture/count?parent=null&"+i();n({method:"GET",url:t}).success((function(t,r){!e.lectureCount&&t.count>0&&(e.lectureCountAll=t.count),e.lectureCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.countFavorite=function(){var t="/api/user/favoritesCount/"+e.userId+"?"+i();n({method:"GET",url:t,params:{targetSubject:"lecture"}}).success((function(t,r){!e.favoriteCount&&t.count>0&&(e.favoriteCountAll=t.count),e.favoriteCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]},e.addOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}};var i=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$("#gmLectureSearchInput").val();e.addOption({name:"type",value:"mine"}),e.setOption({name:"title",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setOption({name:"page",value:t-1}):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setOption({name:"page",value:t+1}):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.showThumbnail=function(e){return e.staticThumb?r.staticLectureThumbnail(e,"S"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.selectLecture=function(t){var r=e.lectureList[t];if(r.selected){for(var n in e.selectedLectures)if(e.selectedLectures[n]._id===r._id){e.selectedLectures.splice(n,1);break}}else e.selectedLectures.push(r);e.lectureList[t].selected=!r.selected},e.isSelected=function(t){return e.selectedLectures.indexOf(t)>-1},e.checkSelectedSlot=function(t){return!!e.selectedLectures[t]},e.getSelectedSlot=function(t){return e.selectedLectures[t]||t},e.cancel=function(){t.dismiss("cancel")},e.ok=function(r){t.close({selectedItem:e.selectedLectures})}}])},1382:function(e,t,r){angular.module("mean.study").controller("GroupLectureListController",["$scope","$route","$routeParams","$location","$uibModal","$log","Global","$http","Projects","$timeout","$cookies",function(e,t,n,o,u,a,c,i,s,l,p){e.global=c,e.isTeacher=c.isTeacher(),e.isMember=c.isMember(),e.isStudent=c.isStudent(),e.currentPage=1,e.isAdmin=c.isAdmin(),e.groupList=[],e.lectureshow=[],e.conditions=[{name:"rows",value:12},{name:"page",value:e.currentPage}],e.title=Lang.Menus.learn+" > "+Lang.Menus.study_lesson,e.noGroup=!1,e.noLecture=!1,e.status={isGroupListOpen:!1},e.shareGuide=!0,e.init=function(){e.hidePopup(),window.user?($(".groupLectureListBaseWrapper").css("min-height",innerHeight-183.2),$(window).resize((function(e){$(".groupLectureListBaseWrapper").css("min-height",innerHeight-183.2)})),$(document).on("touchend",(function(e){$(e.target).closest(".dropdown").length||$("body").click()})),n.page&&(e.currentPage=Number(n.page)),window.user&&d(),e.initTitle()):window.location.href="/tt#!/"},e.isLang=function(e){return p.get("lang")==e},e.showThumbnail=function(e){return e.staticThumb?c.staticLectureThumbnail(e,"M"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.showLectureTitle=function(t){e.lectureList[t].title.length>10&&(e.lectureshow[t]=!0)},e.hideLectureTitle=function(t){e.lectureshow[t]=!1};var d=function(){var t="";if(e.isAdmin)t="/api/group/"+n.groupId,i({method:"GET",url:t}).success((function(t,r){e.groupList=[t],e.setCurrentGroup(0)})).error((function(e,t){}));else{var r=e.global.user;i({method:"GET",url:t="/api/getGroupList"}).success((function(t,o){if(n.groupId&&t.length<=0)window.location.href=window.location.origin+"/tt#!/";else{for(var u in e.groupList=t,t)t[u]&&(n.groupId===t[u]._id||!n.groupId&&t[u]._id===r.primaryGroup)&&e.setCurrentGroup(u);e.groupList&&!e.currentGroup&&e.setCurrentGroup(0),$(".lecture-dropdown-menu-groups").css("height",41.5*e.groupList.length)}})).error((function(t,r){e.status=r}))}};e.initTitle=function(){var t=e.dataCount;e.hoverTitle=[];for(var r=0;r<t;r++)e.hoverTitle.push(!1)},e.showTitleAll=function(t){e.hoverTitle[t]=!0},e.hideTitleAll=function(t){e.hoverTitle[t]=!1},e.countOver=function(e){return!!e.title&&e.title.length>=11};var g=function(){if(e.currentGroup){var t="/api/group/lectures/"+e.currentGroup._id;i({method:"GET",url:t}).success((function(t,r){for(var n in e.totalLectures=t.length,e.lectureInGroup=t,e.lectureList=t,e.lectureList)e.lectureList[n].isForCourse&&c.isLectureStaticThumb(e.lectureList[n])&&(e.lectureList[n].staticThumb=!0);e.lectureCountPerGroup=t.length,e.noLecture=!e.lectureCountPerGroup,e.generateLecturePerPage(),t.map((function(t,r){var n=t.commentGroup;t.currentCommentGroup=0,n&&n.map((function(r,n){null!=r&&r&&r.group==e.currentGroup._id&&(t.currentCommentGroup=r.count)}));var o=t.likeCntGroup;t.currentLikeCntGroup=0,o&&o.map((function(r,n){null!=r&&r&&r.group==e.currentGroup._id&&(t.currentLikeCntGroup=r.count)}));var u=t.visitGroup;t.currentVisitGroup=0,u&&u.map((function(r,n){null!=r&&r&&r.group==e.currentGroup._id&&(t.currentVisitGroup=r.count)}))}))}))}else e.lectureCountPerGroup=0,e.noLecture=!0};e.generateLecturePerPage=function(){var t=[];t=e.lectureInGroup,e.lectureList=t.slice(12*(e.currentPage-1),12*e.currentPage),e.generatePageList()},e.addLectures=function(t){var r=[];t.forEach((function(e){r.push(e._id)}));var n="/api/group/lectureAdd/"+e.currentGroup._id,o={lectures:JSON.stringify(r)};i({method:"POST",url:n,data:o,headers:{"csrf-token":c.csrfToken()}}).success((function(e,t){return g(),!0})).error((function(t,r){return 509===r&&entrylms.alert(Lang.Menus.contents_abuse_detected),e.status=r,!1}))},e.deleteLecture=function(){var t=e.lecture,r="/api/group/lectureDel/"+e.currentGroup._id,n={lectureId:t._id};i({method:"DELETE",url:r,data:n,headers:{"Content-Type":"application/json;charset=utf-8","csrf-token":c.csrfToken()}}).success((function(t,r){e.hidePopup(),e.totalLectures-1<=12*e.currentPage-12&&(e.currentPage-=1,o.path("/group/lecture/list/"+e.currentGroup._id+"/"+e.currentPage)),g()})).error((function(t,r){e.status=r,e.hidePopup()}))},e.hidePopup=function(){var e=$(".groupConfirm");$("body").eq(0),e.css("display","none"),$.event.trigger({type:"hidePopup"})},e.showPopup=function(t){e.lecture=t;var r=$(".groupConfirm"),n=$("body").eq(0);r.css("top",n.scrollTop()+"px"),r.css("display","block")},e.setCurrentGroup=function(t){e.currentGroup=e.groupList[t],e.isGroupOwner=c.isGroupOwner(e.currentGroup),g(),$.each(e.status,(function(t,r){e.status[t]=!1})),!e.currentGroup||n.groupId&&n.page||(o.path("/group/lecture/list/"+e.currentGroup._id+"/"+e.currentPage),o.replace())},e.generatePageList=function(){e.totalPages=Math.ceil(e.lectureCountPerGroup/Number(e.getOption("rows").value));var t=Math.ceil(e.lectureCountPerGroup/Number(e.getOption("rows").value)),r=Math.ceil(e.currentPage/10),n=1===r?1:10*r-9;e.currentPage>5&&e.currentPage+5<t&&(n=e.currentPage-4),t>n+9&&(t=n+9),e.lastPage=t,e.pageList=[];for(var o=n;o<=t;o++)e.pageList.push(o)},e.setPage=function(t){e.setOption({name:"page",value:t}),o.path("/group/lecture/list/"+e.currentGroup._id+"/"+e.currentPage)},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.currentPage=t.value,e.generateLecturePerPage(e.currentPage)},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?(e.setOption({name:"page",value:t-1}),$("html,body").animate({scrollTop:$(".groupLectureProjectBox").eq(0).position().top},700)):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),Math.ceil(e.lectureCountPerGroup/Number(e.getOption("rows").value))>t?(e.setOption({name:"page",value:t+1}),$("html,body").animate({scrollTop:$(".groupLectureProjectBox").eq(0).position().top},700)):entrylms.alert("마지막 페이지 입니다.")},e.prevPageGroup=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.nextPageGroup=function(){var t=Number(e.getOption("page").value);t||(t=1);var r=Math.ceil(e.lectureCountPerGroup/Number(e.getOption("rows").value));if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.lectureDetail=function(t,r){o.path("/group/lecture/view/"+t._id+"/"+e.currentGroup._id)},e.openLecturesModal=function(){e.currentGroup?u.open({templateUrl:"/views/study/group/lecture/modal/lectures.html",controller:"GroupLecturesModalController",backdrop:!1,keyboard:!1,resolve:{existGroup:function(){return e.currentGroup._id}}}).result.then((function(t){!t||!t.selectedItem||e.addLectures(t.selectedItem)})):entrylms.alert(Lang.Menus.no_class_alert)},e.makeClass=function(){window.location.href="/"+e.global.user.username+"#!/group"},e.showShareGuide=function(){var e=r(294);"ko"!=p.get("lang")&&(e=r(295)),e=e.replace(/<\/span>/g,"</span><br/>").replace(/<\/div>/g,"</div><br/>").replace(/style=/g,"styleNone="),entrylms.alertTextarea({outerHTML:e},Lang.SharePolicy.title)}}])},1383:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupLectureViewController",["$scope","Global","$http","$routeParams","$uibModal","Projects","myProject","Comments","Users","Feedback","Lectures","$sce","$location","$cookies",function(e,t,r,n,o,u,a,c,i,s,l,p,d,g){e.isEntryStop=!0,e.isTeacher=t.isTeacher(),e.isMem,e.currentPage=1,e.global=t,e.currentSocial="like",e.currentCheckTarget="usage",e.studentId="",e.isAdmin=t.isAdmin(),e.selectedCategory="usage",e.isEntryStop=!0,e.commentText="",e.goToLearnUrl="",e.currentUser=window.user,e.isEditing=!1,e.goToLearnButton=Lang.Menus.study_lessons,e.report={},e.parentLecture=e.$parent.currentLecture,e.likeShown=10,e.interestShown=10,e.groupId=n.groupId,e.homeworkId=n.homeworkId,e.type="group",e.commentOption={rows:5,page:1},e.$parent.$watch("currentLecture",(function(){e.$parent.currentLecture&&e.init(e.$parent.currentLecture._id)})),e.init=function(o){if(!window.user)return entrylms.alert("비공개 강의입니다.").on("hide",(function(){d.path("/custom/lecture/list"),e.$apply()})),!1;if($("html,body").scrollTop(0),function(){var t="";e.isAdmin?(t="/api/group/"+n.groupId,r({method:"GET",url:t}).success((function(t,r){e.groupList=[t]})).error((function(e,t){}))):(e.global.user,r({method:"GET",url:t="/api/getGroupList"}).success((function(t,r){return e.groupList=t,e.groupList.map((function(e){return e._id})).indexOf(e.groupId)>-1||(entrylms.alert("비공개 강의입니다.").on("hide",(function(){d.path("/custom/lecture/list"),e.$apply()})),!1)})).error((function(t,r){e.status=r})))}(),o)e.lectureId=o;else{if(!n.lectureId)return;e.lectureId=n.lectureId,e.groupId=n.groupId}$(".entryEngine").remove(),$(".entryCanvasWorkspace").remove();var u={targetSubject:"curriculum",targetType:e.type,group:e.groupId};r({method:"GET",url:"/api/lecture/"+e.lectureId+"?like=true",params:u}).success((function(n,o){delete n.like,e.lecture=n,e.isOwner=e.currentUser&&n.user._id===e.currentUser._id,function(){var n="/api/group/"+e.groupId;r({method:"GET",url:n}).success((function(n){e.group=n,e.isGroupOwner=t.isGroupOwner(n),e.isGroupOwner?r({method:"GET",url:"/api/student/list/"+e.groupId}).success((function(n){e.students=n,function(){var n={lecture:e.lectureId},o="/api/group/progress/"+e.groupId;r.post(o,n,{headers:{"csrf-token":t.csrfToken()}}).success((function(t){!function(t){for(var r=function(){e.lecture.studies.length;var t=[];e.notStuBasic=[];for(var r=e.students,n=0;n<r.length;n++){var o=r[n];t[n]=v(o)}return t}(),n=e.students,o=0;o<n.length;o++){var u=n[o];r[o].name=u.studentName;for(var a=0;a<t.length;a++){var c=t[a];r[o]=E(r[o],c,u)}}e.notStuBasic=r}(t)}))}()})):r.get("/api/student/group/"+e.groupId).success((function(n){e.studentId=n?n._id:"";var o="/api/lecture/progress/"+e.lectureId;r.post(o,{groupId:e.groupId,curriculum:e.lecture.curriculum?e.lecture.curriculum:null,studentId:n?n._id:null},{headers:{"csrf-token":t.csrfToken()}}).success((function(t,r){var n;if(!_.isEmpty(t)){n="curriculum"in e.lecture?_.filter(t,(function(e){return"BASIC"!==e.status})):t;var o=_.last(n).status;e.lectureStatus=n.length==e.lecture.studies.length&&"COMPLETED"===o?o:"PROGRESS"}e.progress=t})).error((function(e,t){console.log("err:",e)}))}))}))}(),n.isForCourse?m():e.goToLearnButton=Lang.Menus.study_lessons,n.origin&&r({method:"GET",url:"/api/lecture/"+n.origin}).success((function(t,r){t?(e.isParentAlive=!0,e.parentLectureTitle=t.title,e.parentUsername=t.user.username):e.isParentAlive=!1})),"done"==n.preview?e.assistVideo=n.youtubeHash||"":"video"==n.preview&&(e.video=n.youtubeHash,e.assistProject=n.doneProject||"");var u=n.commentGroup;n.currentCommentGroup=0,u&&u.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.lecture.currentCommentGroup=t.count)}));var a=n.likeCntGroup;n.currentLikeCntGroup=0,a&&a.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.lecture.currentLikeCntGroup=t.count)}));var c=n.visitGroup;n.currentVisitGroup=0,c&&c.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.lecture.currentVisitGroup=t.count)}));var i=n.shortenUrlGroup;n.currentShortenUrlGroup="",i&&i.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.lecture.currentShortenUrlGroup=t.url,e.shortenUrl=t.url)})),e.commentAuth=window.user._id==n.user._id,"done"==n.preview&&(e.video=n.youtubeHash);var s="/api/lecture/mylike/"+e.lecture._id,l={targetSubject:"lecture",targetType:e.type,group:e.groupId};if(r({method:"GET",url:s,params:l}).then((function(t){200===t.status?t.data&&(e.isLikeThis=!0):entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)})),s="/api/lecture/likes/"+e.lecture._id,l={targetSubject:"lecture",targetType:e.type,group:e.groupId},r({method:"GET",url:s,params:l}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.lecture.like=r,e.currentLikeCntGroup=r.length}}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)})),s="/api/lecture/isfavorite/"+n._id,l={targetSubject:"lecture",targetType:e.type,group:e.groupId},r({method:"GET",url:s,params:l}).success((function(t,r){e.isInterestThis=t.exists})).error((function(t,r){e.status=r,e.isInterestThis=!1})),l={targetSubject:"lecture",targetType:e.type,group:e.groupId},r.get("/api/lecture/favorites/"+n._id,{params:l}).success((function(t,r){e.lecture.interest=t,e.lecture.currentFavoriteCntGroup=t.length})),e.lectureCreated=new Date(n.created),n.updated?e.lectureUpdated=new Date(n.updated):e.lectureUpdated=new Date(n.created),n.curriculum){var p=g.get("lectureListOpen");"open"!=p&&g.put("lectureListOpen","close"),r({method:"GET",url:"/api/curriculum/"+n.curriculum}).success((function(r,n){e.lecturelen=r.lectures.length;for(var o=r.lectures.length-1;o>0;o--){var u=r.lectures[o];u.special&&!u.special.visible&&r.lectures.splice(o,1)}for(var o in e.lectures=r.lectures,e.lectureList=[],r.lectures.length>3&&"close"==p?(e.lectureList.push(r.lectures[0]),e.lectureList.push(r.lectures[1]),e.lectureList.push(r.lectures[2]),e.lectureListExpand=!0,e.lectureListCollapse=!1):e.lectureList=r.lectures,e.lectureList)e.lectureList[o].isForCourse&&t.isLectureStaticThumb(e.lectureList[o])&&(e.lectureList[o].staticThumb=!0)}))}if(e.isCanView("youtube")&&(s=e.trustUrl("https://www.youtube.com/embed/"+e.video),$(".lectureYoutubeFrame")[0].contentWindow.location.replace(s)),e.lecture.doneProject&&e.lecture.doneProject._id){var d="/api/iframe/project/"+e.lecture.doneProject._id+"?play=true";e.isCanView("done")&&$(".lectureProjectFrame")[0].contentWindow.location.replace(d),"video"===e.lecture.preview&&$(".lectureProjectFrame")[1].contentWindow.location.replace(d)}"video"!==e.lecture.preview&&e.lecture.youtubeHash&&(s=e.trustUrl("https://www.youtube.com/embed/"+e.lecture.youtubeHash),$(".assistYoutubeFrame")[0].contentWindow.location.replace(s)),e.getComment(),window.scrollTo(0,0),e.lectureInited=!0}))};var m=function(){if(t.isLectureStaticThumb(e.lecture))switch((e.lecture.repStudy||e.lecture.study[0]).type){case"quiz":e.goToLearnButton=Lang.Menus.solve_quiz;break;case"maze":case"maze_static":e.goToLearnButton=Lang.Menus.solve_mission;break;default:e.goToLearnButton=Lang.Menus.study_lessons}else e.goToLearnButton=Lang.Menus.study_lessons};function f(n){r.post("/api/comment",{content:n,target:e.lecture._id,targetSubject:"lecture",targetType:e.type,group:e.groupId},{headers:{"csrf-token":t.csrfToken(),"limit-type":"group_lecture"}}).success((function(t,r){e.commentOption.page=1,e.commentText="",e.getComment()})).error((function(t,r){510===r?(entrylms.alert(Lang.Menus.discuss_write_abuse_warn),e.commentOption.page=1,e.commentText="",e.getComment()):509===r?entrylms.alert(Lang.Menus.discuss_write_abuse_detected):entrylms.alert(Lang.Menus.no_permission)}))}function h(e){r.put("/api/comment/"+e._id,{content:e.content},{headers:{"csrf-token":t.csrfToken()}}).success((function(t){e.editing=!1}))}function v(t){var r=e.lecture.studies,n=r?r.length:1;if((t={}).data=[],e.lecture.isForCourse)for(var o=0;o<n;o++)t.data[o]={status:"BASIC"};else t.data[0]={status:"BASIC"};return t}function E(e,t,r){if("student"in t?t.student==r._id:r.studentUser?t.user==r.studentUser._id:r.user&&t.user==r.user._id)for(var n=0;n<t.studyStatus.length;n++){var o=t.studyStatus[n];e.data[n]=o}return e}e.goToLearn=function(){e.addStudyLecture((function(){window.location.href=function(){if(e.lecture.special&&e.lecture.special.url)return e.lecture.special.url;if(e.lecture.isForCourse){var t="/course#!/group/"+e.groupId+"/"+e.lecture._id;return e.studentId&&(t=t+"/"+e.studentId),t}return e.lecture.special?"/le/"+e.lecture._id+"?theme=ebs2015":e.groupId?"/le/"+e.groupId+"/"+e.lecture._id:"/le/"+e.lecture._id}()}))},e.addStudyLecture=function(n){if(e.lectures){var o=e.currentUser.studyCurriculum,u=[];if(o.length>0){for(var a in o)u.push(o[a].curriculum);u.indexOf(e.lecture.curriculum)}if(e.currentUser){var c="/api/users/setStudyCurriculum";r.post(c,{userId:e.currentUser._id,curriculumId:e.lecture.curriculum,status:0},{headers:{"csrf-token":t.csrfToken()}}).success((function(e,t){n()})).error((function(e,t){console.log("err:",e),n()}))}else n()}else{var i=e.currentUser.studyLecture,s=[];if(i.length>0){for(var a in i)s.push(i[a].lecture);s.indexOf(e.lectureId)}e.currentUser?(c="/api/users/setStudyLecture",r.post(c,{userId:e.currentUser._id,lectureId:e.lectureId,status:0},{headers:{"csrf-token":t.csrfToken()}}).success((function(e,t){n()})).error((function(e,t){console.log("err: ",e),n()}))):n()}},e.getComment=function(){r({method:"GET",url:"/api/comment/lecture/list/"+e.lectureId+"/"+e.commentOption.page,params:{page:e.commentOption.page,targetType:e.type,group:e.groupId}}).success((function(t,r){e.comments=t,e.getCommentCount()}))},e.getCommentCount=function(){r({method:"GET",url:"/api/comment/lecture/count/"+e.lecture._id,params:{target:e.lecture._id,targetType:e.type,targetSubject:"lecture",group:e.groupId}}).success((function(t,r){e.commentCount=t,e.totalPages=Math.ceil(t/e.commentOption.rows);var n=Math.ceil(t/e.commentOption.rows),o=Math.ceil(e.currentPage/10),u=1===o?1:10*o-9;e.currentPage>5&&e.currentPage+5<n&&(u=e.currentPage-4),n>u+9&&(n=u+9),e.lastPage=n,e.pageList=[];for(var a=u;a<=n;a++)e.pageList.push(a)}))},e.setPage=function(t){return!(t<1)&&!(t>e.staticPageList)&&(e.beforePage=e.commentOption.page,e.commentOption.page=t,e.currentPage=t,void(e.beforePage!=t&&e.getComment()))},e.prevPageGroup=function(){var t=e.currentPage;if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setPage(e.currentPage)},e.nextPageGroup=function(){var t=e.currentPage;t||(t=1);var r=Math.ceil(e.commentCount/e.commentOption.rows);if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setPage(e.currentPage)},e.hoverSocial=function(t){e.currentSocial=t},e.hoverCheckTarget=function(t){e.currentCheckTarget=t},e.getCurrentCheckList=function(){var t=e.currentCheckTarget;if(e.lecture)return"usage"==t?e.lecture.usageList:"concept"==t?e.lecture.conceptList:"subject"==t?e.lecture.subjectList:void 0},e.openProject=function(){location.href="/ws/#!"+e.lecture._id},e.likeLecture=function(){if(e.currentUser&&!e.isEditLike)if(e.isEditLike=!0,e.isLikeThis){var n="/api/lecture/unlike/"+e.lecture._id,o={targetSubject:"lecture",targetType:e.type,group:e.groupId};r({method:"DELETE",url:n,params:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.lecture.like=r,e.lecture.currentLikeCntGroup=r.length}e.isLikeThis=!1,e.isEditLike=!1}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))}else n="/api/lecture/like/"+e.lecture._id,o={targetSubject:"lecture",targetType:e.type,group:e.groupId},r({method:"POST",url:n,data:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.lecture.like=r,e.lecture.currentLikeCntGroup=r.length}e.isLikeThis=!0,e.isEditLike=!1}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))},e.interestLecture=function(){if(e.currentUser&&!e.isEditInterest){if(e.isEditInterest=!0,e.isInterestThis){var n="/api/lecture/favorite/"+e.lecture._id,o={targetSubject:"lecture",targetType:e.type,group:e.groupId};r.delete(n,{params:o,headers:{"csrf-token":t.csrfToken()}}).success((function(t,n){e.isInterestThis=!1,r.get("/api/lecture/favorites/"+e.lecture._id,{params:o}).success((function(t,r){e.lecture.interest=t,e.lecture.currentFavoriteCntGroup=t.length}))}))}else n="/api/lecture/favorite/"+e.lecture._id,o={targetSubject:"lecture",targetType:e.type,group:e.groupId},r.post(n,o,{headers:{"csrf-token":t.csrfToken()}}).success((function(t,n){e.isInterestThis=!0,r.get("/api/lecture/favorites/"+e.lecture._id,{params:o}).success((function(t,r){e.lecture.interest=t,e.lecture.currentFavoriteCntGroup=t.length}))}));e.isEditInterest=!1}},e.commentUpload=function(){var e=$(".commentText").eq(0).val().trim();if(""===e)return entrylms.alert(Lang.Menus.content_required),!1;r.post("/api/user/checkfiltercontent",{content:e},{headers:{"csrf-token":t.csrfToken()}}).success((function(r){r.ok?f(e):t.setBadUser((function(){f(t.getRandomReplaceWord())}))})).error((function(t){f(e)}))},e.editedCommentUpload=function(e){""!==e.content.trim()?r.post("/api/user/checkfiltercontent",{content:e.content},{headers:{"csrf-token":t.csrfToken()}}).success((function(r){r.ok?h(e):t.setBadUser((function(){e.content=t.getRandomReplaceWord(),h(e)}))})).error((function(t){h(e)})):entrylms.alert("내용을 입력해 주세요.")},e.editComment=function(e){e.editing=!0},e.deleteComment=function(n){var o={target:e.lecture._id,targetSubject:"lecture",targetType:e.type,group:e.groupId};r.delete("/api/comment/"+n._id,{params:o,headers:{"csrf-token":t.csrfToken()}}).success((function(){for(var t in e.comments)e.comments[t]._id===n._id&&e.comments.splice(t,1),t++;e.getComment()}))},e.shareFB=function(){var t;t=e.lecture.doneProject?e.lecture.doneProject.thumb:e.lecture.basicProject?e.lecture.basicProject.thumb:"/img/assets/logo_v2.png";var r="http://www.facebook.com/sharer/sharer.php?s=100&p[url]="+e.lecture.shortenUrl+"&p[images][0]=https://playentry.org"+t+"&p[summary]=엔트리 "+e.lecture.name;window.open(r,"fb","width=600px, height=450px")},e.shareTW=function(){var t=encodeURIComponent(e.lecture.title),r="https://twitter.com/intent/tweet?hashtags="+encodeURIComponent(Lang.Menus.Entry)+"&original_referer="+encodeURIComponent("https://playentry.org")+"&source=tweetbutton&text="+t+"&url="+e.lecture.shortenUrl;window.open(r,"tweet","width=600px, height=250px")},e.popupReport=function(t,r,n){var o={};o.project=e.lecture,o.type=t,o.discussId=r,o.commentId=n,$.event.trigger($.Event("popupReport",{info:o}))},e.setEditing=function(t){e.isEditing=t,t||r.put("/api/project/"+e.lecture._id,{category:e.lecture.category,name:e.lecture.name,isopen:e.lecture.isopen,description:e.lecture.description}).success((function(e){}))},e.toggleProjectOpen=function(){e.lecture.isopen=!e.lecture.isopen},e.setCategory=function(t){e.lecture.category=t},e.trustUrl=function(e){return p.trustAsResourceUrl(e)},e.removeLecture=function(){entrylms.confirm(Lang.Menus.study_remove_lecture).then((function(n){if(!0===n)if(e.homeworkId)r.delete("/api/group/homework/remove/"+e.groupId+"/"+e.homeworkId,{headers:{"csrf-token":t.csrfToken()}}).success((function(t,r){console.log(t,e.groupId+"/"+e.homeworkId),window.history.back()})).error((function(t,r){e.status=r}));else{var o="/api/group/lectureDel/"+e.groupId,u={lectureId:e.lectureId};r({method:"DELETE",url:o,data:u,headers:{"Content-Type":"application/json;charset=utf-8","csrf-token":t.csrfToken()}}).success((function(e,t){window.history.back()})).error((function(t,r){e.status=r}))}}))},e.isMine=function(){if(e.lecture&&e.lecture.user)return e.lecture.user._id==e.global.user._id},e.isLang=function(e){return g.get("lang")==e},e.getProjectCategory=function(e){switch(e){case"애니메이션":return Lang.EntryStatic.category_animation;case"게임":return Lang.EntryStatic.category_game;case"미디어아트":return Lang.EntryStatic.category_media_art;case"피지컬":return Lang.EntryStatic.category_physical;default:return Lang.EntryStatic.category_etc}},e.isCategorySelected=function(t){return e.selectedCategory==t},e.selectCategory=function(t){e.selectedCategory=t},e.getCurrentCheckList=function(){var t=e.selectedCategory;if(e.lecture)return"usage"==t?e.lecture.usageList:"concept"==t?e.lecture.conceptList:"subject"==t?e.lecture.subjectList:void 0},e.goLectureList=function(){returnUrl?location.href=decodeURIComponent(returnUrl):d.path("/group/lecture/list/"+e.groupId)},e.goCurriculumList=function(){returnUrl?location.href="/tt?returnUrl="+encodeURIComponent(returnUrl)+"#!/group/curriculum/view/"+e.lecture.curriculum+"/"+e.groupId:d.path("/group/curriculum/view/"+e.lecture.curriculum+"/"+e.groupId)},e.goSoftwareList=function(){d.path("/advance/software2")},e.lectureToggle=function(){e.lectureListExpand?(e.lectureList=[],e.lectureList=e.lectures,g.put("lectureListOpen","open")):(e.lectureList=[],e.lectureList.push(e.lectures[0]),e.lectureList.push(e.lectures[1]),e.lectureList.push(e.lectures[2]),g.put("lectureListOpen","close")),e.lectureListExpand=!e.lectureListExpand},e.getLectureThumbnail=function(e){return"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.viewLecture=function(t){d.path("/group/lecture/view/"+t._id+"/"+e.groupId)},e.runProject=function(){e.isEntryStop=!1},e.hasMore=function(t){var r=e.lecture;return!!r&&!!r.like&&("like"==t?r.like.length>e.likeShown:"interest"==t&&r.interest?r.interest.length>e.interestShown:void 0)},e.seeMore=function(t){return"like"==t?e.likeShown+=10:"interest"==t?e.interestShown+=10:void 0},e.isCanView=function(t){if(e.lecture){if("maze_static"==e.lecture.type)return!1;if(null!=e.lecture.tvcastUrl)return"tvcast"==t;if(e.lecture.doneProject&&"done"===e.lecture.preview)return"done"==t;if(e.video&&"video"===e.lecture.preview)return"youtube"==t}},e.saveAsMine=function(){var n={groupId:e.groupId};r({method:"POST",url:"/api/lecture/clone/"+e.lectureId,params:n,headers:{"csrf-token":t.csrfToken()}}).success((function(t,r){e.saveAsMineAlert=!0})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected):(entrylms.alert(Lang.Msgs.error_occured),console.error("err:",e))}))},e.hidePopup=function(){e.saveAsMineAlert=!1},e.showProgress=function(){var t=e.lecture;new entrylms.Modal([{type:"LECTURE_PROGRESS",title:t.title,content:e.notStuBasic,contentType:"LECTURE",closeButtonText:Lang.Buttons.confirm,homeworkStatus:t.isForHomework?"HOMEWORK":"NONE"}]).show().on("show",(function(){})).on("hide",(function(){})).on("click",(function(r,n){if("select"===r){var o,u,a,c=n.studyIndex,i=e.students[n.studentIndex]._id;if(t.isForHomework)for(var s in e.group.homeworks)if(e.group.homeworks[s].lecture===e.lectureId){a=e.group.homeworks[s].id;break}t.isForCourse?(u="course#!/group/",o=t.isForHomework?e.lectureId+"/"+e.groupId+"/"+i+"/"+a+"/hw/"+c:e.groupId+"/"+e.lectureId+"/"+i+"/"+c):(u="le/",o=t.isForHomework?e.lectureId+"/"+e.groupId+"/"+i+"/"+a+"/hw":e.groupId+"/"+e.lectureId+"/"+i),window.location.href=u+o}})).show()}}])},1384:function(e,t){angular.module("mean.study").controller("GroupLectureBuildController",["$scope","Global","$http","$location","$routeParams","$uibModal","$sce","Projects","$cookies",function(e,t,r,n,o,u,a,c,i){function s(e){return e?"https://youtu.be/"+e:e}e.title=Lang.Menus.learn+" > "+Lang.Menus.study_lesson,e.global=t,e.isEntryStop=!0,t.authenticated||n.path("/group/lecture/list"),e.selectedCategory="usage",e.video="",e.videoSelect=!1,e.videoView=!1,e.groupId=o.groupId,e.lectureId=o.lectureId,e.basicProject=null,e.isElementChecked=function(t){var r;switch(e.selectedCategory){case"usage":r=e.lecture.usageList;break;case"concept":r=e.lecture.conceptList;break;case"subject":r=e.lecture.subjectList}return r.indexOf(t)>-1},e.init=function(){$(".entryEngine").remove(),$(".entryCanvasWorkspace").remove()},e.lectureTimes=function(){return EntryStatic.requiredTimes},e.selectTime=function(t){e.lecture.requiredTime=t},e.lectureGrades=function(){return EntryStatic.lectureGrades},e.selectGrade=function(t){var r=e.lecture.grade.indexOf(t);r>-1?e.lecture.grade.splice(r,1):e.lecture.grade.push(t),e.gradeSelected=!0},$(".grade").on("hidden.bs.dropdown",(function(t){e.gradeSelected&&($(".grade").addClass("open"),e.gradeSelected=!1)})),e.isGradeChecked=function(t){return e.lecture.grade.indexOf(t)>-1},e.dropdownToggle=function(e){$("."+e).hasClass("open")?$("."+e).addClass("open"):$("."+e).removeClass("open")},e.lectureLevels=function(){return EntryStatic.lectureLevels},e.selectLevel=function(t){e.lecture.difficulty=t},e.removeGoal=function(t){e.lecture.goals.splice(t,1)},e.addGoal=function(){e.lecture.goals.push("")},e.toggleEntryStop=function(t){e.$apply((function(){e.isEntryStop=t}))},e.initLectureModel=function(){e.lecture={title:"",description:"",goals:[""],availableBlocks:[],usageList:[],conceptList:[],subjectList:[],category:"category_game",preview:"",basicProject:{},isOpen:!0,requiredTime:1,grade:[],difficulty:1,user:e.global.user,injectOption:{objectEditable:!0,pictureeditable:!0,soundeditable:!0,sceneEditable:!0,messageEnable:!0,variableEnable:!0,listEnable:!0,functionEnable:!0,dataTableDisable:!1}},o.lectureId?r({method:"GET",url:"/api/lecture/"+o.lectureId+"?like=true"}).success((function(t,r){"video"==t.preview?(e.assistProject=t.doneProject,e.video=t.youtubeHash,e.video&&(e.videoView=!0),delete e.project,delete e.assistVideo):(e.assistVideo=s(t.youtubeHash),e.project=t.doneProject,delete e.assistProject,delete e.video),e.lecture=t,e.lecture.doneProject&&(e.completeSelected=!0),e.lecture.youtubeHash&&(e.inputYoutubeUrl=s(e.lecture.youtubeHash)),e.lecture.file&&(e.uploadFile=e.lecture.file.name),e.selectedBlocks=e.lecture.availableBlocks})):e.loadDefaultProject()},e.loadDefaultProject=function(){c.get({projectId:"55e3da9e2c66d311007b47b7"},(function(t){e.lecture.basicProject=t})),e.isDefaultProject=!0},e.initLectureModel(),e.openProjectsModal=function(t){u.open({templateUrl:"/views/study/group/lecture/modal/projects.html",controller:"GroupProjectsModalController",backdrop:!1,keyboard:!1}).result.then((function(n){"assist"==t?(e.assistProject=n.selectedItem,r({method:"GET",url:"/api/project/"+n.selectedItem._id+"?like=true"}).success((function(t,r){e.lecture.doneProject=t}))):(e.project=n.selectedItem,r({method:"GET",url:"/api/project/"+n.selectedItem._id+"?like=true"}).success((function(t,r){e.lecture.doneProject=t,e.lecture.preview="done"})))}))},e.openVideoToggle=function(t){u.open({templateUrl:"/views/study/group/lecture/modal/video.html",controller:"ProjectsModalController",resolve:{parent:function(){return"lecture"}},backdrop:!1,keyboard:!1}).result.then((function(r){e.getHashedVideoUrl(r.selectedItem,t)}))},e.getHashedVideoUrl=function(t,r){if(t){var n=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);n&&11==n[7].length&&(e.video=n[7],e.lecture.youtubeHash=e.video,e.lecture.preview="done")}},e.trustUrl=function(e){return a.trustAsResourceUrl(e)},e.deleteUploadFile=function(){delete e.lecture.file,document.getElementById("uploadFile").value=""},e.upload=function(){var r=new FormData,n=document.getElementById("uploadFile").files[0];return n?n.size>20971520?(entrylms.alert(Lang.Menus.upload_limit_20mb),!1):(r.append("uploadFile",n),void $.ajax({url:"/rest/lecture/upload",data:r,cache:!1,contentType:!1,processData:!1,type:"POST",headers:{"csrf-token":t.csrfToken()},success:function(t){e.$apply((function(){e.lecture.file={},e.lecture.file.name=t.fileName,e.lecture.file.path=t.filePath,e.lecture.file.url=t.fileUrl}))}})):(entrylms.alert(Lang.Menus.file_required),!1)},e.clearProject=function(){var t=["videoView","project","assistProject","assistVideo","video"];for(var r in t)delete e[t[r]];e.lecture.doneProject=null,e.lecture.youtubeHash=null,e.inputYoutubeUrl=""},e.clearAssistProject=function(){e.assistProject=null,e.lecture.doneProject=null},e.upload=function(){var r=new FormData,n=document.getElementById("uploadFile").files[0];return n?n.size>20971520?(entrylms.alert(Lang.Menus.upload_limit_20mb),!1):(r.append("uploadFile",n),void $.ajax({url:"/rest/lecture/upload",data:r,cache:!1,contentType:!1,processData:!1,type:"POST",headers:{"csrf-token":t.csrfToken()},success:function(t){e.$apply((function(){e.lecture.file={},e.lecture.file.name=t.fileName,e.lecture.file.path=t.filePath,e.lecture.file.url=t.fileUrl}))}})):(entrylms.alert(Lang.Menus.file_required),!1)},e.clearAssistVideo=function(){e.assistVideo=null,e.youtubeHash=null,e.lecture.youtubeHash=null},e.assistUrlChange=function(){var t=document.getElementById("videoLink").value;if(t){var r=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);r&&11==r[7].length&&(e.assistVideo=s(r[7]),e.lecture.youtubeHash=r[7])}},e.assistMainUrlChange=function(t){var r=document.getElementById("videoLinkMain").value;if(r){var n=r.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);n&&11==n[7].length&&(e.video=n[7],e.lecture.youtubeHash=e.video,e.lecture.preview="video")}},e.isCategorySelected=function(t){return e.selectedCategory==t},e.selectCategory=function(t){e.selectedCategory=t},e.selectCheckElement=function(t){var r=e.selectedCategory;if("usage"==r)(n=e.lecture.usageList.indexOf(t))>-1?e.lecture.usageList.splice(n,1):e.lecture.usageList.push(t);else if("concept"==r)(n=e.lecture.conceptList.indexOf(t))>-1?e.lecture.conceptList.splice(n,1):e.lecture.conceptList.push(t);else if("subject"==r){var n;(n=e.lecture.subjectList.indexOf(t))>-1?e.lecture.subjectList.splice(n,1):e.lecture.subjectList.push(t)}},e.getCheckElements=function(){var t=e.selectedCategory;return"usage"==t?EntryStatic.usageList:"concept"==t?EntryStatic.conceptList:"subject"==t?EntryStatic.subjectList:void 0},e.saveLecture=function(){r.put("/api/lecture/"+e.lecture._id,e.lecture,{headers:{"csrf-token":t.csrfToken()}}).success((function(t){entrylms.alert(e.lecture.title+Lang.Menus.saved_alert),r.get("/api/group/search/"+e.groupId).then((function(e){console.log("successfully inserted")})),n.url("/group/lecture/view/"+t._id+"/"+o.groupId)})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected):entrylms.alert("강의 수정중에 문제가 발생하였습니다.")}))},e.isLang=function(e){return i.get("lang")==e},e.backUrl=function(){window.history.back()},e.runProject=function(){e.isEntryStop=!1,Entry.engine.toggleRun()},e.previewOptions=function(e){return(e=e.map((function(e){return Lang.EntryStatic[e]}))).join(", ")}}]).directive("group-blocks",["$compile",function(e){return{restrict:"E",scope:{},transclude:!1,link:function(e,t,r){Entry.mediaFilePath="/lib/entryjs/images/";var n=document.createElement("div");n.className="blockDirective",t.replaceWith(n);var o=new Blockly.BlockMenu(n);o.isViewOnly=!0;var u=e.$parent.blockHelp[r.type].xml,a=jQuery.parseXML(u).childNodes,c=o.show(a);$(n).css({height:c+10})}}}])},1385:function(e,t){angular.module("mean.study").controller("GroupCurriculumBuildController",["$scope","$route","$routeParams","$location","$uibModal","$log","Global","$http","Projects","$timeout","$sce","$cookies",function(e,t,r,n,o,u,a,c,i,s,l,p){e.isEntryStop=!0,e.title=Lang.Menus.learn+" > "+Lang.Menus.study_lesson,e.global=a,e.isSaving=!1,a.authenticated||n.path("/tt#!/group/curriculum/list"),e.curriculumGrades=EntryStatic.lectureGrades,e.curriculumLevels=EntryStatic.lectureLevels,e.selectedCategory="usage",function(){var t=r.curriculumId;if(e.groupId=r.groupId,window.user&&"teacher"==window.user.role){var n="/api/group/groups/"+window.user._id;c.get(n).success((function(r){c({method:"GET",url:"/api/curriculum/"+t}).success((function(t,r){e.curriculum=t,e.curriculumCreated=new Date(e.curriculum.created),e.curriculum.updated?e.curriculumUpdated=new Date(e.curriculum.updated):e.curriculumUpdated=new Date(e.curriculum.created)})),e.isEditMode=!0})).error((function(e){console.log(" error occured ",e)}))}}(),e.type="group",e.selectCurriculumGrade=function(t){var r=e.curriculum.grade.indexOf(t);r>-1?e.curriculum.grade.splice(r,1):e.curriculum.grade.push(t),e.gradeSelected=!0},$(".grade").on("hidden.bs.dropdown",(function(t){e.gradeSelected&&($(".grade").addClass("open"),e.gradeSelected=!1)})),e.isCGradeChecked=function(t){if(e.curriculum)return e.curriculum.grade.indexOf(t)>-1},e.addGoal=function(){e.curriculum.goals.push("")},e.removeGoal=function(t){e.curriculum.goals.splice(t,1)},e.previewOptions=function(e){if(e)return(e=e.map((function(e){return Lang.EntryStatic[e]}))).join(", ")},e.isCategorySelected=function(t){return e.selectedCategory==t},e.selectCategory=function(t){e.selectedCategory=t},e.selectCheckElement=function(t){var r=e.selectedCategory;if("usage"==r)(n=e.curriculum.usageList.indexOf(t))>-1?e.curriculum.usageList.splice(n,1):e.curriculum.usageList.push(t);else if("concept"==r)(n=e.curriculum.conceptList.indexOf(t))>-1?e.curriculum.conceptList.splice(n,1):e.curriculum.conceptList.push(t);else if("subject"==r){var n;(n=e.curriculum.subjectList.indexOf(t))>-1?e.curriculum.subjectList.splice(n,1):e.curriculum.subjectList.push(t)}},e.isElementChecked=function(t){if(!e.curriculum)return!1;var r;switch(e.selectedCategory){case"usage":r=e.curriculum.usageList;break;case"concept":r=e.curriculum.conceptList;break;case"subject":r=e.curriculum.subjectList}return r.indexOf(t)>-1},e.addLecGoal=function(){e.currentLecture.goals.push("")},e.lectureTimes=function(){return EntryStatic.requiredTimes},e.selectTime=function(t){e.currentLecture.requiredTime=t},e.lectureLevels=function(){return EntryStatic.lectureLevels},e.selectLevel=function(t){e.currentLecture.difficulty=t},e.getCheckElements=function(){var t=e.selectedCategory;return"usage"==t?EntryStatic.usageList:"concept"==t?EntryStatic.conceptList:"subject"==t?EntryStatic.subjectList:void 0},e.getCurrentCheckList=function(){var t=e.selectedCategory;if(e.curriculum)return"usage"==t?e.curriculum.usageList:"concept"==t?e.curriculum.conceptList:"subject"==t?e.curriculum.subjectList:void 0},e.editCurriculum=function(){if(""==e.curriculum.title?(entrylms.alert(Lang.Menus.enter_title),0):0===e.curriculum.grade.length?(entrylms.alert(Lang.Menus.enter_recommanded_grade),0):""===e.curriculum.goals[0]?(entrylms.alert(Lang.Menus.enter_goals),0):""!==e.curriculum.description||(entrylms.alert(Lang.Menus.enter_curriculum_description),0)){var t=r.curriculumId,o={curriculum:e.curriculum,targetSubject:"curriculum",targetType:e.type};c.put("/api/curriculum/"+t,o,{headers:{"csrf-token":a.csrfToken()}}).success((function(t){e.isSaving=!1,entrylms.alert(t.title+Lang.Menus.saved_alert),c.get("/api/group/search/"+e.groupId).then((function(e){console.log("successfully inserted")})),e.groupId?window.location.href="/tt#!/group/curriculum/view/"+t._id+"/"+e.groupId:n.url("/custom/curriculum/view/"+t._id)})).error((function(t){entrylms.alert("강의모음 수정중에 문제가 발생하였습니다. "),window.location.href="/tt#!/group/curriculum/view/"+curriculum._id+"/"+e.groupId}))}},e.isLang=function(e){return p.get("lang")==e},$(".grade").on("hidden.bs.dropdown",(function(t){e.gradeSelected&&($(".grade").addClass("open"),e.gradeSelected=!1)})),e.deleteUploadFile=function(t){e.curriculum.file=null},e.upload=function(t){var r=new FormData,n=document.getElementById("uploadFile").files[0],o=t;return"lecture"==t&&(o="currentLecture",n=document.getElementById("lecUploadFile").files[0]),n?n.size>20971520?(document.getElementById("uploadFile").value="",entrylms.alert(Lang.Menus.upload_limit_20mb),!1):(r.append("uploadFile",n),void $.ajax({url:"/rest/"+t+"/upload",data:r,cache:!1,contentType:!1,processData:!1,type:"POST",headers:{"csrf-token":a.csrfToken()},success:function(t){e.$apply((function(){e[o].file={},e[o].file.name=t.fileName,e[o].file.path=t.filePath,e[o].file.url=t.fileUrl}))}})):(entrylms.alert(Lang.Menus.file_required),!1)},e.sortOptions={cancel:".notFilled"},e.backUrl=function(){window.history.back()}}])},1386:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupCurriculumViewController",["$scope","Global","$http","$routeParams","$location","$cookies","Comments",function(e,t,r,n,o,u,a){function c(t,r){var n=$(".curriculumViewTopScroll").eq(0),o=n.scrollLeft(n.scrollLeft()-t);e.scrollLeft=o.scrollLeft(),r&&e.$apply()}function i(n){r.post("/api/comment",{content:n,target:e.curriculum._id,targetSubject:"curriculum",targetType:e.type,group:e.groupId},{headers:{"csrf-token":t.csrfToken(),"limit-type":"group_curriculum"}}).success((function(t,r){e.commentOption.page=1,e.commentText="",e.getComment()})).error((function(t,r){510===r?(entrylms.alert(Lang.Menus.discuss_write_abuse_warn),e.commentOption.page=1,e.commentText="",e.getComment()):509===r?entrylms.alert(Lang.Menus.discuss_write_abuse_detected):entrylms.alert(Lang.Menus.no_permission)}))}function s(e){r.put("/api/comment/".concat(e._id),{content:e.content},{headers:{"csrf-token":t.csrfToken()}}).success((function(t){e.editing=!1}))}function l(e,t,r){if(t.lecture===r._id)for(var n=0;n<t.studyStatus.length;n++){var o=t.studyStatus[n];e.data[n]=o}return e}function p(e,t){(e={}).type="LECTURE_INDICATOR",e.data=[];for(var r=0;r<t;r++)e.data[r]={status:"BASIC"};return e}function d(t){var r=e.curriculum.lectures,n=r?r.length:1;(t={}).data=[];for(var o=0;o<n;o++)t.data[o]={status:"BASIC"};return t}function g(t,r,n){var o=n.user?n.user._id:n.studentUser._id;if(r.user&&r.user===o)for(var u=e.curriculum.lectures,a=0;a<u.length;a++)u[a]._id===r.lecture&&(t.data[a].status=m(r.studyStatus));return t}function m(t){if(_.isEmpty(t))return"BASIC";var r="";t.map((function(t){e.priorityStatus[t.status]>=1&&(r="PROGRESS")}));var n=t[t.length-1].status;return e.priorityStatus[n]>=2&&(r="COMPLETED"),r}e.currentUser=window.user,e.selectedCategory="usage",e.currentSocial="like",e.currentTags="related",e.global=t,e.curriculumId=n.curriculumId,e.groupId=n.groupId,e.currentLecture=null,e.lectureTemplate="/views/study/group/lecture/view.html",e.currentStep=0,e.currentCheckTarget="usage",e.scrollLeft=0,e.isAdmin=t.isAdmin(),e.likeShown=10,e.interestShown=10,e.commentText="",e.groupId=n.groupId,e.type="group",e.commentOption={rows:5,page:1},e.global.user||(e.global.user={}),e.currentPage=1,e.priorityStatus={BASIC:0,PROGRESS:1,COMPLETED:2,SUBMITTED:3,RESOLVED:4},e.loadGroup=function(n){r({method:"GET",url:"/api/group/".concat(e.groupId)}).success((function(r,o){e.isGroupOwner=t.isGroupOwner(r),e.group=r,n&&n()}))},e.init=function(){window.user||entrylms.alert("비공개 강의 모음입니다.").on("hide",(function(){window.location.href="/tt#!/custom/curriculum/list"})),function(){var t="";e.isAdmin?(t="/api/group/".concat(n.groupId),r({method:"GET",url:t}).success((function(t,r){e.groupList=[t]})).error((function(e,t){}))):(e.global.user,r({method:"GET",url:t="/api/getGroupList"}).success((function(t,r){if(e.groupList=t,e.groupList.map((function(e){return e._id})).indexOf(e.groupId)>-1)return!0;entrylms.alert("비공개 강의 모음입니다.").on("hide",(function(){window.location.href="/tt#!/custom/curriculum/list"}))})).error((function(t,r){e.status=r})))}(),u.put("lectureListOpen","close");var o={targetSubject:"curriculum",targetType:e.type,group:e.groupId};r({method:"GET",url:"/api/curriculum/".concat(e.curriculumId,"?like=true&view=true"),params:o}).success((function(n,o){delete n.like,e.curriculum=n,e.loadGroup((function(){e.isGroupOwner?r({method:"GET",url:"/api/student/list/".concat(e.groupId)}).success((function(n){e.students=n,function(){var n={curriculum:e.curriculumId},o="/api/group/progress/".concat(e.groupId);r.post(o,n,{headers:{"csrf-token":t.csrfToken()}}).success((function(t){!function(t){for(var r=function(){for(var t=[],r=e.students,n=0;n<r.length;n++){var o=r[n];t[n]=d(o)}return t}(),n=e.students,o=0;o<n.length;o++){var u=n[o];r[o].name=u.studentName;for(var a=0;a<t.length;a++){var c=t[a];c.lecture&&(r[o].lecture=c.lecture),r[o]=g(r[o],c,u)}}e.notStuBasic=r}(t)}))}()})):r.get("/api/student/group/".concat(e.groupId)).success((function(t){e.studentId=t?t._id:"";var n="/api/group/progress/".concat(e.groupId);r.post(n,{groupId:e.groupId,curriculum:e.curriculumId||void 0,studentId:t?t._id:null}).success((function(t,r){!function(t){for(var r=function(){var t=[],r=e.curriculum.lectures;e.notStuBasic=[];for(var n=0;n<r.length;n++){var o=r[n],u=o.studies.length;t[n]=p(o,u)}return t}(),n=e.curriculum.lectures,o=0;o<n.length;o++){var u=n[o];r[o].title=u.title;for(var a=0;a<t.length;a++){var c=t[a];c.user===window.user._id&&(r[o]=l(r[o],c,u))}}e.notStuBasic=r}(t)})).error((function(e,t){console.log("err:",e)}))}))})),e.isOwner=e.currentUser&&n.user._id===e.currentUser._id,n.origin&&r({method:"GET",url:"/api/curriculum/".concat(n.origin)}).success((function(t,r){t?(e.isParentAlive=!0,e.parentCurriculumTitle=t.title,e.parentUsername=t.user.username):e.isParentAlive=!1}));var u=n.commentGroup;n.currentCommentGroup=0,u&&u.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.curriculum.currentCommentGroup=t.count)}));var a=n.likeCntGroup;n.currentLikeCntGroup=0,a&&a.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.curriculum.currentLikeCntGroup=t.count)}));var c=n.visitGroup;n.currentVisitGroup=0,c&&c.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.curriculum.currentVisitGroup=t.count)}));var i=n.shortenUrlGroup;for(var s in n.currentShortenUrlGroup="",i&&i.map((function(t,r){null!=t&&t&&t.group==e.groupId&&(e.curriculum.currentShortenUrlGroup=t.url,e.shortenUrl=t.url)})),function(){if(window.user){var t="/api/curriculum/likes/".concat(e.curriculum._id),n={targetSubject:"curriculum",targetType:e.type,group:e.groupId};r({method:"GET",url:t,params:n}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.curriculum.like=r,e.curriculum.currentLikeCntGroup=r.length}}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}));t="/api/curriculum/mylike/".concat(e.curriculum._id),n={targetSubject:"curriculum",targetType:e.type,group:e.groupId};r({method:"GET",url:t,params:n}).then((function(t){200===t.status?t.data&&(e.isLikeThis=!0):entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))}}(),function(){var t={targetSubject:"curriculum",targetType:e.type,group:e.groupId};r.get("/api/curriculum/favorites/".concat(e.curriculumId),{params:t}).success((function(t,r){e.curriculum.interest=t,e.curriculum.currentFavoriteCntGroup=t.length,e.currentUser&&t.map((function(t){t.user._id==e.currentUser._id&&(e.isInterestThis=!0)}))}))}(),e.commentAuth=window.user._id==n.user._id,e.lecturelen=n.lectures.length,e.curriculumCreated=new Date(n.created),n.updated?e.curriculumUpdated=new Date(n.updated):e.curriculumUpdated=new Date(n.created),e.lectureList=[],n.lectures.length<=3?(e.lectureList=n.lectures,e.lectureListExpand=!1,e.lectureListCollapse=!1):(e.lectureList.push(n.lectures[0]),e.lectureList.push(n.lectures[1]),e.lectureList.push(n.lectures[2]),e.lectureListExpand=!0,e.lectureListCollapse=!1),n.lectures)n.lectures[s].isForCourse&&t.isLectureStaticThumb(n.lectures[s])&&(n.lectures[s].staticThumb=!0);e.getComment()}))},e.getComment=function(){r({method:"GET",url:"/api/comment/curriculum/list/".concat(e.curriculumId,"/").concat(e.commentOption.page),params:{page:e.commentOption.page,targetType:e.type,group:e.groupId}}).success((function(t,r){e.comments=t,e.getCommentCount()}))},e.getCommentCount=function(){r({method:"GET",url:"/api/comment/curriculum/count/".concat(e.curriculumId),params:{target:e.curriculum._id,targetType:e.type,group:e.groupId}}).success((function(t,r){e.commentCount=t,e.totalPages=Math.ceil(t/e.commentOption.rows);var n=Math.ceil(t/e.commentOption.rows),o=Math.ceil(e.currentPage/10),u=1===o?1:10*o-9;e.currentPage>5&&e.currentPage+5<n&&(u=e.currentPage-4),n>u+9&&(n=u+9),e.lastPage=n,e.pageList=[];for(var a=u;a<=n;a++)e.pageList.push(a)}))},e.setPage=function(t){return!(t<1)&&!(t>e.staticPageList)&&(e.beforePage=e.commentOption.page,e.commentOption.page=t,e.currentPage=t,void(e.beforePage!=t&&e.getComment()))},e.prevPageGroup=function(){var t=e.currentPage;if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setPage(e.currentPage)},e.nextPageGroup=function(){var t=e.currentPage;t||(t=1);var r=Math.ceil(e.commentCount/e.commentOption.rows);if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setPage(e.currentPage)},$(".curriculumViewTopScroll").eq(0).on("mousewheel",(function(e){e.preventDefault(),c(e.originalEvent.wheelDelta,!0)})),e.getNumber=function(t){return"".concat(e.curriculum.goals.indexOf(t)+1,". ")},e.getDescription=function(){if(""==e.curriculum.description)return e.curriculum.description},e.hoverSocial=function(t){e.currentSocial=t},e.likeCurriculum=function(){if(e.currentUser&&!e.isEditLike)if(e.isEditLike=!0,e.isLikeThis){var n="/api/curriculum/unlike/".concat(e.curriculum._id),o={targetSubject:"curriculum",targetType:e.type,group:e.groupId};r({method:"DELETE",url:n,params:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.curriculum.like=r,e.curriculum.currentLikeCntGroup=r.length}e.isLikeThis=!1,e.isEditLike=!1}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))}else n="/api/curriculum/like/".concat(e.curriculum._id),o={targetSubject:"curriculum",targetType:e.type,group:e.groupId},r({method:"POST",url:n,data:o,headers:{"csrf-token":t.csrfToken()}}).then((function(t){if(200===t.status){if(t.data){var r=[];t.data.map((function(e){r.push(e.user)})),e.curriculum.like=r,e.curriculum.currentLikeCntGroup=r.length}e.isLikeThis=!0,e.isEditLike=!1}else entrylms.alert(Lang.Msgs.error_occured)}),(function(e){entrylms.alert(Lang.Msgs.error_occured)}))},e.interestCurriculum=function(){if(e.currentUser&&!e.isEditInterest){if(e.isEditInterest=!0,e.isInterestThis){var n="/api/curriculum/favorite/".concat(e.curriculum._id),o={targetSubject:"curriculum",targetType:e.type,group:e.groupId};r.delete(n,{params:o,headers:{"csrf-token":t.csrfToken()}}).success((function(t,n){e.isInterestThis=!1,r.get("/api/curriculum/favorites/".concat(e.curriculum._id),{params:o}).success((function(t,r){e.curriculum.interest=t,e.curriculum.currentFavoriteCntGroup=t.length}))}))}else n="/api/curriculum/favorite/".concat(e.curriculum._id),o={targetSubject:"curriculum",targetType:e.type,group:e.groupId},r.post(n,o,{headers:{"csrf-token":t.csrfToken()}}).success((function(t,n){e.isInterestThis=!0,r.get("/api/curriculum/favorites/".concat(e.curriculum._id),{params:o}).success((function(t,r){e.curriculum.interest=t,e.curriculum.currentFavoriteCntGroup=t.length}))}));e.isEditInterest=!1}},e.setCurrentLecture=function(t){Entry.dispatchEvent("curriculumChange"),e.currentLecture=t},e.isBoxSelected=function(t){return e.currentLecture==t},e.prev=function(){c(330)},e.hasPrev=function(){return e.scrollLeft>0},e.next=function(){c(-330)},e.hasNext=function(){if(e.curriculum){var t=e.curriculum.lectures.length-2;return!(e.scrollLeft>=329*t)}},e.shareFB=function(){for(var t=null,r=e.curriculum.lectures,n=0;n<r.length;n++)if(r[n].repStudy.doneProject&&r[n].repStudy.doneProject.thumb){t=r[n].repStudy.doneProject.thumb;break}if(null==t)for(n=0;n<r.length;n++)if(r[n].repStudy.basicProject&&r[n].repStudy.basicProject.thumb){t=r[n].repStudy.basicProject.thumb;break}null==t&&(t="/img/assets/logo_v2.png");var o="http://www.facebook.com/sharer/sharer.php?s=100&p[url]=".concat(e.curriculum.shortenUrl,"&p[images][0]=https://playentry.org").concat(t,"&p[summary]=엔트리 ").concat(e.curriculum.title);window.open(o,"fb","width=600px, height=450px")},e.shareTW=function(){var t=encodeURIComponent(e.curriculum.title),r=encodeURIComponent(Lang.Menus.Entry),n="".concat("https://twitter.com/intent/tweet","?hashtags=").concat(r,"&original_referer=").concat(encodeURIComponent("https://playentry.org"),"&source=tweetbutton&text=").concat(t,"&url=").concat(e.curriculum.shortenUrl);window.open(n,"tweet","width=600px, height=250px")},e.hoverCheckTarget=function(t){e.currentCheckTarget=t},e.getCurrentCheckList=function(){var t=e.selectedCategory;if(e.curriculum)return"usage"==t?e.curriculum.usageList:"concept"==t?e.curriculum.conceptList:"subject"==t?e.curriculum.subjectList:void 0},e.isMine=function(){if(e.curriculum&&e.curriculum.user)return e.curriculum.user._id==e.global.user._id},e.removeCurriculum=function(){entrylms.confirm(Lang.Menus.study_remove_curriculum).then((function(n){if(!0===n){var o=e.curriculum,u="/api/group/curriculumDel/".concat(e.groupId),a={curriculumId:o._id};r({method:"DELETE",url:u,data:a,headers:{"Content-Type":"application/json;charset=utf-8","csrf-token":t.csrfToken()}}).success((function(e,t){window.history.back()})).error((function(t,r){e.status=r}))}}))},e.deleteTrim=function(e){return e?e.trim():""},e.curriculumList=function(){returnUrl?location.href=decodeURIComponent(returnUrl):o.path("/group/curriculum/list/".concat(e.groupId))},e.lectureToggle=function(){e.lectureListExpand?e.lectureList=e.curriculum.lectures:(e.lectureList=[],e.lectureList.push(e.curriculum.lectures[0]),e.lectureList.push(e.curriculum.lectures[1]),e.lectureList.push(e.curriculum.lectures[2])),e.lectureListExpand=!e.lectureListExpand,e.lectureListCollapse=!e.lectureListCollapse},e.getLectureThumbnail=function(e){return"done"===e.preview&&e.doneProject?{"background-image":"url('".concat(e.doneProject.thumb,"')")}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/".concat(e.youtubeHash,"/mqdefault.jpg')")}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('".concat(e.basicProject.thumb,"')")}:{}},e.viewLecture=function(t){o.path("/group/lecture/view/".concat(t._id,"/").concat(e.groupId))},e.selectCategory=function(t){e.selectedCategory=t},e.isCategorySelected=function(t){return e.selectedCategory==t},e.hasMore=function(t){var r=e.curriculum;return!!r&&!!r.like&&("like"==t&&r.like?r.like.length>e.likeShown:"interest"==t&&r.interest?r.interest.length>e.interestShown:void 0)},e.seeMore=function(t){return"like"==t?e.likeShown+=10:"interest"==t?e.interestShown+=10:void 0},e.commentUpload=function(){var e=$(".commentText").eq(0).val().trim();if(""===e)return entrylms.alert(Lang.Menus.content_required),!1;r.post("/api/user/checkfiltercontent",{content:e},{headers:{"csrf-token":t.csrfToken()}}).success((function(r){r.ok?i(e):t.setBadUser((function(){i(t.getRandomReplaceWord())}))})).error((function(t){i(e)}))},e.editedCommentUpload=function(e){""!==e.content.trim()?r.post("/api/user/checkfiltercontent",{content:e.content},{headers:{"csrf-token":t.csrfToken()}}).success((function(r){r.ok?s(e):t.setBadUser((function(){e.content=t.getRandomReplaceWord(),s(e)}))})).error((function(t){s(e)})):entrylms.alert("내용을 입력해 주세요.")},e.editComment=function(e){e.editing=!0},e.deleteComment=function(n){var o={target:e.curriculum._id,targetSubject:"curriculum",targetType:e.type,group:e.groupId};r.delete("/api/comment/".concat(n._id),{params:o,headers:{"csrf-token":t.csrfToken()}}).success((function(){for(var t in e.comments)e.comments[t]._id===n._id&&e.comments.splice(t,1),t++;e.getComment()}))},e.popupReport=function(t,r,n){var o={};o.project=e.curriculum,o.type=t,o.discussId=r,o.commentId=n,$.event.trigger($.Event("popupReport",{info:o}))},e.updateCurriculum=function(t){window.location.href="/tt#!/group/curriculum/build/".concat(t,"/").concat(e.groupId)},e.showProgress=function(){var t=e.isGroupOwner?"LECTURE":"CURRICULUM";new entrylms.Modal([{type:"LECTURE_PROGRESS",title:e.curriculum.title,content:e.notStuBasic,contentType:t,closeButtonText:Lang.Buttons.confirm}]).show().on("show",(function(){console.log("show")})).on("hide",(function(){console.log("hide")})).on("click",(function(t,r){if("select"===t){var n;if(e.isGroupOwner){var o=r.studyIndex,u=e.curriculum.lectures[o];n="/tt#!/group/lecture/view/".concat(e.curriculum.lectures[o]._id,"/").concat(e.groupId)}else{o=r.lectureIndex,r.studyIndex;var a=r.studyIndex,c=(u=e.curriculum.lectures[o],e.studentId||"");n=u.isForCourse?"course#!/group/".concat(e.groupId,"/").concat(u._id,"/").concat(c,"/").concat(a):"le/".concat(e.groupId,"/").concat(u._id)}window.location.href=n}})).show()}}])},1387:function(e,t,r){angular.module("mean.study").controller("GroupCurriculumListController",["$scope","$route","$routeParams","$location","$uibModal","$log","Global","$http","Projects","$timeout","$cookies",function(e,t,n,o,u,a,c,s,l,p,d){e.global=c,e.isTeacher=c.isTeacher(),e.isMember=c.isMember(),e.isStudent=c.isStudent(),e.currentPage=1,e.isAdmin=c.isAdmin(),e.conditions=[{name:"rows",value:12},{name:"page",value:e.currentPage},{name:"sort",value:"updated"}],e.title=Lang.Menus.learn+" > "+Lang.Menus.study_lesson,e.curriculumShow=[],e.noCurriculum=!1,e.noGroup=!1,e.modalReq=0,e.status={isGroupListOpen:!1},e.shareGuide=!0;var g="/img/assets/study/curriculum/",m={e_1:g+"e1.png",e_2:g+"e1.png",e_3:g+"e3.png",e_4:g+"e3.png",e_5:g+"e5.png",e_6:g+"e5.png",general:g+"general.png",m_1:g+"m1.png",m_2:g+"m1.png",m_3:g+"m1.png"};e.isLang=function(e){return d.get("lang")==e},e.getLectureThumbnail=function(e){return"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.init=function(){e.hidePopup(),window.user?($(".groupCurriculumListBaseWrapper").css("min-height",innerHeight-183.2),$(window).resize((function(e){$(".groupCurriculumListBaseWrapper").css("min-height",innerHeight-183.2)})),$(document).on("touchend",(function(e){$(e.target).closest(".dropdown").length||$("body").click()})),n.page&&(e.currentPage=Number(n.page)),window.user&&f()):window.location.href=window.location.origin+"/tt#!/"};var f=function(){var t="";if(e.isAdmin)t="/api/group/"+n.groupId,s({method:"GET",url:t}).success((function(t,r){e.groupList=[t],e.setCurrentGroup(0)})).error((function(e,t){}));else{var r=e.global.user;s({method:"GET",url:t="/api/getGroupList"}).success((function(t,o){var u=t;if(n.groupId&&u.length<=0)window.location.href=window.location.origin+"/tt#!/";else{for(var a in e.groupList=u,u)u[a]&&(n.groupId===u[a]._id||!n.groupId&&u[a]._id===r.primaryGroup)&&e.setCurrentGroup(a);e.groupList&&!e.currentGroup&&e.setCurrentGroup(0),$(".lecture-dropdown-menu-groups").css("height",41.5*e.groupList.length)}})).error((function(t,r){e.status=r}))}},h=function(){if(e.currentGroup){var t="/api/group/curriculums/"+e.currentGroup._id;s({method:"GET",url:t}).success((function(t,r){e.totalLectures=t.length,e.curriculumInGroup=t,e.curriculumList=t,e.curriculumCount=e.curriculumList.length,e.noCurriculum=!e.curriculumCount,e.generateCurriculumPerPage()}))}else e.curriculumCount=0,e.noCurriculum=!0};function v(e){if(!e)return m.general;if(1===e.length)return m[e];var t=EntryStatic.lectureGrades;return e.sort((function(e,r){return t.indexOf(e)-t.indexOf(r)})),m[e[e.length-1]]}function E(e){for(var t in e)if(e[t].quiz)return!0;return!1}e.generateCurriculumPerPage=function(){var t=[];t=e.curriculumInGroup,e.curriculumList=t.slice(12*(e.currentPage-1),12*e.currentPage);for(var r=0;r<e.curriculumList.length;r++){var n=e.curriculumList[r];e.curriculumList[r].gradeImage=v(n.grade),e.curriculumList[r].quiz=E(n.lectures)}e.generatePageList()},e.setCurrentGroup=function(t){e.currentGroup=e.groupList[t],e.isGroupOwner=c.isGroupOwner(e.currentGroup),h(),$.each(e.status,(function(t,r){e.status[t]=!1})),!e.currentGroup||n.groupId&&n.page||(o.path("/group/curriculum/list/"+e.currentGroup._id+"/"+e.currentPage),o.replace())},e.openCurriculumsModal=function(){e.currentGroup?u.open({templateUrl:"/views/study/group/curriculum/modal/curriculums.html",controller:"GroupCurriculumsModalController",backdrop:!1,keyboard:!1,resolve:{exCurriculumGroup:function(){return e.currentGroup._id}}}).result.then((function(t){var r=!(!t||!t.selectedItem)&&t.selectedItem;if(r){if(0==e.addCurriculums(r))return;e.curriculumList=e.curriculumList.concat(r);var n=e.curriculumList.length;n>12&&e.curriculumList.splice(12,n-12),e.curriculumCount+=r.length,e.curriculumCount>0&&(e.noCurriculum=!1)}})):entrylms.alert(Lang.Menus.no_class_alert)},e.addCurriculums=function(t){var r=[];t.forEach((function(e){r.push(e._id)}));var n="/api/group/curriculumAdd/"+e.currentGroup._id,o={courses:JSON.stringify(r)};e.modalReq++,s({method:"POST",url:n,data:o,headers:{"csrf-token":c.csrfToken()}}).success((function(t,r){if(e.modalReq--,0==e.modalReq)return h(),!0})).error((function(t,r){return 509===r&&entrylms.alert(Lang.Menus.contents_abuse_detected),e.status=r,!1}))},e.deleteCurriculum=function(){var t=e.curriculum,r="/api/group/curriculumDel/"+e.currentGroup._id,n={curriculumId:t._id,groupId:e.currentGroup._id};s({method:"DELETE",url:r,data:n,headers:{"Content-Type":"application/json;charset=utf-8","csrf-token":c.csrfToken()}}).success((function(t,r){e.hidePopup(),e.totalLectures-1<=12*e.currentPage-12&&(e.currentPage-=1,o.path("/group/curriculum/list/"+e.currentGroup._id+"/"+e.currentPage)),h()})).error((function(t,r){e.status=r,e.hidePopup()}))},e.hidePopup=function(){var e=$(".groupConfirm");$("body").eq(0),e.css("display","none"),$.event.trigger({type:"hidePopup"})},e.showPopup=function(t){e.curriculum=t;var r=$(".groupConfirm"),n=$("body").eq(0);r.css("top",n.scrollTop()+"px"),r.css("display","block")},e.generateLecturePerPage=function(){var t=[];t=e.lectureInGroup,e.lectureList=t.slice(12*(e.currentPage-1),12*e.currentPage),e.generatePageList()},e.generatePageList=function(){e.totalPages=Math.ceil(e.curriculumCount/Number(e.getOption("rows").value));var t=Math.ceil(e.curriculumCount/Number(e.getOption("rows").value)),r=Math.ceil(e.currentPage/10);for(e.currentPage>5&&e.currentPage+5<t&&(r=e.currentPage-4),t>r+9&&(t=r+9),e.lastPage=t,e.pageList=[],i=r;i<=t;i++)e.pageList.push(i)},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.currentPage=t.value,e.generateCurriculumPerPage(e.currentPage)},e.addOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]},e.setPage=function(t){e.setOption({name:"page",value:t}),o.path("/group/curriculum/list/"+e.currentGroup._id+"/"+e.currentPage)},e.prevPageGroup=function(){var t=Number(e.getOption("page").value);if(t||(t=1),!(t>10))return!1;e.currentPage-=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.nextPageGroup=function(){var t=Number(e.getOption("page").value);t||(t=1);var r=Math.ceil(e.curriculumCount/Number(e.getOption("rows").value));if(!(e.pageList[0]+9<r))return!1;e.currentPage+=10,e.setOption({name:"page",value:e.currentPage}),$("html,body").animate({scrollTop:$(".allListProjectsList").eq(0).position().top},700)},e.detail=function(e,t){o.path("/group/curriculum/view/"+e._id+"/"+t._id)},e.showCurriculumTitle=function(t){e.curriculumList[t].title.length>10&&(e.curriculumShow[t]=!0)},e.hideCurriculumTitle=function(t){e.curriculumShow[t]=!1},e.makeClass=function(){window.location.href="/"+e.global.user.username+"#!/group"},e.multiLineEllipsis=function(e,t){if(t){var r=$("#"+e),n=$("#"+e+"> pre > span"),o=r.css("min-height");o=+o.split("px")[0],(t=t.replace(/\n/g,"")).length>210&&(t=t.substring(0,210));for(var u=n.height();u>o;)t=t.substring(0,t.length-1).trim(),n.text((function(e){return t+"..."})),u=n.height();return t}},e.showShareGuide=function(){var e=r(294);"ko"!=d.get("lang")&&(e=r(295)),e=e.replace(/<\/span>/g,"</span><br/>").replace(/<\/div>/g,"</div><br/>").replace(/style=/g,"styleNone="),entrylms.alertTextarea({outerHTML:e},Lang.SharePolicy.title)}}])},1388:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupHomeworkModalController",["$scope","$uibModalInstance","Global","$http","$sce","group",function(e,t,r,n,o,u){function a(){for(var t in e.lectureList)e.lectureList[t].isForCourse&&r.isLectureStaticThumb(e.lectureList[t])&&(e.lectureList[t].staticThumb=!0)}e.global=r,e.userId=r.user._id,e.lectureList=[],e.selectedLecture=null,e.global=r,e.timestamp=(new Date).getTime(),e.selectedView="myLectures",e.lectureCount=!0,e.selectedPosition=6,e.categories=EntryStatic.categoryList,e.conditions=[{name:"category",value:"",label:"category_all"},{name:"sort",value:"updated",label:Lang.Menus.latest},{name:"period",value:"",label:Lang.Menus.entire_period},{name:"rows",value:6},{name:"page",value:1},{name:"title",value:""},{name:"isOwner",value:!0},{name:"user",value:e.userId}],e.status={isCategoryOpen:!1,isSortOpen:!1,isPeriodOpen:!1},e.selectedPage=0,e.isSelectedViewExist=function(t){return t||(t=e.selectedView),"myLectures"==t?e.lectureCount:e.favoriteCount},e.init=function(){e.conditions.push({name:"type",value:"lecture"}),e.selectView("myLectures"),e.applyImages(),e.countFavorite(),$("#datepicker").datepicker({showOn:"button",buttonImage:"/img/assets/study/calender_icon.png",buttonImageOnly:!0,dateFormat:"yy.mm.dd",dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesMin:[Lang.Menus.sun,Lang.Menus.mon,Lang.Menus.tue,Lang.Menus.wed,Lang.Menus.thu,Lang.Menus.fri,Lang.Menus.sat],monthNames:[Lang.Menus.jan,Lang.Menus.feb,Lang.Menus.mar,Lang.Menus.apr,Lang.Menus.may,Lang.Menus.jun,Lang.Menus.jul,Lang.Menus.aug,Lang.Menus.sep,Lang.Menus.oct,Lang.Menus.nov,Lang.Menus.dec]}),$(".selector").datepicker("option","minDate");var t=new Date;$("#datepicker").datepicker("option","minDate",new Date(t.getFullYear(),t.getMonth(),t.getDate()))},e.selectView=function(t){e.selectedView=t,e.setOption({page:1},!0)},e.goToMakeLecture=function(){t.dismiss("cancel"),window.location.href="/tt#!/custom/lecture/build"},e.find=function(){if("myLectures"===e.selectedView){var t="/api/lecture/find?isOpen=false&parent=null&"+c();n({method:"GET",url:t}).success((function(t,r){e.lectureList=t,a()})).error((function(t,r){e.status=r,console.log("error:",r)})),e.countLectures()}else"favorite"===e.selectedView&&(t="/api/user/favorites/"+e.userId+"?full=y&"+c(),n({method:"GET",url:t,params:{targetSubject:"lecture"}}).success((function(t){e.lectureList=t,a()})).error((function(t,r){e.status=r})),e.countFavorite())},e.countLectures=function(){var t="/api/lecture/count?isOpen=false&parent=null&"+c();n({method:"GET",url:t}).success((function(t,r){!e.lectureCount&&t.count>0&&(e.lectureCountAll=t.count),e.lectureCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.countFavorite=function(){var t="/api/user/favoritesCount/"+e.userId+"?"+c();n({method:"GET",url:t,params:{targetSubject:"lecture"}}).success((function(t,r){!e.favoriteCount&&t.count>0&&(e.favoriteCountAll=t.count),e.favoriteCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myLectures"==e.selectedView?e.lectureCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]},e.addOption=function(t,r){for(var n in"category"!==t.name&&"title"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}};var c=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$("#lectureSearchInput").val();e.addOption({name:"type",value:"mine"}),e.setOption({name:"title",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setOption({name:"page",value:t-1}):entrylms.alert(Lang.Menus.first_page)},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setOption({name:"page",value:t+1}):entrylms.alert(Lang.Menus.last_page)},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myLectures"===e.selectedView?Math.ceil(e.lectureCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.showThumbnail=function(e){return e.staticThumb?r.staticLectureThumbnail(e,"S"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.selectLecture=function(t){e.selectedLecture=t},e.isSelected=function(t){return e.selectedLecture==t},e.cancel=function(){t.dismiss("cancel")},e.ok=function(){var o=document.getElementById("datepicker").value,a=document.getElementById("description").value,c=document.getElementById("lectureTitle").value;if(c.trim().length<=0)entrylms.alert(Lang.Menus.enter_hw_name);else if(e.selectedLecture)if(""!=o){var i={groupId:u._id,isForHomework:!0};n({method:"PUT",url:"/api/lecture/openLecture/"+e.selectedLecture._id,params:i,headers:{"csrf-token":r.csrfToken()}}).success((function(r){e.selectedLecture&&""!=o&&t.close({lecture:r._id,title:c,due:o,description:a})})).error((function(e,t){509===t?entrylms.alert(Lang.Menus.contents_abuse_detected):entrylms.alert(Lang.Msgs.error_occured)}))}else entrylms.alert(Lang.Menus.plz_set_deadline);else entrylms.alert(Lang.Menus.plz_select_lecture)}}])},1389:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupHomeworkStudentController",["$scope","$uibModalInstance","Global","$http","group","homework",function(e,t,r,n,o,u){e.global=r,e.init=function(){var t=u.submissions;e.submitters=[];for(var r=0;r<t.length;r++)if(t[r].submitDate){var n="".concat(u.lecture._id,"/").concat(o._id,"/").concat(t[r].student,"/").concat(u.id,"/hw");n=t[r].lecture&&u.lecture.isForCourse?"/course#!/group/".concat(n):"/le/".concat(n),t[r].targetUrl=n,e.submitters.push(t[r])}},e.ok=function(){t.close()}}])},1390:function(e,t,r){"use strict";angular.module("mean.study").controller("GroupHomeworkUpdateController",["$scope","$uibModalInstance","Global","$http","homework",function(e,t,r,n,o){e.global=r,e.init=function(){e.homework=o,e.dueDate=function(e){return e.substring(0,10).replace(/-/gi,".")}(o.due),e.title=e.homework.title,e.description=e.homework.description;var t=e.homework.lecture._id||e.homework.lecture;n.get("/api/lecture/"+t).success((function(t){e.lecture=t,r.isLectureStaticThumb(e.lecture)&&(e.lecture.staticThumb=!0)})).error((function(e){console.log(e)})),$("#datepicker").datepicker({showOn:"button",buttonImage:"/img/assets/study/calender_icon.png",buttonImageOnly:!0,dateFormat:"yy.mm.dd",dayNames:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],dayNamesMin:[Lang.Menus.sun,Lang.Menus.mon,Lang.Menus.tue,Lang.Menus.wed,Lang.Menus.thu,Lang.Menus.fri,Lang.Menus.sat],monthNames:[Lang.Menus.jan,Lang.Menus.feb,Lang.Menus.mar,Lang.Menus.apr,Lang.Menus.may,Lang.Menus.jun,Lang.Menus.jul,Lang.Menus.aug,Lang.Menus.sep,Lang.Menus.oct,Lang.Menus.nov,Lang.Menus.dec]})},e.goToMakeLecture=function(){t.dismiss("cancel"),window.location.href="/tt#!/custom/lecture/list"},e.showThumbnail=function(e){return e.staticThumb?r.staticLectureThumbnail(e,"S"):"done"===e.preview&&e.doneProject?{"background-image":"url('"+e.doneProject.thumb+"')"}:"video"===e.preview&&e.youtubeHash?{"background-image":"url('https://img.youtube.com/vi/"+e.youtubeHash+"/mqdefault.jpg')"}:e.basicProject&&e.basicProject.thumb?{"background-image":"url('"+e.basicProject.thumb+"')"}:{}},e.goToMakeLecture=function(){t.dismiss("cancel"),window.location.href="/tt#!/custom/lecture/list"},e.cancel=function(){t.dismiss("cancel")},e.ok=function(){var r=document.getElementById("datepicker").value,n=document.getElementById("description").value,o=document.getElementById("lectureTitle"),u=o.value.trim();""==r?entrylms.alert("마감일을 설정해 주세요."):""==u?(entrylms.alert(Lang.Menus.enter_hw_name),o.value="",o.focus()):t.close({due:r,description:n,title:u,id:e.homework.id})}}])},1391:function(e,t,r){angular.module("mean.study").controller("GroupHomeworkListController",["$scope","$routeParams","$location","$uibModal","Global","$http","$cookies",function(e,t,n,o,u,a,c){e.global=u,e.title="".concat(Lang.Menus.learn," > ").concat(Lang.Menus.study_lesson),e.hwDescOpen=!1,e.homeworksLimit=!1,e.isTeacher=u.isTeacher(),e.isMember=u.isMember(),e.isStudent=u.isStudent(),e.isAdmin=u.isAdmin(),e.currentPage=1,e.homeworkCount=1,e.priorityStatus={BASIC:0,PROGRESS:1,COMPLETED:2,SUBMITTED:3,RESOLVED:4},e.hwStatus={empty:Lang.Menus.lms_hw_ready,progress:Lang.Menus.lms_hw_progress,complete:Lang.Menus.lms_hw_complete,over:Lang.Menus.lms_hw_not_submit},e.status={isGroupListOpen:!1},e.shareGuide=!0,e.init=function(){e.hidePopup(),window.user?($(".homeworkListWrapperWrapper").css("min-height",innerHeight-183.2),$(window).resize((function(e){$(".homeworkListWrapperWrapper").css("min-height",innerHeight-183.2)})),$(document).on("touchend",(function(e){$(e.target).closest(".dropdown").length||$("body").click()})),window.user&&a.get("/api/student/group/".concat(t.groupId)).success((function(t){e.currentStudent=t,i()})).error((function(e,t){console.log(" error",t)}))):window.location.href="".concat(window.location.origin,"/tt#!/")};var i=function(){var r="";if(e.isAdmin)r="/api/group/".concat(t.groupId),a({method:"GET",url:r}).success((function(t,r){e.groupList=[t],console.log(t),e.setCurrentGroup(0)})).error((function(e,t){}));else{var n=e.global.user;a({method:"GET",url:r="/api/getGroupList"}).success((function(r,o){var u=r;if(t.groupId&&u.length<=0)window.location.href="".concat(window.location.origin,"/tt#!/");else{for(var a in e.groupList=u,u)(t.groupId===u[a]._id||!t.groupId&&u[a]._id===n.primaryGroup)&&e.setCurrentGroup(a);e.groupList&&!e.currentGroup&&e.setCurrentGroup(0),$(".lecture-dropdown-menu-groups").css("height",41.5*e.groupList.length)}})).error((function(t,r){e.status=r}))}};function s(e,t){t.project?a.get("/api/project/submit/".concat(t.project)).success((function(r){r&&r._id&&(t.project=r._id),l(e,t)})).error((function(r){l(e,t)})):(t.lecture&&a.get("/api/project/updatestudylectures/".concat(t.lecture,"/").concat(window.user._id)).success((function(e){})).error((function(e){e&&console.log("err:",e)})),l(e,t))}function l(r,o){a.put(r,o,{headers:{"csrf-token":u.csrfToken()}}).success((function(r){t.homeworkId&&delete t.homeworkId,e.loadHomeworks(e.currentGroup),n.path("/group/homework/list/".concat(e.currentGroup._id)),e.confirmSubmitAgreeConfirm=!0})).error((function(e){console.log("err=",e)})),e.hidePopup()}e.setCurrentGroup=function(t){e.currentGroup=e.groupList[t],e.isGroupOwner=!(!e.isAdmin&&!u.isGroupOwner(e.currentGroup)),e.loadHomeworks(e.currentGroup),e.currentGroup.teacher==window.user._id&&(e.currentStudent=null),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.prevPage=function(){if(1===e.currentPage)entrylms.alert(Lang.Menus.first_page);else{var t=e.currentPage-1;e.setPage(t),$("html,body").animate({scrollTop:$(".psListWrapper").eq(0).position().top},700)}},e.nextPage=function(){if(e.currentPage===e.lastPage)entrylms.alert(Lang.Menus.last_page);else{var t=e.currentPage+1;e.setPage(t),$("html,body").animate({scrollTop:$(".psListWrapper").eq(0).position().top},700)}},e.setPage=function(t){t<e.currentPage&&(e.cachedResult={}),e.currentPage=t,e.setOption({name:"page",value:t})},e.loadHomeworks=function(r){r?a.get("/api/student/group/".concat(r._id)).success((function(n){e.currentStudent=n;var o=a.get("/api/group/homework/list/".concat(r._id));o.success((function(n){e.homeworks=n.sort((function(e,t){return new Date(t.created).getTime()-new Date(e.created).getTime()})),e.homeworkCount=n.length;var o=r.homeworks;t.homeworkId&&function(r){for(var n=0;n<r.length;n++){var o=r[n];if(String(o.id)===String(t.homeworkId)){e.currentHw=o;for(var u=o.submissions,a=0;a<u.length;a++){var c=u[a].student;if(e.currentStudent.user==c||e.currentStudent._id==c)return void e.submitConfirm(u[a].project)}}}}(o),function(){for(var t=e.homeworks,r=0;r<t.length;r++){for(var n=t[r],o=n.submissions,u=0;u<o.length;u++){var a=o[u];if(e.currentStudent&&e.currentStudent._id==a.student){a.submitDate?(n.status="complete",n.project=a.project):(n.status="progress",n.project=a.project);break}}n.status||(n.status="empty"),"complete"!=n.status&&n.expired&&(n.status="over")}}()})),o.error((function(t){t&&console.log("err=",t),e.homeworks=[]}))})).error((function(e,t){console.log(" error",t)})):e.homeworks=[]},e.openHomeworkModal=function(){e.homeworks.length>99?e.showPopup("homeworksLimit"):e.currentGroup?o.open({templateUrl:"/views/study/group/homework/modal/lectures.html",controller:"GroupHomeworkModalController",backdrop:!1,keyboard:!1,resolve:{group:function(){return e.currentGroup}}}).result.then((function(t){a.post("/api/group/homework/".concat(e.currentGroup._id),t,{headers:{"csrf-token":u.csrfToken()}}).success((function(t){e.loadHomeworks(e.currentGroup)})).error((function(e){509===status?entrylms.alert(Lang.Menus.contents_abuse_detected):entrylms.alert(Lang.Msgs.error_occured),console.error("error:",e)}))})):entrylms.alert(Lang.Menus.no_class_alert)},e.openStudentList=function(t){o.open({templateUrl:"/views/study/group/homework/modal/students.html",controller:"GroupHomeworkStudentController",backdrop:!1,keyboard:!1,resolve:{group:function(){return e.currentGroup},homework:function(){return t}}}).result.then((function(){}))},e.selectHomework=function(t){for(var r in e.homeworks)e.homeworks[r].selected=!1;e.homeworks[t].selected=!0,e.selectedHomework=t},e.checkUserSubmit=function(t){a.get("/api/me").success((function(r){null==r?$.event.trigger({type:"showLogin"}):window.user&&window.user._id!=r._id?(e.cannotSubmitModal=!0,e.showPopup("cannotSubmitModal")):e.submitHomework(t)})).error((function(t){e.cannotSubmitModal=!0,e.showPopup("cannotSubmitModal")}))},e.submitHomework=function(t){"empty"==t.status?entrylms.alert(Lang.Menus.submission_condition):e.currentStudent?(e.confirmSubmitAgree=!0,e.currentHw=t):entrylms.alert(Lang.Menus.submit_students_only)},e.submitConfirmDirect=function(){var t=e.currentHw,r=t.lecture._id,n=t.lecture.isForCourse,o={groupId:e.currentGroup._id,studentId:e.currentStudent._id};a.post("/api/lecture/progress/".concat(r),o,{headers:{"csrf-token":u.csrfToken()}}).then((function(o){var c=o.data||[];c.every((function(t){if(e.priorityStatus[t.status]>e.priorityStatus.PROGRESS)return t.status="SUBMITTED",!0}));var i="/api/group/homework/submit/".concat(e.currentGroup._id),l={id:t.id,student:e.currentStudent._id,name:e.currentStudent.studentName,submitted:!0};n?l.lecture=r:l.project=t.project;var p={type:"open",status:"SUBMITTED",lectureId:r,studyStatus:c,groupId:e.currentGroup._id,studentId:e.currentStudent._id};a.post("/api/lecture/progress",p,{headers:{"csrf-token":u.csrfToken()}}).then((function(e){s(i,l)})).catch((function(e,t){console.log(e)}))})).catch((function(e){console.error(e)}))},e.submitConfirm=function(t){var r=e.currentHw,n=e.currentStudent,o=n.studentName?n.studentName:n.username;s("/api/group/homework/submit/".concat(e.currentGroup._id),{id:r.id,project:t,student:e.currentStudent._id,name:o,submitted:!0})},e.hwDescToggle=function(t){t==e.hwDescOpenIndex?e.hwDescOpenIndex=null:e.hwDescOpenIndex=t},e.hidePopupAndRedirect=function(){e.hidePopup(),window.location.href="/"},e.hidePopup=function(){e.isAlert=!1,e.isConfirm=!1,e.homeworksLimit=!1;var t=$(".groupConfirm");$("body").eq(0),t.css("display","none"),$.event.trigger({type:"hidePopup"}),e.confirmSubmitAgree=!1},e.showPopup=function(t){if("homeworksLimit"==t)e.homeworksLimit=!0;else if(null==e.selectedHomework)e.isAlert=!0;else if("delete"==t)e.isConfirm=!0;else if("edit"==t)return void e.editHomework();var r=$(".groupConfirm"),n=$("body").eq(0);r.css("top","".concat(n.scrollTop(),"px")),r.css("display","block")},e.editHomework=function(){var t=e.homeworks[e.selectedHomework],r=e.currentGroup;o.open({templateUrl:"/views/study/group/homework/modal/homework.html",controller:"GroupHomeworkUpdateController",backdrop:!1,keyboard:!1,resolve:{homework:function(){return t}}}).result.then((function(t){a.put("/api/group/homework/edit/".concat(r._id),t,{headers:{"csrf-token":u.csrfToken()}}).success((function(t){e.selectedHomework=void 0,e.loadHomeworks(r),a.get("/api/group/search/".concat(r._id)).then((function(e){console.log("successfully inserted")}))})).error((function(e){console.log(e)}))}))},e.deleteHomework=function(){var t=e.homeworks[e.selectedHomework].id,r=e.currentGroup;a.delete("/api/group/homework/remove/".concat(r._id,"/").concat(t),{headers:{"csrf-token":u.csrfToken()}}).success((function(t){e.hidePopup(),e.loadHomeworks(r)})).error((function(e){console.log(e)}))},e.makeClass=function(){window.location.href="/".concat(e.global.user.username,"#!/group")},e.showShareGuide=function(){var e=r(294);"ko"!=c.get("lang")&&(e=r(295)),e=e.replace(/<\/span>/g,"</span><br/>").replace(/<\/div>/g,"</div><br/>").replace(/style=/g,"styleNone="),entrylms.alertTextarea({outerHTML:e},Lang.SharePolicy.title)}}])},1392:function(e,t){angular.module("mean.study").controller("SpecialViewController",["$scope","$routeParams","$location","$http","$sce","$cookies",function(e,t,r,n,o,u){e.naverUrl=[537385,537386,537389,537390,537393,537395,537398,537400,537401,537402,537410,537413,537415,537416,537418,537419,537421,537423,537425,537426,537428,537433,537434,537436,537437,537439],e.init=function(){var r=t.specialName;e.getSelectedSpecial(r),e.getSpecials(),e.specialLists=[]},e.getSpecials=function(){n({method:"GET",url:"/api/special/find"}).success((function(t,r){e.specialLists=t})).error((function(e,t){}))},e.getSelectedSpecial=function(t){var r="/api/special/"+t,u=parseInt(t.substring(3,t.length));n({method:"GET",url:r}).success((function(t,r){e.special=t,e.special.youtubeUrl=o.trustAsResourceUrl("https://www.youtube.com/embed/"+t.youtube),e.special.tvcastUrl=a(t.tvcast),e.special.naverUrl=a(e.naverUrl[u-1]),e.special.entryUrl="/ebs#!/"+u})).error((function(e,t){}))},e.renderHtml=function(e){return o.trustAsHtml(e)},e.isLang=function(e){return u.get("lang")==e};var a=function(e){return o.trustAsResourceUrl(String(e).replace("http://","https://"))}}])},1393:function(e,t){angular.module("mean.study").controller("SoftwareController",["$scope","$routeParams","$location","$uibModal","$log","$http","Global","Projects","myProject","$timeout","$cookies",function(e,t,r,n,o,u,a,c,i,s,l){e.global=a,e.conditions=[{name:"category",value:""},{name:"sort",value:"special.order"},{name:"order",value:1},{name:"rows",value:20},{name:"page",value:1},{name:"title",value:""},{name:"isOpen",value:!0},{name:"specialName",value:"ebs2"}],e.isLang=function(e){return l.get("lang")==e},e.goSeason1=function(){window.location.href="/tt#!/advance/software"},e.goSeason2=function(){window.location.href="/tt#!/advance/software2"},e.init=function(){e.query=""==r.url().split("software")[1]?"special":"lecture",r.url().indexOf("ebsSoftware")>-1&&e.setOption({name:"specialName",value:"ebs3"},!1),e.specialList=[],e.currentPage=1,e.find()},e.find=function(){var t="/api/"+e.query+"/find?"+p();u({method:"GET",url:t}).success((function(t,r){e.specialList=t})).error((function(t,r){e.status=r})),e.count()},e.count=function(){var t="/api/"+e.query+"/count?"+p();u({method:"GET",url:t}).success((function(t,r){e.specialCount=t.count})).error((function(t,r){e.status=r}))},e.setOption=function(t,r){for(var n in"title"===t.name&&(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(o.value=1)}e.find()},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]};var p=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){e.setOption({name:"title",value:e.searchWord},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setOption({name:"page",value:t-1}):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),Math.ceil(e.specialCount/Number(e.getOption("rows").value))>t?e.setOption({name:"page",value:t+1}):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),t>1?"allListNavigationLeftHigh":"allListNavigationLeftNorm"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),Math.ceil(e.specialCount/Number(e.getOption("rows").value))>t?"allListNavigationRightHigh":"allListNavigationRightNorm"},e.specialDetail=function(t){"special"==e.query?window.location.href="/tt#!/advance/software/"+t.name:"lecture"==e.query&&(window.location.href="/tt#!/custom/lecture/view/"+t._id)}}])},1394:function(e,t,r){(function(e){angular.module("mean.study").controller("IndexController",["$scope","$location","$http","mazeStatus","$anchorScroll","$rootScope","$timeout","$q","Global",function(e,t,r,n,o,u,a,c,i){function s(t,n){var o=[];n.forEach((function(n,u){var a=c((function(o,a){r.get("/api/lecture/title/"+n.id).success((function(r,a){var c=e[t];c[u]=r,c[u].subject=n.subject,c[u].link="/tt#!/custom/lecture/view/"+n.id,c[u]._id=n.id,o()})).error((function(e){console.log(e),a()}))}));o.push(a)})),c.all(o).then((function(){r.post("/api/cache/"+t,{value:e[t]},{headers:{"csrf-token":i.csrfToken()}})})).catch((function(e){e&&console.log(e)}))}e.currentStudy="basic",e.currentCustom="lecture",e.showContentCount=3,e.lectureListLength=6,e.currentLang=window.lang,e.isMoreCourseware=!1,e.hoverStudy=function(t){e.currentStudy=t},e.isCurrentStudy=function(t){return e.currentStudy==t},e.hoverCustom=function(t){e.currentCustom=t},e.isCurrentCustom=function(t){return e.currentCustom==t},e.goPath=function(t){t&&("noContentsPopup"!==t?window.location.href=t:e.showPopup())},e.$on("$locationChangeSuccess",(function(){a((function(){o("mainHeader")}))})),e.showPopup=function(){var e=$("#popupWrapper"),t=$("body").eq(0);e.css("top",t.scrollTop()+"px"),e.css("display","block")},e.hidePopup=function(){var e=$("#popupWrapper");$("body").eq(0),e.css("display","none"),$.event.trigger({type:"hidePopup"})},e.topics=[{title:Lang.Menus.solve_problem,desc1:Lang.Menus.solve_desc_1,desc2:Lang.Menus.solve_desc_2,link:"/tt#!/basic/solve"},{title:Lang.Menus.featured_courses,desc1:Lang.Menus.recommended_lessons_1,link:"/tt#!/rc"},{title:Lang.Menus.play_software,desc1:Lang.Menus.playSw_desc_1,desc2:Lang.Menus.playSw_desc_2,link:"/tt#!/advance/software2"},{title:Lang.Menus.hello_ebs,desc1:Lang.Menus.hello_ebs_sub_1,desc2:Lang.Menus.hello_ebs_sub_2,link:"/tt#!/advance/ebsSoftware"}],e.recommend={first:!0,second:!1,last:!1},e.recommendData={beginner:{on:!0,step:"beginner"},intermediate:{on:!1,step:"intermediate"},advanced:{on:!1,step:"advanced"}},e.toggleRecommend=function(t){for(var r in e.recommend)e.recommend[r]=!1;e.recommend[t]=!0},e.lectureDetail=function(e){window.location.href="tt#!/custom/lecture/view/"+e},e.init=function(){e.step1Lectures=[{id:"59018c78f7e6269b0575a468",subject:"순차, 반복"},{id:"59018c767baa939aeae08910",subject:"순차, 병렬, 반복"},{id:"59018c757baa939aeae0890e",subject:"반복"},{id:"591d4314734dff692cec1b82",subject:"반복, 이벤트"},{id:"591eb8f0c6b3897b0688611c",subject:"반복, 이벤트"},{id:"59018c76f7e6269b0575a45c",subject:"반복, 이벤트"},{id:"593f8f0ee8557a9b90551f02",subject:"반복, 이벤트"}],e.step2Lectures=[{id:"59018c775c60119b1f299131",subject:"순차, 반복, 선택"},{id:"59018c771f4f9d9b391c59c3",subject:"순차, 반복, 이벤트"},{id:"591e81dfd52833b6f2999375",subject:"반복, 선택, 이벤트"},{id:"59018c785c60119b1f299137",subject:"반복, 선택"},{id:"59018c77f7e6269b0575a462",subject:"입출력, 선택, 반복"},{id:"59018c76f7e6269b0575a460",subject:"변수, 입출력, 문자열"},{id:"5a31e368b62360023c8e1566",subject:"변수, 반복, 선택"}],e.step3Lectures=[{id:"59018c765c60119b1f29912f",subject:"순차, 반복, 선택"},{id:"591ea003289ea41bcce90ab0",subject:"순차, 반복, 이벤트"},{id:"59018c785c60119b1f299135",subject:"변수, 입출력, 선택"},{id:"59018c78f7e6269b0575a466",subject:"변수, 선택, 반복"},{id:"591d43f7f942bd6912534aae",subject:"논리연산, 선택, 반복"},{id:"5892ce53a518d01fe4a17d18",subject:"변수, 비교연산, 입출력"},{id:"591ea2440af1623767b8dcd7",subject:"변수, 비교연산"}],e.step4Lectures=[{id:"5b84afff1f9c2e0e035b9042",subject:"순차, 반복, 이벤트"},{id:"5b84afff1f9c2e0e035b9040",subject:"이벤트"},{id:"5b84afff1f9c2e0e035b9044",subject:"반복, 이벤트"},{id:"5b84afff1f9c2e0e035b9046",subject:"반복, 이벤트"},{id:"5b84afff1f9c2e0e035b9048",subject:"반복, 선택"},{id:"5b84afff1f9c2e0e035b9032",subject:"반복, 선택, 이벤트"},{id:"5b84afff1f9c2e0e035b9028",subject:"반복, 선택, 이벤트"}],e.step5Lectures=[{id:"5b84afff1f9c2e0e035b9034",subject:"반복, 이벤트"},{id:"5b84afff1f9c2e0e035b9036",subject:"반복, 이벤트, 선택"},{id:"5b84afff1f9c2e0e035b902a",subject:"반복, 이벤트"},{id:"5b84afff1f9c2e0e035b9038",subject:"이벤트, 입출력, 변수"},{id:"5b84afff1f9c2e0e035b904a",subject:"반복, 선택, 입출력"},{id:"5b84afff1f9c2e0e035b903a",subject:"반복, 문자열, 변수"},{id:"5b84afff1f9c2e0e035b902e",subject:"반복, 선택, 문자열"}],e.step6Lectures=[{id:"5b84afff1f9c2e0e035b9050",subject:"반복, 이벤트, 선택"},{id:"5b84afff1f9c2e0e035b903c",subject:"이벤트, 선택, 입출력"},{id:"5b84afff1f9c2e0e035b902c",subject:"반복, 이벤트"},{id:"5b84afff1f9c2e0e035b903e",subject:"반복, 선택, 문자열"},{id:"5b84afff1f9c2e0e035b904c",subject:"반복, 선택, 변수, 논리연산"},{id:"5b84afff1f9c2e0e035b9030",subject:"반복, 선택, 입출력, 리스트"},{id:"5b84afff1f9c2e0e035b904e",subject:"이벤트, 변수, 비교연산, 리스트"}],e.step1List=[],e.step2List=[],e.step3List=[],e.step4List=[],e.step5List=[],e.step6List=[],e.index=[0,0,0,0,0,0],function(){for(var t=[],r=1;r<=e.lectureListLength;r++){var n={stepList:"step".concat(r,"List"),stepLecture:"step".concat(r,"Lectures")};t.push(n)}return t}().forEach((function(t){r.get("/api/cache/".concat(t.stepList)).success((function(r){r&&r.length==e[t.stepLecture].length?e[t.stepList]=r:s(t.stepList,e[t.stepLecture])})).error((function(r){s(t.stepList,e[t.stepLecture])}))}))},e.multiLineEllipsis=function(e,t){if(t){var r=$("#"+e),n=$("#"+e+"> pre > span"),o=r.css("min-height");o=+o.split("px")[0],t.length>90&&(t=t.substring(0,90));for(var u=n.height();u>o;)t=t.substring(0,t.length-1).trim(),n.text((function(e){return t+"..."})),u=n.height();return t}},e.isShowCourseware=function(t,r){var n=e.index[r],o=e.showContentCount;return n*o<=t&&(n+1)*o>t},e.toggleMoreCourseware=function(t){console.log("toggleMoreCourseware"),e.isMoreCourseware=void 0===t?!e.isMoreCourseware:t},e.goPrePage=function(t){e.index[t]--},e.goNextPage=function(t){e.index[t]++},e.hasPrePage=function(t){return e.index[t]>0},e.hasNextPage=function(t,r){return e.index[t]<parseInt(r/e.showContentCount)}}]),angular.module("mean.textbook").controller("TextBookController",["$scope","$location","$http","$window",function(t,r,n,o){t.textShowContent=3,t.lectureListLength=6,t.currentLang=window.lang,t.isMoreCourseware=!1,t.textbookDetail=function(t,n,o){"production"===e.env.NODE_CONFIG&&ga("send","event","교과서 학습하기-"+t,"click",n);var u=r.host();window.location.href="localhost"===u||"local.playentry.org"===u||"dev.playentry.org"===u||"dev2.playentry.org"===u?"https://stage.playentry.org/course/"+o:"/course/"+o},t.textbook_group=["textbook1","textbook2","textbook3","textbook4","textbook5","textbook6"],t.init=function(){t.textbook1=[],t.textbook2=[],t.textbook3=[],t.textbook4=[],t.textbook5=[],t.textbook6=[],t.indexText=[0,0,0,0,0,0],t.textbook_group.forEach((function(e){n.get("/api/cache/".concat(e)).success((function(r){"textbook1"===e?t.textbook1=r:"textbook2"===e?t.textbook2=r:"textbook3"===e?t.textbook3=r:"textbook4"===e?t.textbook4=r:"textbook5"===e?t.textbook5=r:"textbook6"===e&&(t.textbook6=r)})).error((function(e){console.log("err="+e)}))}))},t.textbookCourseware=function(e,r){var n=t.indexText[r],o=t.textShowContent;return n*o<=e&&(n+1)*o>e},t.goPath=function(e){e&&(window.scrollTo(0,0),window.location.href=e)},t.goTextPrePage=function(e){t.indexText[e]=t.indexText[e]-1},t.goTextNextPage=function(e){t.indexText[e]=t.indexText[e]+1},t.hasTextPrePage=function(e){return t.indexText[e]>0},t.hasTextNextPage=function(e,r){return 0!==parseInt(r%(t.textShowContent*t.indexText[e]))&&t.indexText[e]<parseInt(r/t.textShowContent)},t.download_link=function(e,t){var r=document.createElement("a");r.setAttribute("download",""),-1==(o.location.protocol+"//"+o.location.host+o.location.pathname).indexOf("www.playentry.org")&&(e=e.replace("www.","")),r.download="",r.href=e,r.click()}}])}).call(this,r(581))},1395:function(e,t){angular.module("mean.study").controller("MaterialsController",["$scope","$location","$http","$window","$sce","$cookies","Downloader",function(e,t,r,n,o,u,a){e.materials={entry_go_go_34_biginner:[{title:"엔트리 고고_3-4학년 초급_1.교육과정",content:"엔트리 프로그래밍을 통해 소프트웨어의 원리에 대해 이해하고, 블록 언어를 경험할 수 있는 내용으로 구성된 17차시 교육 계획안입니다. 소프트웨어 교육을 처음 접하는 초등학교 3-4학년 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89_1.%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95.hwp",linkType:"hwp",allLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89.zip"},{title:"엔트리 고고_3-4학년 초급_2.학습지(학생용)",content:"17차시 교육 계획안을 바탕으로 구성된 학생용 활동지입니다. 교사용 해설서와 함께 수업에 활용할 수 있는 형태로 제작되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89_2.%ED%95%99%EC%8A%B5%EC%A7%80(%ED%95%99%EC%83%9D%EC%9A%A9).hwp",linkType:"hwp",allLink:""},{title:"엔트리 고고_3-4학년 초급_3.해설서(교사용)",content:"17차시 교육 계획안을 바탕으로 구성된 교사용 해설서입니다. 학생용 학습지에 대한 예시 답안 및 작품에 대한 설명이 포함되어 있습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89_3.%ED%95%B4%EC%84%A4%EC%84%9C(%EA%B5%90%EC%82%AC%EC%9A%A9).pptx",linkType:"pptx",allLink:""}],entry_go_go_56_biginner:[{title:"엔트리 고고_5-6학년 초급_1.교육과정",content:"엔트리 프로그래밍을 통해 소프트웨어의 원리에 대해 이해하고, 블록 언어를 경험할 수 있는 내용으로 구성된 17차시 교육 계획안입니다. 소프트웨어 교육을 처음 접하는 초등학교 5-6학년 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89_1.%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95.hwp",linkType:"hwp",allLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89.zip"},{title:"엔트리 고고_5-6학년 초급_2.학습지(학생용)",content:"17차시 교육 계획안을 바탕으로 구성된 학생용 활동지입니다. 교사용 해설서와 함께 수업에 활용할 수 있는 형태로 제작되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89_2.%ED%95%99%EC%8A%B5%EC%A7%80(%ED%95%99%EC%83%9D%EC%9A%A9).hwp",linkType:"hwp",allLink:""},{title:"엔트리 고고_5-6학년 초급_3.해설서(교사용)\t",content:"17차시 교육 계획안을 바탕으로 구성된 교사용 해설서입니다. 학생용 학습지에 대한 예시 답안 및 작품에 대한 설명이 포함되어 있습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%B4%88%EA%B8%89_3.%ED%95%B4%EC%84%A4%EC%84%9C(%EA%B5%90%EC%82%AC%EC%9A%A9).pptx",linkType:"pptx",allLink:""}],entry_go_go_78_biginner:[{title:"엔트리 고고_중등 초급_1.교육과정",content:"엔트리 프로그래밍을 통해 소프트웨어의 원리에 대해 이해하고, 블록 언어를 경험할 수 있는 내용으로 구성된 17차시 교육 계획안입니다. 소프트웨어 교육을 처음 접하는 중학교 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%B4%88%EA%B8%89_1.%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95.hwp",linkType:"hwp",allLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%B4%88%EA%B8%89.zip"},{title:"엔트리 고고_중등 초급_2.학습지(학생용)",content:"17차시 교육 계획안을 바탕으로 구성된 학생용 활동지입니다. 교사용 해설서와 함께 수업에 활용할 수 있는 형태로 제작되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%B4%88%EA%B8%89_2.%ED%95%99%EC%8A%B5%EC%A7%80(%ED%95%99%EC%83%9D%EC%9A%A9).hwp",linkType:"hwp",allLink:""},{title:"엔트리 고고_중등 초급_3.해설서(교사용)",content:"17차시 교육 계획안을 바탕으로 구성된 교사용 해설서입니다. 학생용 학습지에 대한 예시 답안 및 작품에 대한 설명이 포함되어 있습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%B4%88%EA%B8%89_3.%ED%95%B4%EC%84%A4%EC%84%9C(%EA%B5%90%EC%82%AC%EC%9A%A9).pptx",linkType:"pptx",allLink:""}],entry_go_go_34_middle:[{title:"엔트리 고고_3-4학년 중급_1.교육과정",content:"엔트리 프로그래밍을 통해 소프트웨어의 원리에 대해 이해하고, 블록 언어에 익숙해질 수 있도록 구성된 17차시 교육 계획안입니다. 소프트웨어 교육을 경험한 초등학교 3-4학년 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89_1.%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95.hwp",linkType:"hwp",allLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89.zip"},{title:"엔트리 고고_3-4학년 중급_2.학습지(학생용)",content:"17차시 교육 계획안을 바탕으로 구성된 학생용 활동지입니다. 교사용 해설서와 함께 수업에 활용할 수 있는 형태로 제작되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89_2.%ED%95%99%EC%8A%B5%EC%A7%80(%ED%95%99%EC%83%9D%EC%9A%A9).hwp",linkType:"hwp",allLink:""},{title:"엔트리 고고_3-4학년 중급_3.해설서(교사용)",content:"17차시 교육 계획안을 바탕으로 구성된 교사용 해설서입니다. 학생용 학습지에 대한 예시 답안 및 작품에 대한 설명이 포함되어 있습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_3-4%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89_3.%ED%95%B4%EC%84%A4%EC%84%9C(%EA%B5%90%EC%82%AC%EC%9A%A9).pptx",linkType:"pptx",allLink:""}],entry_go_go_56_middle:[{title:"엔트리 고고_5-6학년 중급_1.교육과정",content:"엔트리 프로그래밍을 통해 소프트웨어의 원리에 대해 이해하고, 블록 언어에 익숙해질 수 있도록 구성된 17차시 교육 계획안입니다. 소프트웨어 교육을 경험한 초등학교 5-6학년 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89_1.%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95.hwp",linkType:"hwp",allLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89.zip"},{title:"엔트리 고고_5-6학년 중급_2.학습지(학생용)",content:"17차시 교육 계획안을 바탕으로 구성된 학생용 활동지입니다. 교사용 해설서와 함께 수업에 활용할 수 있는 형태로 제작되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89_2.%ED%95%99%EC%8A%B5%EC%A7%80(%ED%95%99%EC%83%9D%EC%9A%A9).hwp",linkType:"hwp",allLink:""},{title:"엔트리 고고_5-6학년 중급_3.해설서(교사용)",content:"17차시 교육 계획안을 바탕으로 구성된 교사용 해설서입니다. 학생용 학습지에 대한 예시 답안 및 작품에 대한 설명이 포함되어 있습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_5-6%ED%95%99%EB%85%84%20%EC%A4%91%EA%B8%89_3.%ED%95%B4%EC%84%A4%EC%84%9C(%EA%B5%90%EC%82%AC%EC%9A%A9).pptx",linkType:"pptx",allLink:""}],entry_go_go_78_middle:[{title:"엔트리 고고_중등 중급_1.교육과정",content:"엔트리 프로그래밍을 통해 소프트웨어의 원리에 대해 이해하고, 블록 언어에 익숙해질 수 있도록 구성된 17차시 교육 계획안입니다. 소프트웨어 교육을 경험한 중학교 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%A4%91%EA%B8%89_1.%EA%B5%90%EC%9C%A1%EA%B3%BC%EC%A0%95.hwp",linkType:"hwp",allLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%A4%91%EA%B8%89.zip"},{title:"엔트리 고고_중등 중급_2.학습지(학생용)",content:"17차시 교육 계획안을 바탕으로 구성된 학생용 활동지입니다. 교사용 해설서와 함께 수업에 활용할 수 있는 형태로 제작되었습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%A4%91%EA%B8%89_2.%ED%95%99%EC%8A%B5%EC%A7%80(%ED%95%99%EC%83%9D%EC%9A%A9).hwp",linkType:"hwp",allLink:""},{title:"엔트리 고고_중등 중급_3.해설서(교사용)",content:"17차시 교육 계획안을 바탕으로 구성된 교사용 해설서입니다. 학생용 학습지에 대한 예시 답안 및 작품에 대한 설명이 포함되어 있습니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%A0%EA%B3%A0_%EC%A4%91%EB%93%B1%20%EC%A4%91%EA%B8%89_3.%ED%95%B4%EC%84%A4%EC%84%9C(%EA%B5%90%EC%82%AC%EC%9A%A9).pptx",linkType:"pptx",allLink:""}],learn_entry_programming_bigginer:[{title:"따라하며 배우는 엔트리 프로그래밍_초급",content:"작품을 따라 만들며 엔트리 프로그래밍에 익숙해질 수 있도록 다양한 예시 작품과 그에 대한 프로그래밍 과정을 단계별로 안내합니다. 초등학교 3-4학년 이상의 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B0%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%EC%B4%88%EA%B8%89.hwp",linkType:"hwp"}],learn_entry_programming_middle:[{title:"따라하며 배우는 엔트리 프로그래밍_중급",content:"작품을 따라 만들며 엔트리 프로그래밍에 익숙해질 수 있도록 다양한 예시 작품과 그에 대한 프로그래밍 과정을 단계별로 안내합니다. 초등학교 5-6학년 이상의 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B0%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%EC%A4%91%EA%B8%89.hwp",linkType:"hwp"}],learn_entry_programming_high:[{title:"따라하며 배우는 엔트리 프로그래밍_고급",content:"작품을 따라 만들며 엔트리 프로그래밍에 익숙해질 수 있도록 다양한 예시 작품과 그에 대한 프로그래밍 과정을 단계별로 안내합니다. 중등 이상의 학생들에게 적합한 수준으로 개발되었습니다.",urlLink:"/data/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B0%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D_%EA%B3%A0%EA%B8%89.hwp",linkType:"hwp"}],playsoftware_ebs_season1:[{title:"EBS 소프트웨어야 놀자_시즌 1_교사용 지도서",content:"EBS ‘소프트웨어야 놀자 시즌1’의 동영상을 이용하여 소프트웨어 교육을 처음 접하는 학습자의 이해를 돕고 교육용 프로그래밍 언어 엔트리를 통해 실습해 볼 수 있도록 구성된 교사용 지도서입니다.",urlLink:"/data/EBS%20%E1%84%89%E1%85%A9%E1%84%91%E1%85%B3%E1%84%90%E1%85%B3%E1%84%8B%E1%85%B0%E1%84%8B%E1%85%A5%E1%84%8B%E1%85%A3%20%E1%84%82%E1%85%A9%E1%86%AF%E1%84%8C%E1%85%A1_%E1%84%89%E1%85%B5%E1%84%8C%E1%85%B3%E1%86%AB%201_%E1%84%80%E1%85%AD%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%20%E1%84%8C%E1%85%B5%E1%84%83%E1%85%A9%E1%84%89%E1%85%A5.pdf",linkType:"pdf",allLink:"/data/EBS%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EC%95%BC%20%EB%86%80%EC%9E%901.zip"}],playsoftware_ebs_season2:[{title:"EBS 소프트웨어야 놀자_시즌 2_교사용 지도서",content:"EBS ‘소프트웨어야 놀자 시즌2’의 동영상을 이용하여 소프트웨어 교육을 처음 접하는 학습자의 이해를 돕고 교육용 프로그래밍 언어 엔트리를 통해 실습해 볼 수 있도록 구성된 교사용 지도서입니다.",urlLink:"/data/EBS%20%E1%84%89%E1%85%A9%E1%84%91%E1%85%B3%E1%84%90%E1%85%B3%E1%84%8B%E1%85%B0%E1%84%8B%E1%85%A5%E1%84%8B%E1%85%A3%20%E1%84%82%E1%85%A9%E1%86%AF%E1%84%8C%E1%85%A1_%E1%84%89%E1%85%B5%E1%84%8C%E1%85%B3%E1%86%AB%202_%E1%84%80%E1%85%AD%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%20%E1%84%8C%E1%85%B5%E1%84%83%E1%85%A9%E1%84%89%E1%85%A5.pdf",linkType:"pdf",allLink:"/data/EBS%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EC%95%BC%20%EB%86%80%EC%9E%902.zip"}],compute_think_textbook:[{title:"자동 기사 작성 프로그램 만들기",content:"초등학교 5학년 2학기 국어 과목의 '자료를 올바르게 활용하여 기사문 쓰기'에 해당하는 내용으로 구성되었습니다. 학생들은 자동으로 기사를 써주는 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 다양한 자동 기사를 작성할 수 있습니다.",urlLink:"/data/%EC%9E%90%EB%8F%99%20%EA%B8%B0%EC%82%AC%20%EC%9E%91%EC%84%B1%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%20%EB%A7%8C%EB%93%A4%EA%B8%B0.pptx",linkType:"pptx",allLink:"/data/%EA%B5%90%EA%B3%BC%EC%84%9C%EB%A1%9C%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EC%BB%B4%ED%93%A8%ED%8C%85%20%EC%82%AC%EA%B3%A0%EB%A0%A5_5-6%ED%95%99%EB%85%84.zip"},{title:"통분으로 분수 크기 비교하기",content:"초등학교 5학년 1학기 수학 과목의 '통분을 알 수 있어요', '두 분수를 통분할 수 있어요', '분수의 크기를 비교할 수 있어요'에 해당하는 내용으로 구성되었습니다. 학생들은 분수를 통분하고 대소를 비교하는 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들 수 있습니다.",urlLink:"/data/%ED%86%B5%EB%B6%84%EC%9C%BC%EB%A1%9C%20%EB%B6%84%EC%88%98%20%ED%81%AC%EA%B8%B0%20%EB%B9%84%EA%B5%90%ED%95%98%EA%B8%B0.pptx",linkType:"pptx",allLink:""},{title:"그림그래프 그리기",content:"초등학교 5학년 2학기 수학 과목의 '자료를 그래프로 나타내고 설명할 수 있어요'에 해당하는 내용으로 구성되었습니다. 학생들은 그림 그래프를 그려주는 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 다양한 그림 그래프를 그릴 수 있습니다.",urlLink:"/data/%EA%B7%B8%EB%A6%BC%EA%B7%B8%EB%9E%98%ED%94%84%20%EA%B7%B8%EB%A6%AC%EA%B8%B0.pptx",linkType:"pptx",allLink:""},{title:"동전의 앞,뒷면이 나오는 확률을 구해요",content:"초등학교 6학년 1학기 수학 과목의 '백분율을 알 수 있어요'와 2학기 '확률을 알 수 있어요'에 해당하는 내용으로 구성되었습니다. 학생들은 확률과 관련된 문제를 해결할 수 있는 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 생활 속 확률 문제를 해결할 수 있습니다.",urlLink:"/data/%EB%8F%99%EC%A0%84%EC%9D%98%20%EC%95%9E,%EB%92%B7%EB%A9%B4%EC%9D%B4%20%EB%82%98%EC%98%A4%EB%8A%94%20%ED%99%95%EB%A5%A0%EC%9D%84%20%EA%B5%AC%ED%95%B4%EC%9A%94.pptx",linkType:"pptx",allLink:""},{title:"우리나라 지역별 인구분포도",content:"초등학교 5학년 1학기 사회 과목의 '지도를 보고 우리나라의 인구가 어떻게 분포하고 있는지 알 수 있어요'에 해당하는 내용으로 구성되었습니다. 학생들은 우리나라의 인구분포를 보여주는 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 효과적으로 인구분포도를 그릴 수 있습니다.",urlLink:"/data/%EC%9A%B0%EB%A6%AC%EB%82%98%EB%9D%BC%20%EC%A7%80%EC%97%AD%EB%B3%84%20%EC%9D%B8%EA%B5%AC%EB%B6%84%ED%8F%AC%EB%8F%84.pptx",linkType:"pptx",allLink:""},{title:"전자투표 프로그램으로 모의선거 실시하기",content:"초등학교 6학년 2학기 사회 과목의 '생활 속에서 찾을 수 있는 국민의 권리 알아보기'에 해당하는 내용으로 구성되었습니다. 학생들은 전자 투표 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 투표를 실시할 수 있습니다.",urlLink:"/data/%EC%A0%84%EC%9E%90%ED%88%AC%ED%91%9C%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%EC%9C%BC%EB%A1%9C%20%EB%AA%A8%EC%9D%98%EC%84%A0%EA%B1%B0%20%EC%8B%A4%EC%8B%9C%ED%95%98%EA%B8%B0.pptx",linkType:"pptx",allLink:""},{title:"회로 연결에 따른 전구의 밝기 변화",content:"초등학교 6학년 2학기 과학 과목의 '전구의 연결 방법에 따라 전구의 밝기는 어떻게 달라질까요'에 해당하는 내용으로 구성되었습니다. 학생들은 전구와 전지의 직렬연결 시뮬레이션 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 전기회로와 관련된 실험을 시뮬레이션 할 수 있습니다.",urlLink:"/data/%ED%9A%8C%EB%A1%9C%20%EC%97%B0%EA%B2%B0%EC%97%90%20%EB%94%B0%EB%A5%B8%20%EC%A0%84%EA%B5%AC%EC%9D%98%20%EB%B0%9D%EA%B8%B0%20%EB%B3%80%ED%99%94.pptx",linkType:"pptx",allLink:""},{title:"자가진단 프로그램 만들기",content:"초등학교 6학년 도덕 과목의 '절제하는 마음을 키워요'에 해당하는 내용으로 구성되었습니다. 학생들은 절제하는 생활에 대한 자가진단 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 나와 친구들을 진단할 수 있습니다.",urlLink:"/data/%EC%9E%90%EA%B0%80%EC%A7%84%EB%8B%A8%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8%20%EB%A7%8C%EB%93%A4%EA%B8%B0.pptx",linkType:"pptx",allLink:""},{title:"자동으로 분리수거를 해요",content:"초등학교 6학년 실과 과목의 '쓰레기를 어떻게 분류하여 배출해야 할까요?', '재사용과 재활용을 실천해요'에 해당하는 내용으로 구성되었습니다. 학생들은 분리수거와 관련된 문제를 해결할 수 있는 프로그램을 설계하고, 엔트리를 통해 나만의 자동 분리수거 프로그램을 만들 수 있습니다.",urlLink:"/data/%EC%9E%90%EB%8F%99%EC%9C%BC%EB%A1%9C%20%EB%B6%84%EB%A6%AC%EC%88%98%EA%B1%B0%EB%A5%BC%20%ED%95%B4%EC%9A%94.pptx",linkType:"pptx",allLink:""},{title:"자동 사이드스텝 측정기 만들기",content:"초등학교 5~6학년 체육 과목의 '민첩성 기르기'에 해당하는 내용으로 구성되었습니다. 학생들은 피지컬 컴퓨팅 도구를 이용하여 사이드스텝 횟수 측정기를 설계하고, 엔트리를 통해 프로그램을 만들어 사이드스텝의 기록을 측정할 수 있습니다.",urlLink:"/data/%EC%9E%90%EB%8F%99%20%EC%82%AC%EC%9D%B4%EB%93%9C%EC%8A%A4%ED%85%9D%20%EC%B8%A1%EC%A0%95%EA%B8%B0%20%EB%A7%8C%EB%93%A4%EA%B8%B0.pptx",linkType:"pptx",allLink:""},{title:"나만의 음악 악보를 만들어 연주하기",content:"초등학교 5~6학년 음악 과목의 '난타'에 해당하는 내용으로 구성되었습니다. 학생들은 다양한 소리를 활용하여 음악을 만드는 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 창의적으로 음악 악보를 만들어 연주할 수 있습니다.",urlLink:"/data/%EB%82%98%EB%A7%8C%EC%9D%98%20%EC%9D%8C%EC%95%85%20%EC%95%85%EB%B3%B4%EB%A5%BC%20%EB%A7%8C%EB%93%A4%EC%96%B4%20%EC%97%B0%EC%A3%BC%ED%95%98%EA%B8%B0.pptx",linkType:"pptx",allLink:""},{title:"우연의 효과를 이용한 추상화 그리기",content:"초등학교 5~6학년 미술 과목의 '추상 미술 탐색하기', '추상 미술 표현하기'에 해당하는 내용으로 구성되었습니다. 학생들은 추상 미술을 표현하는 프로그램을 설계하고, 엔트리를 통해 프로그램을 만들어 나만의 추상 미술 작품을 만들 수 있습니다.",urlLink:"/data/%EC%9A%B0%EC%97%B0%EC%9D%98%20%ED%9A%A8%EA%B3%BC%EB%A5%BC%20%EC%9D%B4%EC%9A%A9%ED%95%9C%20%EC%B6%94%EC%83%81%ED%99%94%20%EA%B7%B8%EB%A6%AC%EA%B8%B0.pptx",linkType:"pptx",allLink:""}],python_coding_text:[{title:"텍스트 코딩 세계로 떠나는 여행_엔트리파이선",content:"블록 코딩과 텍스트 코딩의 중간 다리 역할을 하는 '엔트리파이선'에 대하여 학습할 수 있는 9차시 교육자료입니다. 학생들은 엔트리 블록 모드를 기반으로 텍스트 언어의 동작을 이해하고, 프로그램의 구조와 문법에 익숙해질 수 있습니다.",urlLink:"/data/%E1%84%90%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%20%E1%84%8F%E1%85%A9%E1%84%83%E1%85%B5%E1%86%BC%20%E1%84%89%E1%85%A6%E1%84%80%E1%85%A8%E1%84%85%E1%85%A9%20%E1%84%84%E1%85%A5%E1%84%82%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%20%E1%84%8B%E1%85%A7%E1%84%92%E1%85%A2%E1%86%BC_%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%84%91%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A5%E1%86%AB.pdf",linkType:"pdf"}],materials_teaching_1:[{title:"01 소프트웨어교육, 왜 어떻게 해야하나",content:"시대의 변화를 통한 소프트웨어 교육의 필요성과, 언플러그드 교육을 비롯한 교육 방법론에 대해 소개합니다.",urlLink:"/data/01%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EA%B5%90%EC%9C%A1,%20%EC%99%9C%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%ED%95%B4%EC%95%BC%ED%95%98%EB%82%98.pptx",linkType:"pptx",allLink:"/data/01%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EA%B5%90%EC%9C%A1,%20%EC%99%9C%20%EC%96%B4%EB%96%BB%EA%B2%8C%20%ED%95%B4%EC%95%BC%ED%95%98%EB%82%98.pptx"}],materials_teaching_2:[{title:"02 엔트리와 함께하는 언플러그드 활동",content:"엔트리 보드게임 2종에 대해 소개하고, 이를 활용하여 언플러그드 활동을 진행할 수 있는 방법에 대하여 안내를 제공합니다.",urlLink:"/data/02%20%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%EC%96%B8%ED%94%8C%EB%9F%AC%EA%B7%B8%EB%93%9C%20%ED%99%9C%EB%8F%99.pptx",linkType:"pptx",allLink:"/data/02%20%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%EC%96%B8%ED%94%8C%EB%9F%AC%EA%B7%B8%EB%93%9C%20%ED%99%9C%EB%8F%99.pptx"}],materials_teaching_3:[{title:"03 게임하듯 알고리즘을 배우는 엔트리 미션 해결하기",content:"엔트리에서  '미션 해결하기'를 통해 학습자가 게임하듯 알고리즘을 배울 수 있는 방법에 대하여 소개합니다.",urlLink:"/data/03%20%EA%B2%8C%EC%9E%84%ED%95%98%EB%93%AF%20%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%EC%9D%84%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%EB%AF%B8%EC%85%98%20%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0.pptx",linkType:"pptx",allLink:"/data/03%20%EA%B2%8C%EC%9E%84%ED%95%98%EB%93%AF%20%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98%EC%9D%84%20%EB%B0%B0%EC%9A%B0%EB%8A%94%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%EB%AF%B8%EC%85%98%20%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0.pptx"}],materials_teaching_4:[{title:"04 생활 속 문제 해결을 위한 엔트리 블록 프로그래밍",content:"엔트리 프로그래밍을 통하여 실생활 문제 해결과 연관된 교육을 진행할 수 있는 방법과 예시 작품에 대한 안내를 제공합니다.",urlLink:"/data/04%20%EC%83%9D%ED%99%9C%20%EC%86%8D%20%EB%AC%B8%EC%A0%9C%20%ED%95%B4%EA%B2%B0%EC%9D%84%20%EC%9C%84%ED%95%9C%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%EB%B8%94%EB%A1%9D%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D.pptx",linkType:"pptx",allLink:"/data/04%20%EC%83%9D%ED%99%9C%20%EC%86%8D%20%EB%AC%B8%EC%A0%9C%20%ED%95%B4%EA%B2%B0%EC%9D%84%20%EC%9C%84%ED%95%9C%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%EB%B8%94%EB%A1%9D%20%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D.pptx"}],materials_teaching_5:[{title:"05 엔트리로 시작하는 교과 연계 SW교육(1)_미술,수학,사회편",content:"엔트리 프로그래밍을 통하여 미술, 수학, 사회 과목과 융합된 SW교육을 진행할 수 있는 방법과 예시 작품에 대한 안내를 제공합니다.",urlLink:"/data/05%20%EC%97%94%ED%8A%B8%EB%A6%AC%EB%A1%9C%20%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94%20%EA%B5%90%EA%B3%BC%20%EC%97%B0%EA%B3%84%20SW%EA%B5%90%EC%9C%A1(1)_%EB%AF%B8%EC%88%A0,%EC%88%98%ED%95%99,%EC%82%AC%ED%9A%8C%ED%8E%B8.pptx",linkType:"pptx",allLink:"/data/05%20%EC%97%94%ED%8A%B8%EB%A6%AC%EB%A1%9C%20%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94%20%EA%B5%90%EA%B3%BC%20%EC%97%B0%EA%B3%84%20SW%EA%B5%90%EC%9C%A1(1)_%EB%AF%B8%EC%88%A0,%EC%88%98%ED%95%99,%EC%82%AC%ED%9A%8C%ED%8E%B8.pptx"}],materials_teaching_6:[{title:"06 엔트리로 시작하는 교과 연계 SW교육(2)_국어,과학,음악편",content:"엔트리 프로그래밍을 통하여 국어, 과학, 음악 과목과 융합된 SW교육을 진행할 수 있는 방법과 예시 작품에 대한 안내를 제공합니다.",urlLink:"/data/06%20%EC%97%94%ED%8A%B8%EB%A6%AC%EB%A1%9C%20%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94%20%EA%B5%90%EA%B3%BC%20%EC%97%B0%EA%B3%84%20SW%EA%B5%90%EC%9C%A1(2)_%EA%B5%AD%EC%96%B4,%EA%B3%BC%ED%95%99,%EC%9D%8C%EC%95%85%ED%8E%B8.pptx",linkType:"pptx",allLink:"/data/06%20%EC%97%94%ED%8A%B8%EB%A6%AC%EB%A1%9C%20%EC%8B%9C%EC%9E%91%ED%95%98%EB%8A%94%20%EA%B5%90%EA%B3%BC%20%EC%97%B0%EA%B3%84%20SW%EA%B5%90%EC%9C%A1(2)_%EA%B5%AD%EC%96%B4,%EA%B3%BC%ED%95%99,%EC%9D%8C%EC%95%85%ED%8E%B8.pptx"}],materials_teaching_7:[{title:"07 엔트리와 함께하는 피지컬 컴퓨팅(1)_E센서보드편",content:"엔트리에 E센서보드를 연결하여 피지컬 컴퓨팅을 진행할 수 있는 방법과 예시 작품에 대한 안내를 제공합니다.",urlLink:"/data/07%20%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%ED%94%BC%EC%A7%80%EC%BB%AC%20%EC%BB%B4%ED%93%A8%ED%8C%85(1)_E%EC%84%BC%EC%84%9C%EB%B3%B4%EB%93%9C%ED%8E%B8.pptx",linkType:"pptx",allLink:"/data/07%20%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%ED%94%BC%EC%A7%80%EC%BB%AC%20%EC%BB%B4%ED%93%A8%ED%8C%85(1)_E%EC%84%BC%EC%84%9C%EB%B3%B4%EB%93%9C%ED%8E%B8.pptx"}],materials_teaching_8:[{title:"08 엔트리와 함께하는 피지컬 컴퓨팅(2)_햄스터로봇편",content:"엔트리에 햄스터로봇을 연결하여 피지컬 컴퓨팅을 진행할 수 있는 방법과 예시 작품에 대한 안내를 제공합니다.",urlLink:"/data/08%20%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%ED%94%BC%EC%A7%80%EC%BB%AC%20%EC%BB%B4%ED%93%A8%ED%8C%85(2)_%ED%96%84%EC%8A%A4%ED%84%B0%EB%A1%9C%EB%B4%87%ED%8E%B8.pptx",linkType:"pptx",allLink:"/data/08%20%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%ED%94%BC%EC%A7%80%EC%BB%AC%20%EC%BB%B4%ED%93%A8%ED%8C%85(2)_%ED%96%84%EC%8A%A4%ED%84%B0%EB%A1%9C%EB%B4%87%ED%8E%B8.pptx"}],materials_teaching_9:[{title:"09 수업에 필요한 학급,강의기능 알아보기",content:"엔트리에서 제공하는 학습자 관리 시스템인 '학급'과, 학습자 맞춤형 수업 준비가 가능한 '강의'기능에 대해 소개합니다.",urlLink:"/data/09%20%EC%88%98%EC%97%85%EC%97%90%20%ED%95%84%EC%9A%94%ED%95%9C%20%ED%95%99%EA%B8%89,%EA%B0%95%EC%9D%98%EA%B8%B0%EB%8A%A5%20%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0.pptx",linkType:"pptx",allLink:"/data/09%20%EC%88%98%EC%97%85%EC%97%90%20%ED%95%84%EC%9A%94%ED%95%9C%20%ED%95%99%EA%B8%89,%EA%B0%95%EC%9D%98%EA%B8%B0%EB%8A%A5%20%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0.pptx"}],materials_etc_1:[{title:"엔트리 첫 사용자를 위한 스타트 가이드",content:"엔트리에서 제공하는 주요 기능(시작하기, 학습하기, 만들기, 공유하기)에 대한 활용법이 안내된 자료입니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EC%B2%AB%20%EC%82%AC%EC%9A%A9%EC%9E%90%EB%A5%BC%20%EC%9C%84%ED%95%9C%20%EC%8A%A4%ED%83%80%ED%8A%B8%20%EA%B0%80%EC%9D%B4%EB%93%9C.pptx",linkType:"pptx"}],materials_etc_2:[{title:"수업에 바로 활용할 수 있는 다양한 콘텐츠 모음집",content:"엔트리로 만들 수 있는 다양한 작품들을 5개 영역으로 정리한 자료입니다. 작품에 대한 상세한 설명과 만드는데 사용된 핵심코드, 스마트폰에서 바로 실행할 수 있는 QR코드가 제공됩니다.",urlLink:"/data/%EC%88%98%EC%97%85%EC%97%90%20%EB%B0%94%EB%A1%9C%20%ED%99%9C%EC%9A%A9%ED%95%A0%20%EC%88%98%20%EC%9E%88%EB%8A%94%20%EB%8B%A4%EC%96%91%ED%95%9C%20%EC%BD%98%ED%85%90%EC%B8%A0%20%EB%AA%A8%EC%9D%8C%EC%A7%91.pptx",linkType:"pptx"}],materials_etc_4:[{title:"블록 이미지 및 도움말",content:"엔트리 작품 만들기에 사용할 수 있는 모든 블록을 카테고리별로 정리한 자료로, 각 블록에 대한 이미지와 그에 대한 도움말이 수록되어 있습니다.",urlLink:"/data/%EB%B8%94%EB%A1%9D%20%EC%9D%B4%EB%AF%B8%EC%A7%80%20%EB%B0%8F%20%EB%8F%84%EC%9B%80%EB%A7%90.pptx",linkType:"pptx",allLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EC%84%A4%EB%AA%85%EC%84%9C.zip"},{title:"엔트리 공식 문서",content:"엔트리에 대한 소개와 엔트리에서 제공하는 주요 기능에 대한 활용법이 안내된 자료입니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B3%B5%EC%8B%9D%20%EB%AC%B8%EC%84%9C.pptx",linkType:"pptx",allLink:""},{title:"엔트리 저작권 가이드",content:"엔트리의 모든 저작물은 CC-BY 2.0 라이선스에 따라 출처를 밝히고 자유롭게 이용할 수 있습니다. 본 자료는 이에 대한 안내 및 실제 활용 방법을 안내합니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EC%A0%80%EC%9E%91%EA%B6%8C%20%EA%B0%80%EC%9D%B4%EB%93%9C.pptx",linkType:"pptx",allLink:""},{title:"엔트리 상표 사용 가이드",content:"엔트리가 보유한 상표의 가치와 권리를 보호하고, 상표가 올바르게 사용될 수 있도록 하기 위해 작성된 안내 자료입니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EC%83%81%ED%91%9C%20%EC%82%AC%EC%9A%A9%20%EA%B0%80%EC%9D%B4%EB%93%9C.docx",linkType:"docx",allLink:""}],materials_etc_5:[{title:"엔트리 소개 자료",content:"엔트리에 대한 소개와 엔트리에서 제공하는 기능에 대한 안내가 수록된 책자입니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EC%86%8C%EA%B0%9C%20%EC%9E%90%EB%A3%8C.pptx",linkType:"pptx",allLink:""}],materials_etc_6:[{title:"엔트리 블록 책받침_2.1",content:"엔트리 작품 만들기에 사용할 수 있는 모든 블록으로 구성된 책받침입니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%20%EB%B8%94%EB%A1%9D%20%EC%B1%85%EB%B0%9B%EC%B9%A8_2.1.pptx",linkType:"pptx"}],ddurudduru:[{title:"[SIGONGmedia] 뚜루뚜루 엔트리 메뉴얼",content:"엔트리와 뚜루뚜루를 연결하여 피지컬 컴퓨팅을 시작할 수 있도록 구성된 메뉴얼입니다.",urlLink:"/data/%5Bi-Screammedia%5D%20%EB%9A%9C%EB%A3%A8%EB%9A%9C%EB%A3%A8%20%EC%97%94%ED%8A%B8%EB%A6%AC%20%EB%A9%94%EB%89%B4%EC%96%BC.pdf",linkType:"pdf"}],awesomebot:[{title:"어썸봇X엔트리 연결설명서",content:"엔트리와 어썸봇을 연결하여 피지컬 컴퓨팅을 시작할 수 있도록 구성된 설명서입니다",urlLink:"/data/asomebot_entry_connection.pdf",linkType:"pdf"},{title:"[어썸봇] 코딩교육 안내자료",content:"어썸봇에 대한 기본 정보 및 코딩에 대한 설명이 수록된 안내 자료입니다.",urlLink:"/data/asomebot_coding.pdf",linkType:"pdf"},{title:"어썸봇을 이용한 피지컬 컴퓨팅 활용자료",content:"어썸봇을 이용한 피지컬 컴퓨팅 교육에 활용 가능한 자료 모음입니다.",urlLink:"/data/asomebot_resource.zip",linkType:"zip"}],bingle:[{title:"빙글_엔트리 강의노트",content:"엔트리와 빙글을 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EB%B9%99%EA%B8%80_%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B0%95%EC%9D%98%EB%85%B8%ED%8A%B8.pdf",linkType:"pdf"}],bingle_s:[{title:"빙글S_엔트리 강의노트",content:"엔트리와 빙글을 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EB%B9%99%EA%B8%80S_%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B0%95%EC%9D%98%EB%85%B8%ED%8A%B8.pdf",linkType:"pdf"}],epor:[{title:"에뽀_엔트리 강의노트",content:"엔트리와 에뽀를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EC%97%90%EB%BD%80_%EC%97%94%ED%8A%B8%EB%A6%AC%20%EA%B0%95%EC%9D%98%EB%85%B8%ED%8A%B8.pdf",linkType:"pdf"}],petrone_v2:[{title:"[페트론V2]엔트리블록_Manual_v1.1",content:"엔트리와 페트론V2를 연결하여 피지컬 컴퓨팅을 시작할 수 있도록 구성된 메뉴얼입니다.",urlLink:"/data/%5B%ED%8E%98%ED%8A%B8%EB%A1%A0V2%5D%EC%97%94%ED%8A%B8%EB%A6%AC%EB%B8%94%EB%A1%9D_Manual_v1.1.pdf",linkType:"pdf"},{title:"[페트론V2]핸드북_v1.1",content:"페트론V2에 대한 기본 정보와 피지컬 컴퓨팅에 대한 안내가 함께 수록된 핸드북입니다.",urlLink:"/data/%5B%ED%8E%98%ED%8A%B8%EB%A1%A0V2%5D%ED%95%B8%EB%93%9C%EB%B6%81_v1.1.pdf",linkType:"pdf"},{title:"[페트론V2]엔트리로 코딩해요_교육자료_v1.0",content:"엔트리와 페트론V2를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%5B%ED%8E%98%ED%8A%B8%EB%A1%A0V2%5D%EC%97%94%ED%8A%B8%EB%A6%AC%EB%A1%9C%20%EC%BD%94%EB%94%A9%ED%95%B4%EC%9A%94_%EA%B5%90%EC%9C%A1%EC%9E%90%EB%A3%8C_v1.0.pdf",linkType:"pdf"},{title:"[페트론v2]엔트리_코드",content:"위 교육자료에 수록된 예제들에 대한 엔트리 파일(.ent) 모음입니다.",urlLink:"/data/%5B%ED%8E%98%ED%8A%B8%EB%A1%A0v2%5D%EC%97%94%ED%8A%B8%EB%A6%AC_%EC%BD%94%EB%93%9C.zip",linkType:"zip"}],hamster:[{title:"햄스터, 엔트리와 함께하는 소프트웨어 수업",content:"엔트리와 햄스터를 연결하여 소프트웨어 수업을 진행할 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%ED%96%84%EC%8A%A4%ED%84%B0,%20%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%20%EC%88%98%EC%97%85.pdf",linkType:"pdf"}],esensor_robot:[{title:"엔트리와 함께하는 피지컬 컴퓨팅_센서로봇",content:"엔트리와 센서로봇을 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%81%E1%85%A6%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%20%E1%84%91%E1%85%B5%E1%84%8C%E1%85%B5%E1%84%8F%E1%85%A5%E1%86%AF%20%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%B5%E1%86%BC_%E1%84%89%E1%85%A6%E1%86%AB%E1%84%89%E1%85%A5%E1%84%85%E1%85%A9%E1%84%87%E1%85%A9%E1%86%BA.pdf",linkType:"pdf"}],neobot:[{title:"네오봇에듀 교육자료_ver1.0",content:"엔트리와 네오봇EDU를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EB%84%A4%EC%98%A4%EB%B4%87%EC%97%90%EB%93%80%20%EA%B5%90%EC%9C%A1%EC%9E%90%EB%A3%8C_ver1.0.pdf",linkType:"pdf"}],blacksmith:[{title:"2019 대장장이보드 소프트웨어교육(엔트리편)",content:"엔트리와 대장장이보드를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/2019%20%EB%8C%80%EC%9E%A5%EC%9E%A5%EC%9D%B4%EB%B3%B4%EB%93%9C%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EA%B5%90%EC%9C%A1(%EC%97%94%ED%8A%B8%EB%A6%AC%ED%8E%B8).pdf",linkType:"pdf"},{title:"대장장이 보드 스마트 버전 교재",content:"엔트리와 대장장이 보드 스마트 버전을 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EB%8C%80%EC%9E%A5%EC%9E%A5%EC%9D%B4%EB%B3%B4%EB%93%9C_%EC%8A%A4%EB%A7%88%ED%8A%B8%EB%B2%84%EC%A0%84.pdf",linkType:"pdf"}],modi:[{title:"[LUXROBO] MODI x Entry 튜토리얼",content:"엔트리와 모디를 연결하여 피지컬 컴퓨팅을 시작할 수 있도록 구성된 튜토리얼입니다.",urlLink:"/data/%5BLUXROBO%5D%20MODI%20x%20Entry%20%ED%8A%9C%ED%86%A0%EB%A6%AC%EC%96%BC.pdf",linkType:"pdf"},{title:"[LUXROBO] MODI x Entry 콘텐츠북 (4주제)",content:"엔트리와 모디를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%5BLUXROBO%5D%20MODI%20x%20Entry%20%EC%BD%98%ED%85%90%EC%B8%A0%EB%B6%81%20(4%EC%A3%BC%EC%A0%9C).pdf",linkType:"pdf"}],bitbrick:[{title:"비트브릭과 함께하는 소프트웨어여행",content:"엔트리와 비트브릭을 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EB%B9%84%ED%8A%B8%EB%B8%8C%EB%A6%AD%EA%B3%BC%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%EC%97%AC%ED%96%89.pdf",linkType:"pdf"}],chocopi:[{title:"초코파이보드와 엔트리로 만드는 교과 융합 코딩",content:"엔트리와 초코파이보드를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EC%B4%88%EC%BD%94%ED%8C%8C%EC%9D%B4%EB%B3%B4%EB%93%9C%EC%99%80%20%EC%97%94%ED%8A%B8%EB%A6%AC%EB%A1%9C%20%EB%A7%8C%EB%93%9C%EB%8A%94%20%EA%B5%90%EA%B3%BC%20%EC%9C%B5%ED%95%A9%20%EC%BD%94%EB%94%A9.pdf",linkType:"pdf"}],arduinoBoard:[{title:"[메카솔루션]입문자를 위한 아두이노-엔트리 종결키트",content:"엔트리와 아두이노를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%5B%EB%A9%94%EC%B9%B4%EC%86%94%EB%A3%A8%EC%85%98%5D%EC%9E%85%EB%AC%B8%EC%9E%90%EB%A5%BC%20%EC%9C%84%ED%95%9C%20%EC%95%84%EB%91%90%EC%9D%B4%EB%85%B8-%EC%97%94%ED%8A%B8%EB%A6%AC%20%EC%A2%85%EA%B2%B0%ED%82%A4%ED%8A%B8.pdf",linkType:"pdf"}],iboard:[{title:"아이보드와 함께하는 코딩의 첫걸음",content:"엔트리와 아이보드를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EC%95%84%EC%9D%B4%EB%B3%B4%EB%93%9C%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%EC%BD%94%EB%94%A9%EC%9D%98%20%EC%B2%AB%EA%B1%B8%EC%9D%8C.pdf",linkType:"pdf"}],orangeBoard:[{title:"오렌지보드로 시작하는 엔트리 교육",content:"엔트리와 오렌지보드를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%ED%94%BC%EC%A7%80%EC%BB%AC%20%EC%BB%B4%ED%93%A8%ED%8C%85_JOYSTICK%20SHIELD%20for%20Orange%20Board.hwp",linkType:"hwp"}],codeino:[{title:"엔트리와 함께하는 피지컬 컴퓨팅_코드이노 보드",content:"엔트리와 코드이노를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다",urlLink:"/data/%EC%97%94%ED%8A%B8%EB%A6%AC%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%ED%94%BC%EC%A7%80%EC%BB%AC%20%EC%BB%B4%ED%93%A8%ED%8C%85_%EC%BD%94%EB%93%9C%EC%9D%B4%EB%85%B8%20%EB%B3%B4%EB%93%9C.pdf",linkType:"pdf"}],funboard:[{title:"펀보드와 함께하는 소프트웨어 놀이",content:"엔트리와 펀보드를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%ED%8E%80%EB%B3%B4%EB%93%9C%EC%99%80%20%ED%95%A8%EA%BB%98%ED%95%98%EB%8A%94%20%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4%20%EB%86%80%EC%9D%B4.pdf",linkType:"pdf"},{title:"교육자료 예제파일_20181219",content:"위의 교육자료에 수록된 예제들에 대한 엔트리 파일(.ent) 모음입니다.",urlLink:"/data/%EA%B5%90%EC%9C%A1%EC%9E%90%EB%A3%8C%20%EC%98%88%EC%A0%9C%ED%8C%8C%EC%9D%BC_20181219.zip",linkType:"zip"}],esensorBoard:[{title:"엔트리와 함께하는 피지컬 컴퓨팅_센서보드",content:"엔트리와 센서보드를 연결하여 다양한 작품들을 만들 수 있도록 구성된 교육자료입니다.",urlLink:"/data/%E1%84%8B%E1%85%A6%E1%86%AB%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%84%8B%E1%85%AA%20%E1%84%92%E1%85%A1%E1%86%B7%E1%84%81%E1%85%A6%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%20%E1%84%91%E1%85%B5%E1%84%8C%E1%85%B5%E1%84%8F%E1%85%A5%E1%86%AF%20%E1%84%8F%E1%85%A5%E1%86%B7%E1%84%91%E1%85%B2%E1%84%90%E1%85%B5%E1%86%BC_%E1%84%89%E1%85%A6%E1%86%AB%E1%84%89%E1%85%A5%E1%84%87%E1%85%A9%E1%84%83%E1%85%B3.pdf",linkType:"pdf"}]},e.popupTitle="",e.selectedDownload=e.materials[0],e.downloadAll="",e.materialsVisible=!1,e.isLang=function(e){return u.get("lang")==e},e.langType=u.get("lang")?u.get("lang"):window.lang,e.selectStudy=function(t){e.selectedStudy=e.studies[t]},e.isSelectedStudy=function(t){return e.selectedStudy==t},e.renderHtml=function(e){return o.trustAsHtml(e)},e.goToStudy=function(t){var r=e.studies.indexOf(e.selectedStudy);if("prev"==t){if(r<1)return;e.selectStudy(--r)}else{if(r>e.studies.length-2)return;e.selectStudy(++r)}},e.gotoAnchor=function(e){var t=$("html, body"),r=$("#anchor_".concat(e)).offset().top;t.animate({scrollTop:r},700)},e.popupView=function(t){"entry_go_go_34_biginner"==t||"entry_go_go_56_biginner"==t||"entry_go_go_78_biginner"==t||"entry_go_go_34_middle"==t||"entry_go_go_56_middle"==t||"entry_go_go_78_middle"==t?"entry_go_go_34_biginner"==t?e.popupTitle="".concat(Lang.Menus.entry_go_go," > ").concat(Lang.Menus.grade_34," ").concat(Lang.Menus.grade_1):"entry_go_go_56_biginner"==t?e.popupTitle="".concat(Lang.Menus.entry_go_go," > ").concat(Lang.Menus.grade_56," ").concat(Lang.Menus.grade_1):"entry_go_go_78_biginner"==t?e.popupTitle="".concat(Lang.Menus.entry_go_go," > ").concat(Lang.Menus.grade_78," ").concat(Lang.Menus.grade_1):"entry_go_go_34_middle"==t?e.popupTitle="".concat(Lang.Menus.entry_go_go," > ").concat(Lang.Menus.grade_34," ").concat(Lang.Menus.grade_2):"entry_go_go_56_middle"==t?e.popupTitle="".concat(Lang.Menus.entry_go_go," > ").concat(Lang.Menus.grade_56," ").concat(Lang.Menus.grade_2):"entry_go_go_78_middle"==t&&(e.popupTitle="".concat(Lang.Menus.entry_go_go," > ").concat(Lang.Menus.grade_78," ").concat(Lang.Menus.grade_2)):"learn_entry_programming_bigginer"==t||"learn_entry_programming_middle"==t||"learn_entry_programming_high"==t?"learn_entry_programming_bigginer"==t?e.popupTitle="".concat(Lang.Menus.learn_entry_programming," > ").concat(Lang.Menus.grade_1):"learn_entry_programming_middle"==t?e.popupTitle="".concat(Lang.Menus.learn_entry_programming," > ").concat(Lang.Menus.grade_2):"learn_entry_programming_high"==t&&(e.popupTitle="".concat(Lang.Menus.learn_entry_programming," > ").concat(Lang.Menus.grade_3)):"playsoftware_ebs_season1"==t||"playsoftware_ebs_season2"==t?"playsoftware_ebs_season1"==t?e.popupTitle="".concat(Lang.Menus.playsoftware_ebs," > ").concat(Lang.Menus.season_1," ").concat(Lang.Menus.material_teacher_guide):"playsoftware_ebs_season2"==t&&(e.popupTitle="".concat(Lang.Menus.playsoftware_ebs," > ").concat(Lang.Menus.season_2," ").concat(Lang.Menus.material_teacher_guide)):"compute_think_textbook"==t?e.popupTitle="".concat(Lang.Menus.compute_think_textbook," (").concat(Lang.Menus.grade_56,")"):"python_coding_text"==t?e.popupTitle="".concat(Lang.Menus.python_coding_textbook," > ").concat(Lang.Menus.middle_grades):"materials_teaching_1"==t||"materials_teaching_2"==t||"materials_teaching_3"==t||"materials_teaching_4"==t||"materials_teaching_5"==t||"materials_teaching_6"==t||"materials_teaching_7"==t||"materials_teaching_8"==t||"materials_teaching_9"==t?(e.popupTitle=Lang.Menus.materials_teaching,"materials_teaching_1"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_1):"materials_teaching_2"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_2):"materials_teaching_3"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_3):"materials_teaching_4"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_4):"materials_teaching_5"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_5):"materials_teaching_6"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_6):"materials_teaching_7"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_7):"materials_teaching_8"==t?e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_8):"materials_teaching_9"==t&&(e.popupTitle="".concat(Lang.Menus.materials_teaching," > ").concat(Lang.Menus.materials_teaching_9))):"materials_etc_1"==t||"materials_etc_2"==t||"materials_etc_3"==t||"materials_etc_4"==t||"materials_etc_5"==t||"materials_etc_6"==t?"materials_etc_1"==t?e.popupTitle="".concat(Lang.Menus.materials_etc_resource," > ").concat(Lang.Menus.materials_etc_1):"materials_etc_2"==t?e.popupTitle="".concat(Lang.Menus.materials_etc_resource," > ").concat(Lang.Menus.materials_etc_2):"materials_etc_4"==t?e.popupTitle="".concat(Lang.Menus.materials_etc_resource," > ").concat(Lang.Menus.materials_etc_4):"materials_etc_5"==t?e.popupTitle="".concat(Lang.Menus.materials_etc_resource," > ").concat(Lang.Menus.materials_etc_5):"materials_etc_6"==t&&(e.popupTitle="".concat(Lang.Menus.materials_etc_resource," > ").concat(Lang.Menus.materials_etc_6)):"ddurudduru"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.truerobot):"bingle"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.bingle):"bingle_s"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.bingles):"epor"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.epor):"petrone_v2"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.petrone_v2," ").concat(Lang.Menus.petrone_v2_drone,"/").concat(Lang.Menus.petrone_v2_car):"hamster"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.hamster):"esensor_robot"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.esensor_robot):"awesomebot"==t?popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.awesomebot):"neobot"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.neobot):"blacksmith"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.blacksmith):"modi"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.modi):"bitbrick"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.bitbrick):"chocopi"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.chocopi):"arduinoBoard"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.arduino_board):"iboard"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.iboard):"orangeBoard"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.orangeBoard):"codeino"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.codeino):"funboard"==t?e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.funboard):"esensorBoard"==t&&(e.popupTitle="".concat(Lang.Menus.entry_x_hardware_text," > ").concat(Lang.Menus.esensor_board)),e.selectedDownload=e.materials[t],e.downloadAll=t,e.materialsVisible=!0,$("html, body").css({overflow:"hidden"}),$("#element").on("scroll touchmove mousewheel",(function(e){return e.preventDefault(),e.stopPropagation(),!1}))},e.popupHide=function(t){$("html, body").css({overflow:"auto"}),e.materialsVisible=!1},e.download_all=function(t){var r=e.materials[t][0].allLink,o="".concat(n.location.protocol,"//").concat(n.location.host).concat(n.location.pathname);if(r){var u=document.createElement("a");-1==o.indexOf("www.playentry.org")&&(r=r.replace("www.","")),u.setAttribute("download",""),document.body.appendChild(u),u.download="",u.href=r,u.click(),document.body.removeChild(u)}else(u=document.createElement("a")).style.display="none",document.body.appendChild(u),angular.forEach(e.selectedDownload,(function(e){setTimeout((function(){var t=e.urlLink;-1==o.indexOf("www.playentry.org")&&(t=t.replace("www.","")),u.setAttribute("download",""),u.setAttribute("target","_blank"),u.setAttribute("href",t),u.click()}),1e3)})),document.body.removeChild(u)},e.download_link=a.downloadFile}])},1396:function(e,t,r){"use strict";angular.module("mean.study").controller("SolveController",["$scope","mazeStatus","CpartyUser",function(e,t,r){t.getMazeData((function(t){console.log("@mazeData=",t),e.mazeData=t})),e.lineData=[{subject:[Lang.Menus.sequential,Lang.Menus.repeat].join(", "),title:Lang.Menus.line_look_for,desc1:Lang.Menus.line_look_for_desc_1,key:"2017-1",path:"/maze#!/",level:1},{subject:[Lang.Menus.sequential,Lang.Menus.repeat,Lang.Menus.choice].join(", "),title:Lang.Menus.line_save,desc1:Lang.Menus.line_save_desc_1,key:"2017-2",path:"/maze#!/",level:2},{subject:[Lang.Menus.sequential,Lang.Menus.repeat,Lang.Menus.choice].join(", "),title:Lang.Menus.line_escape,desc1:Lang.Menus.line_escape_desc_1,key:"2017-3",path:"/maze#!/",level:3}],e.choseokData=[{subject:[Lang.Menus.sequential,Lang.Menus.choice,Lang.Menus.compare_operation].join(", "),title:Lang.Menus.solve_choseok,desc1:Lang.Menus.solve_choseok_desc_1,path:"/codingparty/choseok",level:3}],e.mapleData=[{subject:[Lang.Menus.sequential,Lang.Menus.repeat].join(", "),title:Lang.Menus.solve_henesys,desc1:Lang.Menus.solve_henesys_desc_1,key:"2017-5",path:"/maze#!/",level:1},{subject:[Lang.Menus.sequential,Lang.Menus.repeat,Lang.Menus.choice].join(", "),title:Lang.Menus.solve_ellinia,desc1:Lang.Menus.solve_ellinia_desc_1,key:"2017-6",path:"/maze#!/",level:2},{subject:[Lang.Menus.sequential,Lang.Menus.repeat,Lang.Menus.choice].join(", "),title:Lang.Menus.solve_elnath,desc1:Lang.Menus.solve_elnath_desc_1,key:"2017-7",path:"/maze#!/",level:3}],r.loadCpartyUser((function(t){e.lineData.forEach((function(e,t){var n=e.key,o=r.getLastStage(n);++o,e.path+=n+"/"+o})),e.mapleData.forEach((function(e,t){var n=e.key,o=r.getLastStage(n)+1;e.path+=n+"/"+o}))})),e.goPath=function(e){e&&(window.location.href=e)}}])},1397:function(e,t){angular.module("mean.study").controller("blocksController",["$scope","$sce",function(e,t){e.blockHelp=EntryStatic.blockInfo;var r=EntryStatic.getAllBlocks(),n={arduino:4,variable:2};for(var o in r){var u=r[o],a=n[u.category];void 0!==a&&u.blocks.splice(0,a)}e.renderHtml=function(e){return t.trustAsHtml(Lang.Helper[e])},Blockly.Css.inject(),window.setTimeout((function(){e.blockAll=[r[0],r[1]],e.$apply();var t=window.setInterval((function(){e.blockAll.push(r[e.blockAll.length]),e.$apply(),e.blockAll.length==r.length&&window.clearInterval(t)}),500)}),1500)}])},1398:function(e,t){angular.module("mean.study").controller("MonthlyController",["$scope","$sce",function(e,t){e.monthlyData=[{date:"2015년 11월 vol. 1",title:"강아지 산책시키기 / 선대칭 도형 그리기",path:"tt#!/custom/curriculum/me/view/573ebc556e80670bac79b457"},{date:"2015년 12월 vol. 2",title:"동영상의 원리 / 음악플레이어 만들기",path:"tt#!/custom/curriculum/me/view/573ebdfbb8100f7940ea9e8b"},{date:"2016년 04월 vol. 3",title:"대한민국 지도 퍼즐 / 벚꽃애니메이션",path:"tt#!/custom/curriculum/me/view/573ebf7499dc7461039cc4e9"},{date:"2016년 05월 vol. 4",title:"마우스를 졸졸, 물고기 떼 / 태양계 행성",path:"tt#!/custom/curriculum/me/view/5756cbe30f6a82513e2f4c0a"},{date:"2016년 06월 vol. 5",title:"감자 캐기 / 딸기 우유의 진하기",path:"tt#!/custom/curriculum/me/view/5756d01645406e873e06ff52"}],e.goPath=function(e,t){e&&(t?window.open(e,"_blank"):window.open(e,"_self"))},e.getLang=function(e){return Lang.type==e}}])},1399:function(e,t){angular.module("mean.study").controller("RecommendController",["$scope","$sce","$http","$location","Recommends",function(e,t,r,n,o){function u(e){for(var t in e)if(e[t].quiz)return!0;return!1}e.init=function(){e.curriculumList=[],e.monthlyList=[];for(var t=o.getIds(),n=0,a=t.length;n<a;n++)!function(n){r.get("/api/curriculum/"+t[n]).success((function(t,r){e.curriculumList[n]=t,e.curriculumList[n].quiz=u(t.lectures)})).error((function(e){console.log(e)}))}(n);var c=o.getIdsMonthly();for(n=0,a=c.length;n<a;n++)!function(t){r.get("/api/curriculum/"+c[t]).success((function(r,n){e.monthlyList[t]=r,e.monthlyList[t].title=Lang.Msgs["monthly_title_"+t],e.monthlyList[t].description=Lang.Msgs["monthly_description_"+t]})).error((function(e){console.log(e)}))}(n)},e.detail=function(e){n.path("/custom/curriculum/view/"+e._id)},e.getLang=function(e){return Lang.type==e},e.multiLineEllipsis=function(e,t){if(t){var r=$("#"+e),n=$("#"+e+"> pre > span"),o=r.css("min-height");o=+o.split("px")[0],(t=t.replace(/\n/g,"")).length>210&&(t=t.substring(0,210));for(var u=n.height();u>o;)t=t.substring(0,t.length-1).trim(),n.text((function(e){return t+"..."})),u=n.height();return t}}}])},1400:function(e,t){angular.module("mean.study").controller("ScholarshipController",["$scope","Downloader",function(e,t){var r=Lang.Menus;e.downloadFile=t.downloadFile,e.missionData=[{title:r.codingparty_2017_title,content:r.codingparty_2016_content,downloadLink:"/data/entry_activity_201710.tar.gz",missionLink:"http://www.playsw.or.kr/party17f"},{title:r.codingparty_2016_title,content:r.codingparty_2016_content,downloadLink:"/data/activity_20161023.tar.gz",missionLink:"http://www.playsw.or.kr/party16f"}]}])},268:function(e,t,r){"use strict";var n=angular.module("mean.common");n.factory("Projects",["$resource","Global",function(e,t){return e("/api/project/:projectId",{projectId:"@_id"},{update:{method:"PUT",headers:{"csrf-token":t.csrfToken()}},remove:{method:"DELETE",headers:{"csrf-token":t.csrfToken()}},save:{method:"POST",headers:{"csrf-token":t.csrfToken()}},get:{method:"GET",cache:!1}})}]),n.service("myProject",["$rootScope",function(e){this.mode,this.modeName,this.projectName,this.setMode=function(t){this.mode=t,this.modeName="default"===t?Lang.Workspace.default_mode:Lang.Workspace.practical_course_mode,e.$broadcast("modeChange",this)},this.getMode=function(){return this.mode},this.getProjectName=function(){return this.projectName},this.setProjectName=function(e){this.projectName=e}}]),n.factory("UnloadEmitter",["$window","$rootScope",function(e,t){var r={name:"UnloaderEmitterFactory",willUnload:!1},n=function(){t.$broadcast("pageLeave"),r.willUnload=!0};return e.addEventListener("beforeunload",n),t.$on("$locationChangeStart",n),r}]),n.service("$download",["$rootScope","UnloadEmitter",function(e,t){var r,n,o={};return e.$on("pageLeave",(function(){r&&(r.onload=null)})),o.download=function(e){var t=navigator.userAgent.toLowerCase();"Netscape"==navigator.appName&&-1!=navigator.userAgent.search("Trident")||-1!=t.indexOf("msie")?(r||((r=document.createElement("iframe")).style.display="none",document.body.appendChild(r)),r.setAttribute("src",e),$(r).off("beforeunload").on("beforeunload",(function(e){e.stopPropagation()}))):(n||(n=document.createElement("a"),document.body.appendChild(n)),n.href=e,n.download=e,n.click())},o}]),n.service("$downloadPost",["$rootScope","UnloadEmitter",function(e,t){var r={download:function(e,t){var r;(r=document.getElementById("$downloadPost"))||((r=document.createElement("form")).id="$downloadPost",r.action=e,r.method="post",r.target="_self",document.body.appendChild(r)),function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(r),Object.keys(t).forEach((function(e){var n=document.createElement("input");n.type="hidden",n.name=e;var o=t[e];($.isPlainObject(o)||Array.isArray(o))&&(o=JSON.stringify(o)),n.value=o,r.appendChild(n)})),r.submit()}};return r}]),n.service("BugReporter",["$http","Projects","Global",function(e,t,r){this.report=function(n,o){o=o||"workspace bug";var u=this;(n=n||{}).preventDefault&&n.preventDefault();var a=$("#bugContent"),c=a.val().trim();if(!c)return entrylms.alert(Lang.Menus.content_required),a.val(""),void a.focus();var i=$("#bugEmail"),s=i.val().trim();if(Entry.type){(l=Entry.exportProject()).name=$("#project_name").val();var l=new t(l);e.post("/api/feedbackProject",l,{headers:{"csrf-token":r.csrfToken()}}).success(p).error((function(e,t){console.log(e),console.log(t),entrylms.alert(Lang.Menus.error_try_again)}))}else p();function p(t){var n={title:o,content:c,email:s,category:"workspace"};t&&(n.project={_id:t._id,username:"entry"}),e.post("/api/feedback",n,{headers:{"csrf-token":r.csrfToken()}}).success((function(e,t){a.val(""),i.val(""),entrylms.alert(Lang.Msgs.bug_report_alert_msg),u.hidePopup("bugReport")})).error((function(e,t){console.log(e,t);var r=Lang.Menus.error_try_again;429===t&&(r=Lang.Menus.bug_report_too_many_request),entrylms.alert(r)}))}}}]),n.service("CloudCache",["$http","Global",function(e,t){this.save=function(){var r=Entry.projectId,n=Entry.variableContainer.getVariableJSON().filter((function(e){return 1==e.isCloud}));0==t.isEmpty(n)&&e.post("/api/cloud/save",{projectId:r,variables:n},{headers:{"csrf-token":t.csrfToken()}}).success((function(e){})).error((function(e){console.error("api/cloud catch"+e)}))},this.get=function(r){var n=this;return new Promise((function(o,u){var a=r._id,c=r.variables;n.isCloud(c)?e.post("/api/cloud/get",{projectId:a,variables:c},{headers:{"csrf-token":t.csrfToken()}}).success((function(e){o(e)})).error((function(e){console.error("api/cloud catch"+e),u(e)})):o(c)}))},this.isCloud=function(e){return e.some((function(e,t,r){return e.isCloud_||e.isCloud}))}}])},269:function(e,t){angular.module("mean.common").controller("HeaderController",["$scope","Global","$http","$location","$cookies","Users","$routeParams","$uibModal","$rootScope",function(e,t,r,n,o,u,a,c,i){e.global=t,e.username_exists=!0,e.password_invalid=!1,e.headerContentShow=!1,e.isTeacher=t.isTeacher(),e.langType=Lang.type;var s=window.user;e.user=window.user,s&&(e.username=s&&s.username?s.username:null),i.$on("changePrimaryGroup",(function(t){e.init()})),e.menu={logo:{what_entry:"/#!/about",faq:"/#!/faq?all",gnb_download:"/#!/offlineEditor"},learn:{problem_solve:"/tt#!/",learning_textbook:"/study/basic/textbook",Resources:"/tt#!/basic/materials",My_lesson:"/tt#!/custom/lecture/list"},make:{make_project:"/ws#!/",practical_course:"/ws?type=practical_course#!/"},share:{project_share:"/all"},community:{Discuss:"/ds#!/qna?category=qna"}},e.userMenu={my_profile:"/"+e.username,Edit_info:"/#!/personal"},e.path={learn:["/tt"],userPage:["/"+e.username],make:["/tt#!/custom/lecture/build"],share:["/all"],community:["/ds"]},e.init=function(){s?r({method:"GET",url:"/api/getGroupList"}).then((function(n){var o=n.data;o&&0!=o.length||!window.user.primaryGroup||(r.post("/api/users/setMemPrimaryGroup",null,{headers:{"csrf-token":t.csrfToken()}}),delete window.user.primaryGroup),e.initMenus()}),(function(t){e.initMenus()})):e.initMenus()},e.initMenus=function(){var t=s&&s.primaryGroup?s.primaryGroup:"";if(e.teacher={learn:{study_lesson:"/tt#!/group/lecture/list"},make:{make_group:"/"+e.username+"#!/group"},share:{group_project_share:"/all#!/group"},community:{group_discuss:"/ds#!/"+t},userPage:{my_group:"/"+e.username+"#!/group"}},e.student={learn:{study_lesson:"/tt#!/group/lecture/list"},share:{group_project_share:"/all#!/group"},community:{group_discuss:"/ds#!/"+t},userPage:{my_group:"/"+e.username+"#!/group"}},e.member=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({userPage:{my_group:"/"+e.username+"#!/group"},learn:{study_lesson:"/tt#!/group/lecture/list"},share:{group_project_share:"/all#!/group"},community:{group_discuss:"/ds#!/"+t}},"userPage",{my_group:"/"+e.username+"#!/group"}),e.default={learn:{study_lesson:""},make:{make_open_lecture:"",make_group:""},share:{group_project_share:""},community:{group_discuss:""}},!s||s.primaryGroup||"member"!=s.role&&"teacher"!=s.role||(delete e[s.role].share.group_project_share,delete e[s.role].community.group_discuss,delete e[s.role].learn.study_lesson),s){e.role={};var n="";"student"==s.role||window.user.primaryGroup||delete e.member.learn.study_lesson,"teacher"==s.role&&(e.menu.make.make_open_lecture="/tt#!/custom/lecture/build"),"student"!=s.role&&"member"!=s.role||null==s.primaryGroup&&delete e.menu.community.group_discuss,"member"==s.role?r({method:"GET",url:"/api/groupInfo/"+window.user._id}).success((function(t,r){n=l(t)?"student":"member",e.role=e[n],e.menu.userPage=e.userMenu})):(n=s.role,e.role=e[n],e.menu.userPage=e.userMenu)}else e.role=e.default;s&&(s.language=o.get("lang"))},e.currentMenu=function(){var t=window.location.pathname;for(var r in window.location.hash,e.path)for(var n=e.path[r],o=0;o<n.length;o++)if(t==n[o])return r}(),e.go=function(t,r){if(e.headerContentShow=!1,t){var n=window.location;"group_discuss"===r&&(t="/ds#!/"+window.user.primaryGroup),n.href=t,n.pathname+n.hash===t&&window.location.reload()}else{for(var o in e.default){var u=Object.keys(e.default[o]);for(var a in u)if(u[a]===r){var c=o;break}if(c)break}var i=Object.keys(e.member);e.showPopup(),i.indexOf(c)>-1?e.menuAlertMessage=Lang.Menus.login_needed:e.menuAlertMessage=Lang.Menus.login_as_teacher}},e.getGroups=function(){var e="/api/group/find/"+s._id;r({method:"GET",url:e}).success((function(e,t){if(e.primary)return e.group._id}))},e.showSignUp=function(){$.event.trigger({type:"showSignUp"})},e.showLogin=function(e){$.event.trigger({type:"showLogin"})},e.updateUser=function(){u.update(e.global.user._id)},e.setLanguage=function(t){e.global.user.language=t;var r=n.absUrl();window.location.href=r+"?lang="+t};var l=function(e){if(e.length<=0)return!1;for(var t=0;t<e.length;t++)if(e[t].primary&&e[t].group)return!0;return!1};e.goContents=function(r){return"/#!/"===r&&"/"===window.location.pathname?window.location.hash="#!/":!!e.headerContentShow&&("/out"==r&&t.resetCpartySession(),void(window.location.href=r))},e.hidePopup=function(t){e.menuAlertPopup=!1;var r=$(".headerPopupWrapper");$("body").eq(0),r.css("display","none"),$.event.trigger({type:"hidePopup"}),t&&e.showLogin()},e.showPopup=function(){e.menuAlertPopup=!0;var t=$(".headerPopupWrapper"),r=$("body").eq(0);t.css("top",r.scrollTop()+"px"),t.css("display","block")},e.goIndex=function(){window.location.href="/"},e.signout=function(){t.resetUserWorkspace(),window.location.href="/"}}])},292:function(e,t,r){"use strict";angular.module("mean.common").factory("Feedback",["$resource","Global",function(e,t){return e("/api/feedback/:feedbackId",{feedbackId:"@_id"},{query:{method:"GET",headers:{"csrf-token":t.csrfToken()}},update:{method:"PUT",headers:{"csrf-token":t.csrfToken()}},save:{method:"POST",headers:{"csrf-token":t.csrfToken()}},remove:{method:"DELETE",headers:{"csrf-token":t.csrfToken()}}})}]),angular.module("mean.common").factory("FeedbackPaged",["$resource","Global",function(e,t){return e("/api/feedbackPaged/:page",{page:"@page"},{query:{method:"GET",headers:{"csrf-token":t.csrfToken()}}})}])},293:function(e,t,r){"use strict";angular.module("mean.common").controller("ReportController",["$scope","Global","$http","$location","$cookies","Users","Feedback","$route",function(e,t,r,n,o,u,a,c){e.global=t,e.report={},c.current,e.init=function(){$(document).on("popupReport",e.popupReport)},e.goProjectTerm=function(){var e=o.get("lang")?o.get("lang"):"";window.location.href="/#!/terms/project/".concat(e)},e.isLang=t.isLang,e.popupReport=function(t){e.info=t.info;var n=e.info.commentId||e.info.comment;n&&(e.info.commentId=n,r.get("/api/comment/".concat(n)).success((function(t,r){e.original=t})));var o=$("#reportProject"),u=$("body").eq(0),a=$(document);"".concat(a.scrollTop(),"px"),o.css("display","block"),u.css("overflow","scroll")},e.hideReport=function(){var t=$("#reportProject"),r=$("body");t.css("display","none"),r.css("overflow","auto"),$(".reportCause").prop("checked",!1),e.report={}},e.saveReport=function(){e.report.cause="";var t=$(".reportCause"),r=[];for(var n in t){if(t[n].checked&&(r.push(t[n].value),"기타"==t[n].value&&!$(".etcTextArea").val()))return void entrylms.alert(Lang.Menus.enter_content);n++}if(e.report.cause=r.join(", "),e.report.cause){var o=null;e.info.project&&(o={_id:e.info.project._id,username:e.info.project.user.username,group:e.info.group});var u=null;e.info.lecture&&(u={_id:e.info.lecture._id,username:e.info.lecture.user.username});var c=new a({title:e.report.cause,cause:e.report.cause,content:e.report.content,email:e.report.email,category:e.info.type,project:o,lecture:u,course:e.info.course,discuss:e.info.discuss,comment:e.info.commentId,study:e.info.study,url:window.location.href});e.original&&(c.original=e.original.content),c.$save((function(){e.hideSuccessReport(),e.hideReport();var t=$("#reportProjectSuccessWrapper"),r=.2*$(window).height();t.css("display","block"),t.children().css("top",r)}),(function(e){403==e.status?entrylms.alert(Lang.Msgs.feedback_duplicated):entrylms.alert(Lang.Msgs.feedback_too_many_post)}))}else entrylms.alert(Lang.Menus.check_one_more)},e.hideSuccessReport=function(){$("#reportProjectSuccessWrapper").css("display","none"),$("body").css("overflow","auto")},e.isCauseChecked=function(e){return $(".reportCause")[e].checked},e.causeCheckbox=function(e){var t=$(".reportCause")[e];t.checked?t.checked=!1:t.checked=!0}}])},294:function(e,t){e.exports='<div style="margin:-30px 0 -20px 0;overflow:hidden"> <p> <span>엔트리 사용자 여러분.</span> <span>여러분은 엔트리뿐 아니라 아름다운 인터넷 세상을 만드는 주인공이자 디지털 시민입니다.</span> <span></span> <span>여러분의 사랑으로 엔트리는 이제 여러 나라의 많은 사용자가 함께하는 서비스가 되었습니다.</span> <span>엔트리 사용자 모두가 인터넷 윤리를 지키고 다른 나라, 다른 문화를 배려하는 회원이 되기 위해</span> <span>아직 작품/게시물 공유 원칙을 잘 모르는 엔트리 사용자가 있다면 다음의 원칙을 친절하게 알려주세요.</span> </p><div style="margin:-15px 0 0 10px"> <span>● 다른 사용자를 비방하거나 인터넷 윤리에 어긋나는 작품, 게시글 올리지 않기</span> <span>● 저작권과 초상권 뿐 아니라 다른 사용자의 개인정보도 소중하게 여기기</span> <span>● 여러 다른 나라, 다른 문화의 사용자도 배려하는 엔트리 사용자 되기</span> </div> <span>자세한 작품, 게시물 공유 원칙은 다음을 확인하세요.</span> <span></span> <span>1. 윤리지침</span> <div style="margin:-15px 0 0 10px"> <span>1.1. 범죄 행위를 조장하는 경우</span> <span>1.2. 폭력, 잔혹물, 혐오물, 학대, 선정적인 게시물</span> <span>1.3. 음주, 흡연을 조장하거나 폭음, 불법 약물 복용 행위 등을 묘사하는 경우</span> <span>1.4. 불법 무기를 현실적으로 묘사하거나 이러한 무기의 사용을 조장하는 경우</span> <span>1.5. 스팸, 피싱 등을 목적으로 하는 경우</span> <span>1.6. 해킹, 바이러스, 악성코드 게시물</span> <span>1.7. 살인, 총기 및 도검류로 사람이나 동물에 대한 위해 행위를 실제 사진을 통해 묘사하는 경우</span> <span>1.8. 특정 국적 소유자, 인물, 법인, 집단에 대한 비방이나, 폄훼, 공격으로 해석될 수 있는 경우</span> <span>1.9. 특정 국가와 분쟁 중이거나 가능성이 있는 민감 사안이 포함된 경우 (역사, 지리 등의 분쟁 사안)</span> <span>1.10. 특정 국적 소유자, 종교, 문화, 집단에 대한 공격으로 해석되거나 이들에게 불쾌감을 유발할 소지가 있는 경우</span> <span>1.11. 과도하게 공격적이거나 저속한 이미지가 포함된 경우</span> <span>1.12. 사용자에게 혐오감을 유발하도록 제작된 경우</span> <span>1.13. 사용자의 비밀번호나 기타 개인 데이터 수집을 시도하는 경우</span> <span>1.14. 자살, 자해, 약물 남용 등을 조장하는 경우</span> <span>1.15. 왕따 행위를 유발 또는 조장하는 경우</span> <span>1.16. 차별을 조장하거나 조장할 소지가 있는 경우에도</span> <span>1.17. 청소년 가출, 자살을 부추기는 게시물</span> <span>1.18. 학교폭력을 미화하거나 조장하는 내용이 포함된 게시물</span> <span>1.19. 미성년자 구입 불가 제품에 대한 구매정보가 포함된 게시물</span> <span>1.20. 청소년 범죄정보가 포함된 게시물</span> <span>1.21. 미성년자 출입금지 업소 관련 게시물</span> <span>1.22. 기타 타인에게 불안감을 조성할 수 있는 반사회적 내용을 묘사하는 경우</span> </div> <span>2. 사업, 광고 및 기타 가이드라인</span> <div style="margin:-15px 0 0 10px"> <span>2.1. 특정 제품, 서비스에 대한 근거 없는 비방 및 악의적인 게시물</span> </div> <span>3. 권리 및 법적 가이드라인</span> <div style="margin:-15px 0 0 10px"> <span>1. 저작권 보호</span> <span>사람의 생각이나 감정을 표현한 창작물을 저작물이라고 하며</span> <span>자신이 창작한 저작물에 대해서 갖는 권리를 저작권이라고 합니다.</span> <span>​2. 개인정보 보호</span> <span>생존하는 개인에 관한 정보로 특정한 개인을 알아볼 수 있는 부호, 문자, 음성, 음향 및 영상등의 정보를 말합니다.</span> <span>해당 정보만으로는 특정 개인을 알아볼 수 없어도 다른 정보와 쉽게 결합하여 알아볼 수 있는 경우 개인정보에 해당합니다.</span> <span>인터넷상에 공개된 개인정보는 위/변조, 오남용이 쉽고 확산이 빠르며 사생활 침해, 협박 등문제를 발생시킬 수 있습니다.</span> <span></span> <span>3.1. 제3자의 상표권, 저작권, 특허권을 침해하거나 제3자의 사용조건을 위배하는 이미지를 사용하는 경우</span> <span>3.2. 저작권 소유자가 명확하지 않은 콘텐츠를 사용하는 경우</span> <span>3.3. 타인의 초상권을 침해하는 경우(예: 캐리커처, 상대방의 동의 없이 촬영한 얼굴 사진 등)</span> <span>3.4. 저작권 소유자가 사용을 명시적으로 허가하지 않은 내용이 포함된 경우</span> <span>3.5. 엔트리 서비스가 제공되는 지역의 법을 준수하지 않거나 제3자의 권리 또는 이익을 침해하는 경우</span> <span>3.6. 특정 개인 또는 제3자의 정보를 공개하거나 공개할 가능성이 있는 경우</span> </div> <span>엔트리는 상기 가이드라인에 해당하지 않는 경우에도, 부적절하다고 판단되는 작품, 게시물의 게시를 제한, 중단, 변경, 종료할 수 있습니다.</span> <span>또한 계속된 위반이 발견될 경우 해당 사용자에 대한 사용 정지, IP 차단등의 제재가 이뤄질수도 있습니다.</span> <span>이는 엔트리에 신고 문의가 들어와 엔트리가 부적절하다고 판단한 작품, 게시물도 동일합니다.</span> <span></span> <span>적용일 : 2019년 11월 28일</span> <p></p> </div>'},295:function(e,t){e.exports='<div style="margin:-30px 0 -30px 0;overflow:hidden"> <p> <span>Dear Entry user.</span> <span>You are not only for Entry but a hero and a digital citizen for a beautiful Internet world.</span> <span>With your love, Entry is now a service with many users from many countries.</span> <span></span> <span>To ensure that all of our Entry users are members of the Internet ethic and consider other countries and cultures, if you have an entry user who is not yet familiar with the principles of sharing projects/posts,</span> <span>please kindly share the following principles:</span> </p><div style="margin:-15px 0 0 10px"> <span>● Not posting anything that slander others or violates your internet ethics.</span> <span>● Valuing other users\' personal information as well as copyright and portrait rights.</span> <span>● Becoming an Entry user who considers users from different countries and cultures.</span> </div> <span>Check out the following for details how to share projects and posts:</span> <span></span> <span>1. Ethical Guidelines</span> <div style="margin:-15px 0 0 10px"> <span>1.1. Encourage criminal activity</span> <span>1.2. Violence, Cruelty, Hate, Abuse, Sexual Posts</span> <span>1.3. Portrays drinking, smoking, binge drinking, illegal drug use, etc.</span> <span>1.4. Realistically depicts illegal weapons or encourages their use</span> <span>1.5. For the purpose of spam, phishing, etc.</span> <span>1.6. Hacking, Virus, Malware Posts</span> <span>1.7. Real-life photos depicting harm to a person or animal with murder, firearms and swords</span> <span>1.8. When it can be interpreted as slander, vandalism or attack on a specific nationality owner, person, corporation or group</span> <span>1.9. Conflicts with, or potential to include, specific countries (conflicts of history, geography, etc.)</span> <span>1.10. Interpreted as an attack on a specific nationality owner, religion, culture or group, or that may be offensive to them</span> <span>1.11. Contains excessively aggressive or vulgar images</span> <span>1.12. If it\'s designed to disgust users</span> <span>1.13. Attempt to collect a user\'s password or other personal data</span> <span>1.14. Promotes suicide, self-harm, drug abuse, etc.</span> <span>1.15. Triggers or encourages bullying</span> <span>1.16. If there is or is likely to encourage discrimination</span> <span>1.17. Juvenile Runaway, Suicidal Posts</span> <span>1.18. Posts that glorify or promote school violence</span> <span>1.19. Posts with purchase information for products not available for purchase by minors</span> <span>1.20. Posts containing youth crime information</span> <span>1.21. Posts related to minors</span> <span>1.22. Describes other antisocial content that may create anxiety for others</span> </div> <span>2. Business, Advertising and Other Guidelines</span> <div style="margin:-15px 0 0 10px"> <span>2.1. Unfounded slurs and malicious posts about certain products or services</span> </div> <span>3. Rights and Legal Guidelines</span> <div style="margin:-15px 0 0 10px"> <span>1. Copyright</span> <span>A work that expresses a person\'s thoughts or feelings is called a work.</span> <span>The rights you have for a work you create are called copyrights.</span> <span>​2. Privacy</span> <span>Information about a surviving individual, such as code, text, voice, sound, and video that identifies a specific individual.</span> <span>If the information alone does not identify a particular individual, but can be easily combined with other information, this is personal information.</span> <span>Personal information disclosed on the Internet can be easily forged, altered, misused, spread quickly, and cause problems such as invasion of privacy and intimidation.</span> <span></span> <span>3.1. If you use an image that infringes on a third party\'s trademark, copyright, patent, or violates the third party\'s terms of use</span> <span>3.2. If the copyright owner uses unclear content</span> <span>3.3. Infringes on the portrait rights of others (e.g., caricatures, photographs of faces taken without their consent)</span> <span>3.4. Contains content that the copyright owner has not explicitly authorized for use</span> <span>3.5. Does not comply with the laws of the region where the Entry service is provided or violates the rights or interests of</span> <span>3.6. When we may or may disclose information about a specific person or third party</span> </div> <span>Entry may restrict, suspend, change, or terminate the publication of projects or posts that are deemed inappropriate, even if they do not fall within the above guidelines.</span> <span>In addition, in the event of continued violations, sanctions may be imposed against the user, such as blocking the IP.</span> <span>This is the same for projects and posts where a report inquiry is made to an Entry and Entry is considered inappropriate.</span> <span></span> <span>Applicable date: November 28, 2019</span> <p></p> </div>'},321:function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function i(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,u=Object.create(o.prototype),a=new A(n||[]);return u._invoke=function(e,t,r){var n=l;return function(o,u){if(n===d)throw new Error("Generator is already running");if(n===g){if("throw"===o)throw u;return P()}for(r.method=o,r.arg=u;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var i=s(e,t,r);if("normal"===i.type){if(n=r.done?g:p,i.arg===m)continue;return{value:i.arg,done:r.done}}"throw"===i.type&&(n=g,r.method="throw",r.arg=i.arg)}}}(e,r,a),u}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=i;var l="suspendedStart",p="suspendedYield",d="executing",g="completed",m={};function f(){}function h(){}function v(){}var E={};E[u]=function(){return this};var b=Object.getPrototypeOf,y=b&&b(b(T([])));y&&y!==r&&n.call(y,u)&&(E=y);var L=v.prototype=f.prototype=Object.create(E);function w(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function C(e){var t;this._invoke=function(r,o){function u(){return new Promise((function(t,u){!function t(r,o,u,a){var c=s(e[r],e,o);if("throw"!==c.type){var i=c.arg,l=i.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,u,a)}),(function(e){t("throw",e,u,a)})):Promise.resolve(l).then((function(e){i.value=e,u(i)}),(function(e){return t("throw",e,u,a)}))}a(c.arg)}(r,o,t,u)}))}return t=t?t.then(u,u):u()}}function _(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=s(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var u=o.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function B(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(e){if(e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return h.prototype=L.constructor=v,v.constructor=h,v[c]=h.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(L),e},e.awrap=function(e){return{__await:e}},w(C.prototype),C.prototype[a]=function(){return this},e.AsyncIterator=C,e.async=function(t,r,n,o){var u=new C(i(t,r,n,o));return e.isGeneratorFunction(r)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},w(L),L[c]="Generator",L[u]=function(){return this},L.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(B),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var u=this.tryEntries.length-1;u>=0;--u){var a=this.tryEntries[u],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var i=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(i&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var u=o;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var a=u?u.completion:{};return a.type=e,a.arg=t,u?(this.method="next",this.next=u.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),B(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;B(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:T(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},322:function(e,t,r){"use strict";angular.module("mean.common").factory("Comments",["$resource","Global",function(e,t){return e("/api/comment/:commentId",{commentId:"@_id"},{update:{method:"PUT",headers:{"csrf-token":t.csrfToken()}},save:{method:"POST",headers:{"csrf-token":t.csrfToken()}},remove:{method:"DELETE",headers:{"csrf-token":t.csrfToken()}}})}])},505:function(e,t,r){e.exports=r(666)},510:function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},511:function(e,t,r){"use strict";var n=r(8);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var u;if(r)u=r(t);else if(n.isURLSearchParams(t))u=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),u=a.join("&")}if(u){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+u}return e}},512:function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},513:function(e,t,r){"use strict";(function(t){var n=r(8),o=r(671),u={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=r(514):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(e=r(514)),e}(),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(u)})),e.exports=c}).call(this,r(581))},514:function(e,t,r){"use strict";var n=r(8),o=r(672),u=r(511),a=r(674),c=r(677),i=r(678),s=r(515);e.exports=function(e){return new Promise((function(t,l){var p=e.data,d=e.headers;n.isFormData(p)&&delete d["Content-Type"];var g=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",f=e.auth.password||"";d.Authorization="Basic "+btoa(m+":"+f)}var h=a(e.baseURL,e.url);if(g.open(e.method.toUpperCase(),u(h,e.params,e.paramsSerializer),!0),g.timeout=e.timeout,g.onreadystatechange=function(){if(g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in g?c(g.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:e,request:g};o(t,l,n),g=null}},g.onabort=function(){g&&(l(s("Request aborted",e,"ECONNABORTED",g)),g=null)},g.onerror=function(){l(s("Network Error",e,null,g)),g=null},g.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(s(t,e,"ECONNABORTED",g)),g=null},n.isStandardBrowserEnv()){var v=r(679),E=(e.withCredentials||i(h))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;E&&(d[e.xsrfHeaderName]=E)}if("setRequestHeader"in g&&n.forEach(d,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete d[t]:g.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(g.withCredentials=!!e.withCredentials),e.responseType)try{g.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&g.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&g.upload&&g.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){g&&(g.abort(),l(e),g=null)})),void 0===p&&(p=null),g.send(p)}))}},515:function(e,t,r){"use strict";var n=r(673);e.exports=function(e,t,r,o,u){var a=new Error(e);return n(a,t,r,o,u)}},516:function(e,t,r){"use strict";var n=r(8);e.exports=function(e,t){t=t||{};var r={},o=["url","method","params","data"],u=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(o,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(u,(function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])})),n.forEach(a,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var c=o.concat(u).concat(a),i=Object.keys(t).filter((function(e){return-1===c.indexOf(e)}));return n.forEach(i,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},517:function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},581:function(e,t){var r,n,o=e.exports={};function u(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===u||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:u}catch(e){r=u}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var i,s=[],l=!1,p=-1;function d(){l&&i&&(l=!1,i.length?s=i.concat(s):p=-1,s.length&&g())}function g(){if(!l){var e=c(d);l=!0;for(var t=s.length;t;){for(i=s,s=[];++p<t;)i&&i[p].run();p=-1,t=s.length}i=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new m(e,t)),1!==s.length||l||c(g)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=f,o.addListener=f,o.once=f,o.off=f,o.removeListener=f,o.removeAllListeners=f,o.emit=f,o.prependListener=f,o.prependOnceListener=f,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},6:function(e,t,r){e.exports=r(321)},658:function(e,t){angular.module("mean.index").controller("IndexController",["$scope","Global","$http","localStorageService","$interval","$location","$route","$cookies","$routeParams",function(e,t,r,n,o,u,a,c,i){e.global=t,e.nextCarousel=function(){$(".carousel").carousel("next")},e.prevCarousel=function(){$(".carousel").carousel("prev")},e.recommendedData=[{grade:Lang.Menus.all_grade,title:Lang.Menus.entry_first_step,url:"/course#!/59018df41f4f9d9b391c59d9"},{grade:Lang.Menus.grade_e3_e4,title:Lang.Menus.main_entry_starter,url:"/tt#!/custom/curriculum/view/593f8f4ae8557a9b90551f07"},{grade:Lang.Menus.grade_e5_e6,title:Lang.Menus.main_entry_booster,url:"/tt#!/custom/curriculum/view/5a39e99513e41c26deec9190"},{grade:Lang.Menus.m1_to_m3,title:Lang.Menus.main_entry_master,url:"/tt#!/custom/curriculum/view/591ea4ca0af1623767b8dd01"}],e.windowPath="https://www.playentry.org/apps/Entry_HW_1.6.12_Setup.exe",e.osxPath="https://www.playentry.org/apps/Entry_HW-1.6.12.dmg";var s=window.location.hash.split("=")[0],l=window.user;s.indexOf("successWithdraw")>-1&&!l?(entrylms.alert("회원탈퇴 신청이 완료 되었습니다."),window.location.hash=""):s.indexOf("login")>-1&&($.event.trigger({type:"showLogin"}),window.location.hash=""),e.downloadHw=function(){var t;t="MacIntel"===navigator.platform?e.osxPath:e.windowPath,window.open(t,"_blank").focus()},e.langType=function(e){return Lang.type==e},e.changeLang=function(e){c.put("lang",e),window.scrollY&&window.scroll(0,0),window.location.reload()},e.footerNextCarousel=function(){$(".footerCarousel").carousel("next")},e.footerPrevCarousel=function(){$(".footerCarousel").carousel("prev")},e.hideBanner=function(){var t=new Date;e.bannerShow=!1,c.put("banner",t.getTime())},e.goCourse=function(e){location.href=e.url},e.go=function(e){-1!=e.indexOf("http")?window.open(e):location.href=e},e.indexInit=function(){"/login_from_netffice"==window.location.pathname&&e.handleNetfficeLogin(),r({method:"GET",url:"/api/rankProject?type=staff&limit=3"}).success((function(t,r){e.staffPicks=[];for(var n=0,o=t.length;n<o;n++)e.staffPicks.push(t[n].project)})).error((function(e,t){console.log(e)})),r({method:"GET",url:"/api/rankProject?type=best&limit=9"}).success((function(t,r){e.bestProjects=[];for(var n=0,o=t.length;n<o;n++)e.bestProjects.push(t[n].project)})).error((function(e,t){console.log(e)})),"true"!=i.showLogin||window.user?window.user&&u.search(""):setTimeout((function(){$.event.trigger({type:"showLogin"})}))},$(".carousel").carousel({interval:5e3}),e.handleNetfficeLogin=function(){window.netfficeUserId&&(window.user?window.location.href="/":setTimeout((function(){$.event.trigger({type:"showSignUp"})})))},e.Lang=Lang,e.playVideo=!1,e.replay=function(){e.playVideo=!0},e.closeVideo=function(){e.playVideo=!1}}]),angular.module("mean.index").controller("FindPasswordController",["$scope","$http","util","Global",function(e,t,r,n){window.user?window.location.href="/":(e.showSignUp=function(){$.event.trigger({type:"showSignUp"})},e.checkSubmit=function(){var e=document.getElementById("passwordEmail").value;r.isValidEmail(e)?$.ajax({headers:{"limit-type":"email"},url:"/api/users/findByEmail/"+e,type:"GET",success:function(e){"empty"!==e.isExist?e.isEmailAuth?$.ajax({url:"/pw",data:{sendEmail:e.email},type:"POST",headers:{"csrf-token":n.csrfToken()},success:function(){entrylms.alert(Lang.Users.reset_password_mail_sent)},error:function(){entrylms.alert(Lang.Users.email_send_failed)}}):entrylms.alert(Lang.Users.email_not_verified,void 0,{positiveButtonText:Lang.Menus.verifying_email}).one("click",(function(t){"ok"===t&&new Promise((function(t){var r=e.username,n=e.email;r.length>1?new entrylms.Modal({type:"USER_SELECT_LIST",list:r}).one("click",(function(e,r){"ok"===e&&r&&t({email:n,username:r})})).show():t({email:n,username:r})})).then((function(e){var t=e.email,r=e.username;$.ajax({url:"/emailAuthWithUsername",data:{email:t,username:r},type:"POST",headers:{"csrf-token":n.csrfToken()},success:function(){entrylms.alert(Lang.Users.verification_email_send_complete)},error:function(){entrylms.alert(Lang.Users.email_send_failed)}})}))})):entrylms.alert(Lang.Users.email_not_exist)},error:function(e,t,r){509===e.status?entrylms.alert(Lang.Menus.contents_abuse_detected_10):entrylms.alert(Lang.Menus.find_not_your_email)}}):entrylms.alert(Lang.Users.not_valid_email)})}]),angular.module("mean.index").controller("UpdatePasswordController",["$scope","Global","$http",function(e,t,r){e.updating=!1,e.updateInit=function(){e.checkList={passwordLength:!0},e.username=username,e.hashedValue=hashedValue},e.checkPasswordLength=function(){jQuery("#password1")[0].value.length>=5?e.checkList.passwordLength=!0:e.checkList.passwordLength=!1},e.checkIsSamePassword=function(){var t=jQuery("#password1")[0].value,r=jQuery("#passwordConfirm")[0].value;e.checkList.samePassword=t===r},e.updateSubmit=function(){if(!e.updating){if(e.updating=!0,!e.checkList.passwordLength)return e.updating=!1,void entrylms.alert("5자 이상의 영문/숫자 등을 조합하세요.");if(!e.checkList.samePassword)return e.updating=!1,void entrylms.alert("같은 비밀번호를 입력하세요");r.post("/cw",{password1:document.getElementById("password1").value,hashedValue:hashedValue},{headers:{"csrf-token":t.csrfToken()}}).then((function(e){200===e.status&&(window.location.href="/")}),(function(t){e.updating=!1,t&&entrylms.alert("새로운 비밀번호를 입력해주세요.")}))}}}]),angular.module("mean.index").controller("SignupController",["$scope","Global","$http",function(e,t,r){e.signup=function(){e.checkList={userNameDup:!0,emailForm:!0,emailDup:!0,passwordLength:!0,samePassword:!0,terms:!1,userNameLength:!0}},e.checkEmailReg=function(){var t=jQuery("#email").val();if(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t))e.checkList.emailForm=!0;else{if(""==t)return void(e.checkList.emailForm=!0);e.checkList.emailForm=!1}e.checkEmailDup()},e.checkEmailDup=function(){var t=jQuery("#email").val();r({method:"GET",url:"/api/checkEmailDup/"+t}).success((function(t,r){"exist"==t.isExist?e.checkList.emailDup=!1:e.checkList.emailDup=!0})).error((function(t,r){e.data="0",e.status=r}))},e.checkUserName=function(){var t=jQuery("#username").val();/^([a-zA-Z0-9_\.\-\%]{4,20})$/.test(t)?(e.checkList.userNameLength=!0,r({method:"GET",url:"/api/checkUserName/"+t}).success((function(t,r){"exist"==t.isExist?e.checkList.userNameDup=!1:e.checkList.userNameDup=!0})).error((function(t,r){e.data="0",e.status=r}))):e.checkList.userNameLength=!1},e.checkPasswordLength=function(){jQuery("#password1").val().length>=5?e.checkList.passwordLength=!0:e.checkList.passwordLength=!1},e.checkPasswordIsSame=function(){var t=jQuery("#password1").val(),r=jQuery("#password2").val();e.checkList.samePassword=t===r},e.reverseTemrs=function(){e.checkList.terms=!e.checkList.terms},e.checkAll=function(){var t=e.checkList;for(var r in t)if(!t[r])return void entrylms.alert("양식을 바르게 입력해 주세요");t=jQuery("#form input");for(var n=0;n<t.length;n++)if(1!=n&&""==t[n].value)return void entrylms.alert("모든 양식을 완성해 주세요");for(t=jQuery("#form select"),n=0;n<t.length;n++)if(""==t[n].value)return void entrylms.alert("모든 양식을 완성해 주세요");jQuery(".fixed_cover").attr("class","fixed_cover fixed_cover_on"),jQuery(".fixed_loading").attr("class","fixed_loading fixed_loading_on"),jQuery("#form").submit()},e.resetClass=function(){for(var e=jQuery(".signup_wrapper .signup_inner .form_wrapper #form .form_row .form_row_child .form_input input"),t=0;t<4;t++)e[t].parentNode.className="form_input"},e.addClass=function(t){t.stopPropagation(),e.resetClass(),t.target.parentNode.className="form_input form_input_selected"},e.dropdownLogin=function(){jQuery(".dropdown-menu-login").toggle()}}]),angular.module("mean.index").controller("AboutEntryController",["$scope","Global","$http","$location","$cookies",function(e,t,r,n,o){e.global=t,e.progress={unplugged:!0,algorithm:!1,language:!1,physical:!1},e.showTab=[];var u="/img/assets/about/",a=Lang.Menus;e.footerButtons={post:{img:u+"footer_post.png",link:"http://post.naver.com/my.nhn?memberNo=25082732",name:a.Entry+" "+a.post,style:{border:"solid 1px #009a23",color:"#1fac1c"}},youtube:{img:u+"footer_youtube.png",link:"https://www.youtube.com/c/엔트리playentry",name:a.about_entry_pre+" "+a.about_youtube,style:{border:"solid 1px #bf0d0d",color:"#f80000"}},facebook:{img:u+"footer_facebook.png",link:"https://www.facebook.com/playentry",name:a.about_entry_pre+" "+a.about_facebook,style:{border:"solid 1px #002165",color:"#395693"}}};var c=[Entry.Roboid];e.init=function(){var t=_.uniq(_.values(Entry.HARDWARE_LIST)),r=_.difference(t,c);r=_.sortBy(r,(function(e){return e.nameByLang=e.title[Lang.type],e.title.ko.toLowerCase()})),e.hardwareModal=new entrylms.Modal({type:"HARDWARE_LIST",title:Lang.Menus.viewSupporHw,content:r,mode:"VIEWER"})},e.studyProgress=function(t){for(var r in e.progress)e.progress[r]=!1;e.progress[t]=!e.progress[t]},e.supportHwVideo=function(){window.open("https://www.youtube.com/playlist?list=PL1MmzjHRn4toHrZwUCz01dl2nU8nau_2o","_blank")},e.supportHwPopup=function(){e.hardwareModal&&e.hardwareModal.show()},e.isLang=function(e){return o.get("lang")==e},e.replay=function(){e.playVideo=!0},e.closeVideo=function(){e.playVideo=!1}}]),angular.module("mean.index").controller("joinController",["$scope","Global","$http",function(e,t,r){e.global=t}]),angular.module("mean.index").controller("TermsController",["$scope","Global","$http",function(e,t,r){e.init=function(){$("html,body").scrollTop(0)},e.global=t,e.showPic=!1,e.togglePic=function(){e.showPic=!e.showPic}}]),angular.module("mean.index").controller("OfflineEditorController",["$scope","Global","$http","$location","$routeParams",function(e,t,r,n,o){function u(){e.appList=[],r.get("/api/admin/getListForApps?rows=5&category=offline&isPublish=true&page="+e.currentPage).success((function(t){t.forEach((function(t){var r=[];e.appOrder.forEach((function(e){if(t.apps[e]){var n=t.apps[e];n.key=e,r.push(n)}})),e.appList.push({version:t.version,category:t.category,releaseDate:t.releaseDate,apps:r})}))}))}e.currentPage=1,e.commentCount=0,e.init=function(){e.latestApp,e.latestHwApp,e.sizeText="",e.appList=[],e.appOrder=["win32_x86","win32_x64","darwin"],e.latestAppInfo={},e.sizeTempText={win32_x86:"Windows 32bit",win32_x64:"Windows 64bit",darwin:"Mac"},e.currentPage=o.page||"1",r.get("/api/admin/getCountForApps?isPublish=true&category=offline").success((function(t){e.commentCount=t.count})),r.get("/api/admin/getListForApps?rows=1&category=offline").success((function(t){e.latestApp=t[0],e.appOrder.forEach((function(t){var r=e.latestApp.apps[t];r&&(e.latestAppInfo[t]=r,e.sizeText+=e.sizeTempText[t]+" "+Math.ceil(r.filesize/1024/1024)+" MB, ")}))})),r.get("/api/admin/getListForApps?rows=1&category=hardware").success((function(t){e.latestHwApp=t[0];var r=e.latestHwApp.apps;e.latestHwApp.win32=r.win32_x86.filename,e.latestHwApp.darwin=r.darwin.filename})),u()},e.$on("$routeUpdate",(function(){e.currentPage=o.page||"1",u()})),e.setPage=function(e){n.search("page="+e)},e.checkDevice=function(e,t){var n;if("tablet"!==(window.platform.type?"tablet":null))var o=!0;else n=t?Lang.Menus.hardware_download_confirm:Lang.Menus.offline_download_confirm,o=window.confirm(n);if(o){var u="https://www.playentry.org/apps/"+e;r.get("/down/"+e).success((function(){window.location.href=u})).error((function(e){window.location.href=u}))}}}])},665:function(e,t){angular.module("mean.common").controller("ProjectsModalController",["$scope","$window","$uibModalInstance","Global","$http","$sce","parent",function(e,t,r,n,o,u,a){function c(t){e.projectList=[],!e.projectCount&&Number(t.count)>0&&(e.projectCountAll=Number(t.count)),e.projectCount=Number(t.count);var r=Number(t.skip),n=6*(e.page-1)-r,o=n+6;t.data.map((function(t,r){r>=n&&r<o&&e.projectList.push(t)})),e.generatePageList()}e.global=n,e.parent=a,e.userId=n.user._id,e.inputYoutubeUrl="",e.projectList=[],e.global=n,e.timestamp=(new Date).getTime(),e.selectedView="myProject",e.artCategories=EntryStatic.artCategories,e.sortOptions=EntryStatic.artSortOptions,e.periodOptions=EntryStatic.artPeriodOptions,e.conditions=[{name:"category",value:"",label:"모든주제"},{name:"sort",value:"updated",label:"최신순"},{name:"period",value:"",label:"전체"},{name:"rows",value:6},{name:"page",value:1},{name:"name",value:""}],e.status={isCategoryOpen:!1,isSortOpen:!1,isPeriodOpen:!1},e.init=function(){e.cachedResult={},e.conditions.push({name:"user",value:e.userId}),e.conditions.push({name:"type",value:"project"}),e.conditions.push({name:"isPracticalCourse",value:"false"}),e.conditions.push({name:"isopen",value:"",label:"공개/비공개 모두"}),e.selectView("myProject"),e.applyImages(),e.countFavorite()},e.getQueryParameters=function(e){var r=e||t.location.search;return r.length?r.replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0]:{}},e.setNewProject=function(){var r=e.getQueryParameters();t.location.href="/ws?"+encodeURI($.param(r))},e.selectView=function(t){e.projectList=[],e.selectedView=t,e.page=1,e.setOption({page:1},!0)},e.find=function(){if("myProject"===e.selectedView){var t=e.cachedResult,r=6*(e.page-1)+1;if(!t.data||r>t.data.length+t.skip){var n="/api/project/find?option=list&"+i();o({method:"GET",url:n}).success((function(t,r){e.cachedResult=t,c(e.cachedResult)})).error((function(t,r){e.status=r,c(e.cachedResult)}))}else c(t)}else"favorite"===e.selectedView&&(n="/api/user/favorites/"+e.userId+"?"+i(),o({method:"GET",url:n,params:{targetType:"individual",targetSubject:"project"}}).success((function(t){e.projectList=t})).error((function(t,r){e.status=r})),e.countFavorite())},e.countFavorite=function(){var t="/api/user/favoritesCount/"+e.userId+"?"+i();o({method:"GET",url:t,params:{targetType:"individual",targetSubject:"project"}}).success((function(t,r){!e.favoriteCount&&t.count>0&&(e.favoriteCountAll=t.count),e.favoriteCount=t.count,e.generatePageList()})).error((function(t,r){e.status=r}))},e.generatePageList=function(){var t;t="myProject"==e.selectedView?e.projectCount:e.favoriteCount,e.page=e.getOption("page").value;var r=Math.ceil(t/6),n=Math.ceil(e.page/10),o=1===n?1:10*n-9;r>o+9&&(r=o+9),e.pageList=[];for(var u=o;u<=r;u++)e.pageList.push(u)},e.setLastPage=function(){var t;t="myProject"==e.selectedView?e.projectCount:e.favoriteCount;var r=Math.ceil(t/6);e.setPage(r)},e.setPage=function(t){t<e.page&&(e.cachedResult={}),e.page=t,e.setOption({name:"page",value:t})},e.setOption=function(t,r){for(var n in"category"!==t.name&&"name"!==t.name||(t.value=encodeURIComponent(t.value)),e.conditions){var o=e.conditions[n];o.name===t.name&&(o.value=t.value,o.label=t.label),r&&"page"===o.name&&(e.cachedResult={},o.value=1)}e.find(),$.each(e.status,(function(t,r){e.status[t]=!1}))},e.getOption=function(t){for(var r=0,n=e.conditions.length;r<n;r++)if(e.conditions[r].name===t)return e.conditions[r]},e.getLang=function(t){var r,n,o=e.getOption(t),u=decodeURI(o.value);for(var a in"category"==t?n=e.artCategories:"sort"==t?n=e.sortOptions:"period"==t&&(n=e.periodOptions),n)if(n[a].key=="art_"+o.name+"_"+u){r=n[a];break}return r.lang};var i=function(){for(var t="",r=0,n=e.conditions.length;r<n;r++){var o=e.conditions[r];o.value&&""!=o.value&&(t+=o.name+"="+o.value,r<n-1&&(t+="&"))}return t};e.searchWord="",e.search=function(){var t=$("#projectSearchInput").val();e.setOption({name:"name",value:t},!0)},e.prevPage=function(){var t=Number(e.getOption("page").value);t||(t=1),t>1?e.setPage(t-1):entrylms.alert("처음 입니다.")},e.nextPage=function(){var t=Number(e.getOption("page").value);t||(t=1),("myProject"===e.selectedView?Math.ceil(e.projectCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)))>t?e.setPage(t+1):entrylms.alert("마지막 페이지 입니다.")},e.hasPrevPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"projectNavigationPre"},e.hasNextPage=function(){var t=Number(e.getOption("page").value);return t||(t=1),"myProject"===e.selectedView?Math.ceil(e.projectCount/Number(e.getOption("rows").value)):Math.ceil(e.favoriteCount/Number(e.getOption("rows").value)),"projectNavigationNext"},e.applyImages=function(){var t=e.userId;if(e.global.user.blogImage){var r="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/blog_"+t+".png?"+(new Date).getTime();$(".psListTopWrapper").css("background-image","url('"+r+"')")}else $(".psListTopWrapper").css("background-image","url('/img/assets/art/blog_basic_1.png')");if(e.global.user.avatarImage){var n="/uploads/profile/"+t.substring(0,2)+"/"+t.substring(2,4)+"/avatar_"+t+".png?"+(new Date).getTime();$(".psListInfoProfileThumb").attr("src",n),$(".psListTopThumb").attr("src",n)}else $(".psListInfoProfileThumb").attr("src","/img/assets/profile_basic.png"),$(".psListTopThumb").attr("src","/img/assets/profile_basic.png")},e.urlChange=function(){var t=document.getElementById("videoLink").value;if(t){var r=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);r&&11==r[7].length?e.video=r[7]:e.video=null}},e.trustUrl=function(e){return u.trustAsResourceUrl(e)},e.selectProject=function(t){e.selectedProject===t?e.selectedProject=null:e.selectedProject=t},e.cancel=function(){r.dismiss("cancel")},e.ok=function(){r.close({selectedItem:e.selectedProject})},e.dict={MENUS_LOAD:Lang.Menus.Load,MENUS_LECTURE_BUILD_YOUTUBE_URL:Lang.Menus.lecture_build_youtube_url,BUTTONS_CANCEL:Lang.Buttons.cancel}}])},666:function(e,t,r){"use strict";var n=r(8),o=r(510),u=r(667),a=r(516);function c(e){var t=new u(e),r=o(u.prototype.request,t);return n.extend(r,u.prototype,t),n.extend(r,t),r}var i=c(r(513));i.Axios=u,i.create=function(e){return c(a(i.defaults,e))},i.Cancel=r(517),i.CancelToken=r(680),i.isCancel=r(512),i.all=function(e){return Promise.all(e)},i.spread=r(681),e.exports=i,e.exports.default=i},667:function(e,t,r){"use strict";var n=r(8),o=r(511),u=r(668),a=r(669),c=r(516);function i(e){this.defaults=e,this.interceptors={request:new u,response:new u}}i.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},i.prototype.getUri=function(e){return e=c(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){i.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){i.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}})),e.exports=i},668:function(e,t,r){"use strict";var n=r(8);function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},669:function(e,t,r){"use strict";var n=r(8),o=r(670),u=r(512),a=r(513);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return u(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},670:function(e,t,r){"use strict";var n=r(8);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},671:function(e,t,r){"use strict";var n=r(8);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},672:function(e,t,r){"use strict";var n=r(515);e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},673:function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},674:function(e,t,r){"use strict";var n=r(675),o=r(676);e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},675:function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},676:function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},677:function(e,t,r){"use strict";var n=r(8),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,u,a={};return e?(n.forEach(e.split("\n"),(function(e){if(u=e.indexOf(":"),t=n.trim(e.substr(0,u)).toLowerCase(),r=n.trim(e.substr(u+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},678:function(e,t,r){"use strict";var n=r(8);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},679:function(e,t,r){"use strict";var n=r(8);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,u,a){var c=[];c.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),n.isString(o)&&c.push("path="+o),n.isString(u)&&c.push("domain="+u),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},680:function(e,t,r){"use strict";var n=r(517);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},681:function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},8:function(e,t,r){"use strict";var n=r(510),o=Object.prototype.toString;function u(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function c(e){return null!==e&&"object"==typeof e}function i(e){return"[object Function]"===o.call(e)}function s(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:u,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:i,isStream:function(e){return c(e)&&i(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:s,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)s(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)s(arguments[n],r);return t},extend:function(e,t,r){return s(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}}});